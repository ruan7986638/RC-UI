
<ui>
	<css name="$TextMouseDisable">
		<mouseChildren value="false"/>
		<selectable value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$MouseEnable">
		<hitTest value="true"/>
		<mouseChildren value="true"/>
		<mouseEnabled value="true"/>
	</css>
	<css name="$FontFamilyDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontFamilyDefaultBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$Bold">
		<fontFamily value="$WWSDefaultFontBold"/>
	</css>
	<css name="$FontColorDefault">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorGrey">
		<textColor value="0xDDDDDD"/>
	</css>
	<css name="$FontColorStrongGrey">
		<textColor value="0x636363"/>
	</css>
	<css name="$FontColorWhite">
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$FontColorBlueish">
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$FontColorStrongBlueish">
		<textColor value="0x758b8b"/>
	</css>
	<css name="$FontColorDarkBlueish">
		<textColor value="0x2B393A"/>
	</css>
	<css name="$FontColorSpecialButton">
		<textColor value="0xFFE8D3"/>
	</css>
	<css name="$FontColorTurquoise">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorBuoyancy">
		<textColor value="0x13C9F7"/>
	</css>
	<css name="$FontColorHealth">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontColorGolden">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorGold">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$FontColorFreeExp">
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$FontColorExp">
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$FontColorUnready">
		<textColor value="0xFF9933"/>
	</css>
	<css name="$FontColorAlmostBlack">
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontColorTeamkiller">
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$FontColorTTK">
		<textColor value="0xc8751c"/>
	</css>
	<css name="$FontColorParty">
		<textColor value="0x00cccc"/>
	</css>
	<css name="$FontColorDefaultButtonUp">
		<textColor value="0xc7e2e2"/>
	</css>
	<css name="$FontColorComparePositive">
		<textColor value="0x4CE8AA"/>
	</css>
	<css name="$FontColorCompareNegative">
		<textColor value="0xFF6600"/>
	</css>
	<css name="$FontColorMercenaries">
		<textColor value="0x4ce8aa"/>
	</css>
	<css name="$FontSizeThumbelina">
		<fontSize value="7"/>
	</css>
	<css name="$FontSizeNano">
		<fontSize value="11"/>
	</css>
	<css name="$FontSizeSmall">
		<fontSize value="13"/>
	</css>
	<css name="$FontSizeDefault">
		<fontSize value="15"/>
	</css>
	<css name="$FontSizeLarge">
		<fontSize value="17"/>
	</css>
	<css name="$FontSizeHeader6">
		<fontSize value="19"/>
	</css>
	<css name="$FontSizeHeader5">
		<fontSize value="21"/>
	</css>
	<css name="$FontSizeHeader4">
		<fontSize value="23"/>
	</css>
	<css name="$FontSizeHeader3">
		<fontSize value="25"/>
	</css>
	<css name="$FontSizeHeader2">
		<fontSize value="30"/>
	</css>
	<css name="$FontSizeHeader1">
		<fontSize value="36"/>
	</css>
	<css name="$FontAccentSize2">
		<fontSize value="50"/>
	</css>
	<css name="$FontAccentSize1">
		<fontSize value="60"/>
	</css>
	<css name="$LetterSpacingSmall">
		<letterSpacing value="0.8"/>
	</css>
	<css name="$InvertedTextEffect">
		<dropShadowFilter value="0 90 0xffffff 1.0 3.0 3.0 0.3"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$FontGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 5.0 3.0 0.9 2"/>
	</css>
	<css name="$BlockGlowFilterBright">
		<dropShadowFilter value="1 90 0xffffff 0.3 4.0 3.0 0.2 2"/>
	</css>
	<css name="$GlowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$DropShadowDisabler">
		<dropShadowFilter value="0 0 0x000000 0 0 0 0 0"/>
	</css>
	<css name="$FontDropShadowFilter1">
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$FontDropShadowFilterStrong">
		<dropShadowFilter value="1 90 0x08222a 0.8 3 3 1.5"/>
	</css>
	<css name="$FontDropShadowWhite">
		<dropShadowFilter value="0 90 0xffffff 1.0 3.0 3.0 0.3"/>
	</css>
	<css name="$BlockDropShadowFilter1">
		<dropShadowFilter value="5 110 0x000000 0.6 6 6 0.6"/>
	</css>
	<css name="$BlockDropShadowFilter2">
		<dropShadowFilter value="3 110 0x000000 0.6 6 6 0.6"/>
	</css>
	<css name="$TextNano">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondary">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryNoFilter">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSecondaryBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextDefaultBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderHugeWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextHeaderBigDefault">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderBigTeamKiller">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF96CA"/>
	</css>
	<css name="$TextHeaderBigNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextHeaderBigWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccent">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextAccentSecond">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextHeaderUnready">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<css name="$TextDefaultWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultWhiteBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallCompareNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<textColor value="0xFF6600"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextSmallWhite">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextSmallGold">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextDefaultExpSmall">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextSmallNegative">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$TextTurquoiseQuests">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x00cccc"/>
	</css>
	<css name="$TextLargeHeader">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextLargeHeaderBlack">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextThumbelina">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="7"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentWhite">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="25"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$TextHeaderBigDefaultTech">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<css name="$BlackLabel">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$ZurichCondensedBold"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextHeaderWhiteBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$ResultsReward">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="60"/>
		<letterSpacing value="-3"/>
		<marginRight value="2px"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextAccentGreyBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xDDDDDD"/>
		<fontSize value="60"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="50"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel1">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="36"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$TextAccentBoldAccountLevel2">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xFFFFFF"/>
		<fontSize value="30"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<css name="$Fullsize">
		<width value="100%"/>
		<height value="100%"/>
	</css>
	<css name="$FullsizeAbsolute">
		<width value="100%"/>
		<position value="absolute"/>
		<height value="100%"/>
	</css>
	<css name="$FullWidth">
		<width value="100%"/>
	</css>
	<css name="$MiddleAligned">
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleAlignedAbsolutely">
		<position value="absolute"/>
		<marginLeft value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$MiddleVAligned">
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$EyeLevelVAligned">
		<top value="720:360,2160:900ah"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVAlignedAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginTop value="-50%"/>
	</css>
	<css name="$MiddleVHAbsolutely">
		<position value="absolute"/>
		<top value="50%"/>
		<marginLeft value="-50%"/>
		<marginTop value="-50%"/>
		<left value="50%"/>
	</css>
	<css name="$AlignRight">
		<position value="absolute"/>
		<right value="0"/>
	</css>
	<css name="$MouseDisable">
		<hitTest value="false"/>
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
	</css>
	<css name="$InfoLineBoundaries">
		<marginTop value="6px"/>
		<marginBottom value="6px"/>
	</css>
	<css name="$InfoBlockHorizontalIndent">
		<width value="100%"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockIndent">
		<width value="100%"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginBottom value="9px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$InfoBlockHorizontalIndentNoWidth">
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$DockPanelMargins">
		<marginLeft value="13px"/>
		<marginRight value="13px"/>
	</css>
	<css name="$InfoBlockIndentNoWidth">
		<marginBottom value="9px"/>
		<marginTop value="9px"/>
		<marginLeft value="12px"/>
		<marginRight value="12px"/>
	</css>
	<css name="$ShipTechStats">
		<width value="312px"/>
		<top value="32px"/>
		<position value="absolute"/>
		<right value="10px"/>
		<height value="100%"/>
	</css>
	<css name="$TextInputEnterButton">
		<right value="2px"/>
		<top value="50%"/>
		<height value="25px"/>
		<width value="52px"/>
		<position value="absolute"/>
		<marginTop value="-11px"/>
	</css>
	<css name="$TextAreaEnterButton">
		<position value="absolute"/>
		<height value="25px"/>
		<right value="2px"/>
		<width value="52px"/>
		<bottom value="0px"/>
	</css>
	<css name="$DefaultScrollBar">
		<wheelScrollSpeed value="15"/>
		<scrollbarController value="lesta.unbound.style.UbScrollingControllerModern"/>
		<scrollArea value="ModernScrollArea"/>
		<scrollbar value="ModernScrollBar"/>
		<scrollbarTrackMode value="scrollToCursor"/>
	</css>
	<css name="$None"/>
	<css name="$PxHorizontalCorrection">
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$PxIndent">
		<marginTop value="1px"/>
		<marginBottom value="1px"/>
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<css name="$BottomMenu">
		<position value="absolute"/>
		<bottom value="0px"/>
		<width value="100%"/>
		<height value="30px"/>
	</css>
	<block className="HorizontalDivider">
		<styleClass value="$PxHorizontalCorrection"/>
		<style>
			<width value="100%"/>
			<height value="3px"/>
		</style>
		<block className="divider_h" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<block className="VerticalDivider">
		<style>
			<height value="100%"/>
			<width value="3px"/>
		</style>
		<block className="divider_v" type="native">
			<styleClass value="$Fullsize"/>
		</block>
	</block>
	<block className="TableDivider">
		<style>
			<backgroundImage value="symbol:dotted_line"/>
			<backgroundRepeatX value="true"/>
			<width value="100%"/>
			<height value="1px"/>
			<alpha value="0.1"/>
		</style>
	</block>
	<block className="Underline">
		<bind name="style" value="'backgroundColor'; (rollOver &amp;&amp; !mouseDown) ? '0xFFFFFFFF' : '0x00856933'"/>
		<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) == true; 0.3; {scaleX : 0, alpha : 0}; {scaleX : 1, alpha :1}"/>
		<style>
			<backgroundColor value="0xFFFFFFFF"/>
			<position value="absolute"/>
			<height value="1px"/>
			<width value="100%"/>
			<bottom value="0px"/>
			<marginLeft value="2px"/>
			<marginRight value="2px"/>
		</style>
	</block>
	<block className="BlurMap">
		<bind name="visible" value="optionData.blurEnabled"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<style>
			<hitTest value="false"/>
		</style>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="mc_blurmap_medium" type="native">
			<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="blurMap" value="0"/>
		</block>
		<block className="inner_panel" type="native">
			<style>
				<alpha value="0.5"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
	</block>
	<block className="BlurMapLow">
		<bind name="visible" value="optionData.blurEnabled"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<style>
			<hitTest value="false"/>
		</style>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="mc_blurmap5" type="native">
			<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
			<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="blurMap" value="0"/>
		</block>
		<block className="inner_panel" type="native">
			<style>
				<alpha value="0.2"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
	</block>
	<block className="BlurMapNotifications">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<style>
			<position value="absolute"/>
			<width value="100%"/>
			<height value="100%"/>
		</style>
		<block className="mc_blurmap5_feather" type="native">
			<bind name="fade" value="_start; 0.3; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -20}; 1; 0.15"/>
			<style>
				<width value="100%"/>
				<height value="100%"/>
			</style>
			<bind name="blurMap" value="0"/>
		</block>
	</block>
	<block className="DeclareBlurLayer">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="visible" value="optionData.blurEnabled"/>
		<block className="transparentPixel" type="native">
			<bind name="blurLayer" value="0"/>
		</block>
		<style>
			<position value="absolute"/>
		</style>
	</block>
	<css name="$ContextMenuListItem">
		<width value="100%"/>
		<height value="29px"/>
	</css>
	<css name="$ContextMenuListItemContent">
		<width value="198px"/>
		<marginLeft value="6px"/>
		<marginRight value="6px"/>
	</css>
	<css name="$ContextMenuDimentions">
		<width value="210px"/>
	</css>
	<block className="DropShadow">
		<styleClass value="$FullsizeAbsolute"/>
		<styleClass value="$MouseDisable"/>
		<block className="drop_shadow" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-2px"/>
				<marginRight value="-6px"/>
				<marginBottom value="-10px"/>
				<marginLeft value="-6px"/>
			</style>
		</block>
	</block>
	<block className="EmptyItem">
		<bind name="visible" value="false"/>
	</block>
	<block className="DottedLine">
		<style>
			<backgroundImage value="symbol:dotted_line"/>
			<backgroundRepeatX value="true"/>
			<width value="100%"/>
			<height value="1px"/>
			<alpha value="0.5"/>
		</style>
	</block>
	<css name="$titleBackgroundSize">
		<width value="640px"/>
		<height value="28px"/>
	</css>
	<css name="$TeamBgOrdinary">
		<width value="636px"/>
		<height value="25px"/>
	</css>
	<css name="$TeambgTitle">
		<width value="1280px"/>
		<height value="29px"/>
	</css>
	<block className="UIListTeamResult">
		<styleClass value="$MiddleAligned"/>
		<bind name="watch" value="'battleType'; 	(game_data.battle_mode_id == 1)	? BattleTypes.TRAINING_BATTLE :
								(game_data.battle_mode_id == 2) ? BattleTypes.COOPERATIVE_BATTLE :
								(game_data.battle_mode_id == 4) ? BattleTypes.RANKED_BATTLE :
								(game_data.battle_mode_id == 5) ? BattleTypes.CLUB_BATTLE :
								(game_data.battle_mode_id == 6) ? BattleTypes.PVE_BATTLE :
								(game_data.battle_mode_id == 8) ? BattleTypes.CLAN_BATTLE :
								(game_data.battle_mode_id == 9) ? BattleTypes.EVENT_BATTLE
																: BattleTypes.RANDOM_BATTLE"/>
		<bind name="var" value="{complaintsAvailable: true}"/>
		<bind name="catch" value="'disableComplaints'; {complaintsAvailable: false}"/>
		<bind name="countdown" value="game_data.keep_until_time; 'countdownText'; 'mm:ss'; 'timeoutPostBattleComplaints'"/>
		<bind name="dispatch" value="'timeoutPostBattleComplaints'; 'disableComplaints'"/>
		<block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<bind name="watch" value="'allyClanTag'; team_results.listAllied[0].player.clan_tag"/>
			<bind name="watch" value="'enemyClanTag'; team_results.listEnemies[0].player.clan_tag"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<position value="absolute"/>
				<top value="0"/>
				<marginTop value="-140%"/>
			</style>
			<bind name="instance" value="'ClanBattleVS'; battleType == 'ClanBattle' ? {_allyClanTag: allyClanTag, _enemyClanTag: enemyClanTag} : null"/>
		</block>
		<block>
			<style>
				<marginTop value="-1px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block className="UIListTeamResultLeft">
				<bind name="instance" value="'UIlistBaseLeft'; { team_results: team_results, uiListData: team_results.listAllied, sortingColumnId: 'exp', sortingDirection:'descending',
										sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
			</block>
			<block>
				<bind name="visible" value="game_data.game_mode != GameMode.PVE"/>
				<block className="VerticalDivider">
					<style>
						<height value="100%"/>
						<width value="3px"/>
					</style>
					<block className="divider_v" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
				<block className="UIListTeamResultRight">
					<bind name="instance" value="'UIlistBaseRight'; { team_results: team_results, uiListData: team_results.listEnemies, sortingColumnId: 'exp', sortingDirection:'descending', sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="UIListTeamResultLeft">
		<bind name="instance" value="'UIlistBaseLeft'; { team_results: team_results, uiListData: team_results.listAllied, sortingColumnId: 'exp', sortingDirection:'descending',
										sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
	</block>
	<block className="UIListTeamResultRight">
		<bind name="instance" value="'UIlistBaseRight'; { team_results: team_results, uiListData: team_results.listEnemies, sortingColumnId: 'exp', sortingDirection:'descending', sortingNumeric: 'true', game_data: game_data, personal: personal, complaintsAvailable: complaintsAvailable}"/>
	</block>
	<block className="UIlistBaseLeft">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="event" value="'changeSortDirection'; onChangeSortDirection; _sortingFieldName; true"/>
		<bind name="catch" value="'onSortSelected'"/>
		<bind name="dispatch" value="'onSortSelected'; 'changeSortDirection'; {}; false; 0.05"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="1"/>
			<style>
				<width value="606px"/>
				<right value="0px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="437px"/>
					</style>
					<block type="text">
						<style>
							<marginLeft value="18px"/>
							<width value="100%"/>
							<marginTop value="2px"/>
						</style>
						<styleClass value="$TextHeaderWhiteBold"/>
						<bind name="text" value="'IDS_ALLY_TEAM'"/>
					</block>
				</block>
				<block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '34px', _png: 'Kills', _sortingFieldName: 'ships_killed', _tooltipText: 'IDS_BY_KILLS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '34px', _png: 'KilledPlanes', _sortingFieldName: 'killed_planes', _tooltipText: 'IDS_BY_DESTOYED_PLANES', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '66px', _png: 'Exp', _sortingFieldName: 'exp', _tooltipText: 'IDS_BY_EXPIRIENCE', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_sortingEnabled: true, _width: '35px', _png: 'Rewards', _sortingFieldName: 'totalAchievements', _tooltipText: 'IDS_BY_REWARDS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
			</style>
			<styleClass value="$DefaultScrollBar"/>
			<block>
				<bind name="repeat" value="sortedUiListData; 'SimpleUIListTeamResultRowRendererLeft'; {	_players: sortedUiListData, _rankId: rankedBattlesStats.rank, game_data: game_data, personal: personal,
																						complaintsAvailable: complaintsAvailable}"/>
			</block>
		</block>
	</block>
	<block className="UIlistBaseRight">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="event" value="'changeSortDirection'; onChangeSortDirection; _sortingFieldName; true"/>
		<bind name="catch" value="'onSortSelected'"/>
		<bind name="dispatch" value="'onSortSelected'; 'changeSortDirection'; {}; false; 0.05"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="2"/>
			<style>
				<width value="606px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '35px', _png: 'Rewards', _sortingFieldName: 'totalAchievements', _tooltipText: 'IDS_BY_REWARDS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '66px', _png: 'Exp', _sortingFieldName: 'exp', _tooltipText: 'IDS_BY_EXPIRIENCE', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '34px', _png: 'KilledPlanes', _sortingFieldName: 'killed_planes', _tooltipText: 'IDS_BY_DESTOYED_PLANES', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<block>
						<bind name="instance" value="'UIListHeaderCell'; {_width: '34px', _png: 'Kills', _sortingFieldName: 'ships_killed', _tooltipText: 'IDS_BY_KILLS', _sortingColumnId: sortingColumnId, _onChangeSortDirection: onChangeSortDirection}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="437px"/>
					</style>
					<bind name="name" value="'table_EnemyTeam'"/>
					<block type="text">
						<style>
							<textAlign value="right"/>
							<width value="100%"/>
							<marginRight value="18px"/>
							<marginTop value="2px"/>
						</style>
						<styleClass value="$TextHeaderWhiteBold"/>
						<bind name="text" value="'IDS_ENEMY_TEAM'"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
				<marginLeft value="0px"/>
			</style>
			<styleClass value="$DefaultScrollBar"/>
			<block>
				<bind name="repeat" value="sortedUiListData; 'SimpleUIListTeamResultRowRendererRight'; {_players: sortedUiListData, _rankId: rankedBattlesStats.rank, game_data: game_data,
																						personal: personal, complaintsAvailable: complaintsAvailable}"/>
			</block>
		</block>
	</block>
	<block className="UIListHeaderCell">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="dispatch" value="'click'; 'onSortSelected'; {_sortingFieldName: _sortingFieldName}"/>
		<block>
			<block className="title_backgrounds" type="native">
				<bind name="gotoAndStop!" value="1"/>
				<bind name="style" value="'width'; _width"/>
				<bind name="transition" value="rollOver || _sortingColumnId == _sortingFieldName; 0.15; {alpha: 0}; {alpha: 1}"/>
				<style>
					<height value="33px"/>
					<position value="absolute"/>
					<marginTop value="-1px"/>
				</style>
			</block>
			<block>
				<bind name="style" value="'width'; _width"/>
				<style>
					<height value="28px"/>
					<marginTop value="2px"/>
					<hitTest value="false"/>
				</style>
				<block className="icons_team_result_section" type="native">
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$MiddleVAligned"/>
					<bind name="gotoAndStop!" value="_png"/>
				</block>
			</block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _tooltipText}"/>
		</block>
	</block>
	<block className="SimpleUIListTeamResultRowRendererLeft">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="watch" value="'starEarnCondition'; player.is_self ? personal.starsGained &gt; 0 : (place &lt;= rankInfo.starEarnPlace) &amp;&amp; (battleResult == 1)"/>
		<bind name="watch" value="'starLossCondition'; !(rankInfo.isStarSafe) &amp;&amp; (place &gt;= rankInfo.starLossPlace) &amp;&amp; (battleResult &lt;= 0)"/>
		<bind name="watch" value="'thisPlayer'; _players[$index].player"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; player.dbId"/>
		<bind name="watchDH" value="'pureName'; 		['playerEntity.accountName.evChanged']; playerEntity.accountName.name"/>
		<bind name="watchDH" value="'isSuspended'; 	['playerEntity.accountSimple.evSuspendedChanged']; playerEntity.accountSimple.suspended"/>
		<style>
			<marginTop value="1px"/>
			<width value="634px"/>
		</style>
		<block>
			<bind name="visible" value="personal.seasonId != 0 &amp;&amp; game_data.battle_mode_id == 4"/>
			<style>
				<left value="30px"/>
				<position value="absolute"/>
				<height value="28px"/>
				<marginTop value="1px"/>
			</style>
			<bind name="instance" value="'StarEarnOrLoss'; starEarnCondition ||  starLossCondition ? {starEarnCondition: starEarnCondition, starLossCondition: starLossCondition} : null"/>
		</block>
		<block>
			<style>
				<width value="606px"/>
				<right value="0px"/>
			</style>
			<block>
				<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
				<style>
					<backgroundColor value="0x15000000"/>
					<position value="absolute"/>
					<height value="28px"/>
					<width value="100%"/>
				</style>
				<bind name="watch" value="'battleType'; 	(game_data.battle_mode_id == 1)	? BattleTypes.TRAINING_BATTLE :
										(game_data.battle_mode_id == 2) ? BattleTypes.COOPERATIVE_BATTLE :
										(game_data.battle_mode_id == 4) ? BattleTypes.RANKED_BATTLE :
										(game_data.battle_mode_id == 5) ? BattleTypes.CLUB_BATTLE :
										(game_data.battle_mode_id == 6) ? BattleTypes.PVE_BATTLE :
										(game_data.battle_mode_id == 8) ? BattleTypes.CLAN_BATTLE
																		: BattleTypes.RANDOM_BATTLE"/>
				<bind name="watch" value="'isContextMenuAvailable'; (!(player.is_self) &amp;&amp; !(isBot))"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="tooltip" value="'BattlePlayerTooltip'; !(isSuspended) ? {	_playerDbId: player.dbId, _clanTagColor: clanColor, _clanTag: clanTag, 
																			_isInBattle: false,	_isInPostBattle: true, _player: thisPlayer, _battleType: battleType, _isBot: isBot} : null"/>
					<bind name="menu" value="'UIListPlayerContextMenu'; isContextMenuAvailable	? {	_player: thisPlayer, _playerDbId: player.dbId, _arenaId: game_data.arena_id, _battleType: battleType,
																					_isInPBS: true, _complaintsAvailable: complaintsAvailable, _isInSameDivisionOnStart: isInSameDivisionOnStart, _isBot: isBot}
																				: null; null; 'contextMenuVisible'"/>
					<bind name="selected" value="contextMenuVisible"/>
					<bind name="dispatch" value="'buttonClick'; 'Tooltip.Close'; {}"/>
					<bind name="name" value="'contextMenuVisible_' + !!(contextMenuVisible) + '_' + player.name"/>
				</block>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="divisionIndex &gt; 0"/>
						<styleClass value="$MiddleAligned"/>
						<style>
							<marginTop value="1px"/>
						</style>
						<block className="division_item" type="native">
							<style>
								<marginLeft value="12px"/>
							</style>
							<bind name="gotoAndStop!" value="isInSameDivision ? divisionSign + 1 : (divisionSign + 1 + 10)"/>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="140px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="visible" value="player.rank != 0"/>
						<style>
							<marginTop value="1px"/>
						</style>
						<bind name="instance" value="'IconRankSmall'; {_rankId: player.rank}"/>
					</block>
					<block>
						<bind name="name" value="'player_tab_stat_' + player.name"/>
						<style>
							<width value="100%"/>
							<top value="8px"/>
						</style>
						<bind name="instance" value="'PlayerNameAndClanTag'; { 	_isSelf: player.is_self, _isDead: !is_alive, _fontSize: 17,
																_tkStatus: player.tkStatus, _ttkStatus: player.ttkStatus, _isInSameDivision: isInSameDivision,
																_playerName: pureName, _clanTag: clanTag, _clanTagColor: clanColor }"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<style>
						<width value="122px"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="0px"/>
						</style>
						<bind name="style" value="'backgroundImage'; !is_alive 	? ('url:' + player.ship_dead_img_url)
																: player.is_self ? ('url:' + player.ship_own_img_url) : ('url:' + player.ship_img_url)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="	player.is_self	? '$FontColorGolden' :
									!is_alive		? '$FontColorAlmostBlack'
													: '$None'"/>
						<bind name="class" value="player.is_self	? '$Bold' : '$None'"/>
						<bind name="class" value="!is_alive &amp;&amp; !(player.is_self) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="player.levelRome"/>
					</block>
				</block>
				<block>
					<style>
						<width value="115px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="left"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="player.is_self	? '$FontColorGolden' :
								!is_alive		? '$FontColorAlmostBlack'
												: '$None'"/>
						<bind name="class" value="player.is_self	? '$Bold' : '$None'"/>
						<bind name="class" value="!is_alive &amp;&amp; !(player.is_self) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="toUpperCase(tr(player.ids_ship_name))"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="ships_killed != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="ships_killed"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="killed_planes != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="killed_planes"/>
					</block>
				</block>
				<block>
					<style>
						<width value="66px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="format(exp, -1)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="35px"/>
					</style>
					<block>
						<style>
							<marginLeft value="9px"/>
							<marginTop value="4px"/>
						</style>
						<bind name="instance" value="'EarnedAchievementsByPlayer'; (totalAchievements &gt; 0) ? {_achievements: achievements, _isSelfPlayer: player.is_self} : null"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="SimpleUIListTeamResultRowRendererRight">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="watch" value="'starEarnCondition'; (place &lt;= rankInfo.starEarnPlace &amp;&amp; battleResult == 1)"/>
		<bind name="watch" value="'starLossCondition'; place &gt;= rankInfo.starLossPlace &amp;&amp; (battleResult &lt;= 0)"/>
		<bind name="watch" value="'thisPlayer'; _players[$index].player"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; player.dbId"/>
		<bind name="watchDH" value="'pureName'; 		['playerEntity.accountName.evChanged']; playerEntity.accountName.name"/>
		<style>
			<width value="634px"/>
			<marginTop value="1px"/>
		</style>
		<block>
			<style>
				<width value="606px"/>
			</style>
			<block>
				<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
				<style>
					<backgroundColor value="0x15000000"/>
					<position value="absolute"/>
					<height value="28px"/>
					<width value="100%"/>
				</style>
				<bind name="watch" value="'battleType'; 	(game_data.battle_mode_id == 1)	? BattleTypes.TRAINING_BATTLE :
										(game_data.battle_mode_id == 2) ? BattleTypes.COOPERATIVE_BATTLE :
										(game_data.battle_mode_id == 4) ? BattleTypes.RANKED_BATTLE :
										(game_data.battle_mode_id == 5) ? BattleTypes.CLUB_BATTLE	:
										(game_data.battle_mode_id == 6) ? BattleTypes.PVE_BATTLE :
										(game_data.battle_mode_id == 8) ? BattleTypes.CLAN_BATTLE
																		: BattleTypes.RANDOM_BATTLE"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="tooltip" value="'BattlePlayerTooltip'; {	_playerDbId: player.dbId, _clanTagColor: clanColor, _playerClanTag: clanTag, 
														_isInBattle: false,	_isInPostBattle: true, _player: thisPlayer, _battleType: battleType, _isBot: isBot}"/>
					<bind name="menu" value="'UIListPlayerContextMenu'; !(isBot) ? {	_player: thisPlayer, _playerDbId: player.dbId, _arenaId: game_data.arena_id, _battleType: battleType,
														 			_isInPBS: true, _complaintsAvailable: complaintsAvailable, _isBot: isBot} : null; null; 'contextMenuVisible'"/>
					<bind name="selected" value="contextMenuVisible"/>
					<bind name="dispatch" value="'buttonClick'; 'Tooltip.Close'; {}"/>
					<bind name="name" value="'contextMenuVisible_' + !!(contextMenuVisible) + '_' + player.name"/>
				</block>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<style>
						<width value="35px"/>
					</style>
					<block>
						<style>
							<marginLeft value="9px"/>
							<marginTop value="4px"/>
						</style>
						<bind name="instance" value="'EarnedAchievementsByPlayer'; (totalAchievements &gt; 0) ? {_achievements: achievements, _isSelfPlayer: player.is_self} : null"/>
					</block>
				</block>
				<block>
					<style>
						<width value="66px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="format(exp, -1)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="killed_planes != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="killed_planes"/>
					</block>
				</block>
				<block>
					<style>
						<width value="34px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<bind name="visible" value="ships_killed != 0"/>
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="ships_killed"/>
					</block>
				</block>
				<block>
					<style>
						<width value="115px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="right"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="class" value="!is_alive ? '$FontColorAlmostBlack' : '$None'"/>
						<bind name="class" value="!is_alive ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="toUpperCase(tr(player.ids_ship_name))"/>
					</block>
				</block>
				<block>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<block type="text">
						<style>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="class" value="!is_alive ? '$FontColorAlmostBlack' : '$None'"/>
						<bind name="class" value="!is_alive ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="player.levelRome"/>
					</block>
				</block>
				<block>
					<style>
						<width value="122px"/>
						<height value="100%"/>
						<hitTest value="false"/>
					</style>
					<block>
						<style>
							<marginLeft value="0px"/>
							<width value="100%"/>
						</style>
						<bind name="scaleX" value="1"/>
						<bind name="style" value="'backgroundImage'; !is_alive 	? ('url:' + player.ship_dead_img_url) : ('url:' + player.ship_img_url)"/>
					</block>
				</block>
				<block>
					<style>
						<hitTest value="false"/>
						<width value="140px"/>
						<align value="right"/>
					</style>
					<block>
						<bind name="name" value="'player_tab_stat_' + player.name"/>
						<style>
							<width value="100%f"/>
							<top value="8px"/>
						</style>
						<bind name="instance" value="'PlayerNameAndClanTag'; { 	_isDead: !is_alive, _isBattleStats: true, _fontSize: 17,
																_playerName: pureName, _clanTag: clanTag, _clanTagColor: clanColor}"/>
					</block>
					<block>
						<bind name="visible" value="player.rank != 0"/>
						<style>
							<marginTop value="1px"/>
						</style>
						<bind name="instance" value="'IconRankSmall'; {_rankId: player.rank}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="divisionIndex &gt; 0"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<width value="30px"/>
						<hitTest value="false"/>
					</style>
					<block className="division_item" type="native">
						<styleClass value="$MiddleAligned"/>
						<style>
							<marginTop value="5px"/>
						</style>
						<bind name="gotoAndStop!" value="divisionSign + 1 + 10"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="personal.seasonId != 0 &amp;&amp; game_data.battle_mode_id == 4"/>
			<style>
				<right value="30px"/>
				<position value="absolute"/>
				<height value="28px"/>
				<marginTop value="1px"/>
			</style>
			<bind name="instance" value="'StarEarnOrLoss'; (starEarnCondition ||  starLossCondition) ? {starEarnCondition: starEarnCondition, starLossCondition: starLossCondition} : null"/>
		</block>
	</block>
	<block className="StarEarnOrLoss">
		<style>
			<width value="26px"/>
			<height value="26px"/>
		</style>
		<block className="icon_star_earn_condition_small" type="native">
			<styleClass value="$MiddleVAligned"/>
			<bind name="gotoAndStop!" value=" starEarnCondition	? 1 
												: starLossCondition ? 2 
																	: null"/>
		</block>
	</block>
	<block className="MainTabSmallInstance">
		<block className="tab_bar_item_small" type="native">
			<bind name="name" value="'MainTabSmallInstance_' + _name"/>
			<bind name="style" value="'width'; (_width+'px')"/>
			<style>
				<height value="25px"/>
			</style>
			<bind name="selected" value="_selected"/>
			<bind name="dispatch" value="'buttonClick'; _event ? _event : null; _eventParams"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			<bind name="label" value="toUpperCase(tr(_label))"/>
		</block>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _tooltipIDS}"/>
	</block>
	<block className="MainTabNew">
		<block className="tab_bar_item" type="native">
			<bind name="name" value="_name"/>
			<style>
				<height value="29px"/>
			</style>
			<bind name="style" value="'width'; _width"/>
			<bind name="selected" value="_selected"/>
			<bind name="action" value="'click'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="dispatch" value="'buttonClick'; _dispatch ? _dispatch : null; _dispatchParams ? _dispatchParams : null"/>
			<bind name="label" value="toUpperCase(tr(_label))"/>
			<bind name="soundSet" value="'main_tab_' + _index"/>
		</block>
		<bind name="tooltip" value="'MouseInstructionTooltip'; {_multiParagraphArray:  [{_paragraphText: _tooltipIDS}], _maxWidth: 250, _isInBattle: _isInBattle}"/>
	</block>
	<css name="$DefaultTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$DefaultInstantTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.06,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.06,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$DefaultMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.07,
		appearOffset: 10.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: 10.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$RightSubMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.15,
		appearOffset: 0.0,
		disappearDelay: 0.35,
		disappearDuration: 0.1,
		disappearOffset: 5.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0,
		showDirection: 'right'
	}"/>
	</css>
	<css name="$LeftSubMenuBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.15,
		appearOffset: 0.0,
		disappearDelay: 0.35,
		disappearDuration: 0.1,
		disappearOffset: 5.0,
		tinyOffset: 0,
		rightOffset: 0,
		bottomOffset: 0,
		showDirection: 'left'
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 0,
		bottomOffset: 0
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviourCenter">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: -8,
		bottomOffset: 0,
		screenBottomOffset: 26,
		isTipCenter: true
	}"/>
	</css>
	<css name="$VerticalInfotipBehaviourCenterUpper">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: -8,
		bottomOffset: 0,
		isTipCenter: true,
		fixedDirectionUp: true
	}"/>
	</css>
	<css name="$ReplaysInfotip">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,

		rightOffset: 300,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$ReplaysInfotipFilter">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,

		rightOffset: 0,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$HorizontalInfotipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 0,
		rightOffset: -10,
		bottomOffset: 0,
		isTipCenter: true
	}"/>
	</css>
	<css name="$FightButtonTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.0,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$WarningTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$ModuleTreeTooltipBehaviour">
		<userData value="{
		appearDelay: 0.05,
		appearDuration: 0.1,
		appearOffset: 5.0,
		disappearDelay: 0.0,
		disappearDuration: 0.1,
		disappearOffset: -10.0,
		tinyOffset: 2,
		rightOffset: 6,
		bottomOffset: 26
	}"/>
	</css>
	<css name="$SmallListItem">
		<width value="100%"/>
		<height value="18px"/>
	</css>
	<css name="$SmallListItemValue">
		<position value="absolute"/>
		<right value="0px"/>
	</css>
	<css name="$DefaultTooltipWidth">
		<width value="300px"/>
	</css>
	<block className="EmptyLine"/>
	<block className="MouseInstructionTooltip">
		<style>
			<hitTest value="false"/>
		</style>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<bind name="visible" value="_multiParagraphArray.length &gt; 0"/>
			<styleClass value="$InfoBlockHorizontalIndentNoWidth"/>
			<style>
				<marginTop value="9px"/>
			</style>
			<bind name="style" value="'marginBottom'; _marginBottomParagraphs 												? _marginBottomParagraphs :
									(_multiParagraphArray.length &gt; 0) &amp;&amp; (_mouseInstructions.length &gt; 0)	? '0px'
																											: '5px'"/>
			<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {_maxWidth: _maxWidth, _marginBottom: _marginBottom, _leading: _leading}"/>
		</block>
		<block>
			<bind name="visible" value="_checkedLines.length &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_checkedLines.length &gt; 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="repeat" value="_checkedLines; 'CheckedLineRepeater'; {_maxWidth: _maxWidth, _marginBottom: _marginBottom, _lastIndex: (_checkedLines.length - 1), _leading: _leading}"/>
		</block>
		<block>
			<bind name="visible" value="(_multiParagraphArray.length &gt; 0) &amp;&amp; (_mouseInstructions.length &gt; 0)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_mouseInstructions.length &gt; 0"/>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<bind name="repeat" value="_mouseInstructions; 'MouseInstructionRepeater'; {_maxWidth: _maxWidth, _lastIndex: (_mouseInstructions.length - 1), _leading: _leading}"/>
		</block>
	</block>
	<block className="SimpleTooltip">
		<block className="SimpleTooltipTemplate">
			<styleClass value="$DefaultTooltipBehaviour"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$Fullsize"/>
			</block>
			<block type="text">
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="style" value="'leading'; (tooltipText.length &gt; 30 ? 0 : -3)"/>
				<style>
					<maxWidth value="300"/>
				</style>
				<bind name="text" value="tooltipText"/>
			</block>
		</block>
	</block>
	<block className="SubTextTooltip">
		<block className="SubTextTooltipTemplate">
			<styleClass value="$DefaultTooltipBehaviour"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<block type="text">
					<styleClass value="$TextHeaderBold"/>
					<style>
						<leading value="-3"/>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="tooltipText"/>
				</block>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<style>
						<marginTop value="3px"/>
						<leading value="-3"/>
						<maxWidth value="260"/>
					</style>
					<bind name="text" value="tooltipSubText"/>
				</block>
			</block>
		</block>
	</block>
	<block className="SimpleWarningTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 240"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="MultipleWarningsTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block>
				<bind name="repeat" value="_warningsArr; 'SimpleWarningText'; {}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="SimpleWarningText">
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<style>
				<maxWidth value="240"/>
				<leading value="-3"/>
			</style>
			<bind name="text" value="$value"/>
		</block>
	</block>
	<block className="StartButtonWarningsTooltip">
		<styleClass value="$WarningTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="2px"/>
				</style>
			</block>
			<block>
				<params>
					<param name="name" value="MultipleWarningsTooltip"/>
				</params>
				<bind name="repeat" value="_warningsArr; 'StartButtonWarningText'; {}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="StartButtonWarningText">
		<bind name="firstEntityDH" value="'clanCurrentSeasonEntity'; CC.clanBattleSeason; 'current'"/>
		<bind name="watchDH" value="'cbs_primeTimeStartTime'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.primeTimeStartTime"/>
		<bind name="watchDH" value="'cbs_primeTimeFinishTime'; ['clanCurrentSeasonEntity.clanBattleSeason.evChanged']; clanCurrentSeasonEntity.clanBattleSeason.primeTimeFinishTime"/>
		<bind name="countdown" value="cbs_primeTimeStartTime; 'startPrimeTimeText'; 'HIGHEST,WITH_DAYS'; 'timeoutEvent'"/>
		<bind name="countdown" value="cbs_primeTimeFinishTime; 'finishPrimeTimeText'; 'HIGHEST,WITH_DAYS'; 'timeoutEvent'"/>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<style>
				<maxWidth value="240"/>
				<leading value="-3"/>
			</style>
			<bind name="text" value="$value == 'IDS_CLAN_BATTLES_PRIMETIME_STARTS_IN'	?	subst('IDS_CLAN_BATTLES_PRIMETIME_STARTS_IN', [], {timeLeft: startPrimeTimeText}) 
																		:	$value"/>
		</block>
	</block>
	<block className="TooltipBackground">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'DeclareBlurLayer'; _isInBattle ?  null : {}"/>
			<bind name="instance" value="'BlurMap'; _isInBattle ? null : {}"/>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="(optionData.contrast == true || _isInBattle == true)"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="!(_isInBattle)"/>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
	</block>
	<block className="TimerTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block type="text">
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<styleClass value="$TextHeader"/>
			<bind name="class" value="'$FontSizeHeader4'"/>
			<bind name="pureText" value="_text"/>
		</block>
	</block>
	<block className="PlayerTooltipInvitationCountdown">
		<bind name="countdown" value="_expirationTime; 'countdownText'; 'mm:ss'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginLeft value="7px"/>
				<marginRight value="4px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="6px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: _formationType}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
						<maxWidth value="158"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="_text"/>
				</block>
				<block type="text">
					<style>
						<top value="-4px"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<styleClass value="$AlignRight"/>
					<bind name="class" value="'$FontSizeHeader6'"/>
					<bind name="pureText" value="'-' + countdownText"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<css name="$ComplaintMenuListItemBattleMargins">
		<marginLeft value="2px"/>
		<marginRight value="2px"/>
	</css>
	<css name="$ComplaintMenuListItemPostbattleMargins">
		<marginLeft value="1px"/>
		<marginRight value="1px"/>
	</css>
	<block className="UIListPlayerContextMenu">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'dynamicDivisionsData'; 'id'; _selfPlayer.divisionId; 'selfPlayerDivisionData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; _player.name; 'playerInvitationData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'evaluationLimits'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="primaryEntityDH" value="'entityAccountBattle'; CC.avatar; _player.id"/>
		<bind name="watchDH" value="'entityAccountBattleDbId'; [];  entityAccountBattle.accountSimple.dbId"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; _playerDbId ? _playerDbId : entityAccountBattleDbId"/>
		<bind name="watchDH" value="'isSuspended'; ['playerEntity.accountSimple.evSuspendedChanged']; playerEntity.accountSimple.suspended"/>
		<bind name="watchDH" value="'isTextChatMuted'; ['playerEntity.avatar.evMuteChanged']; playerEntity.avatar.mute"/>
		<bind name="watchDH" value="'isBotAvatar'; []; playerEntity.avatar.isBot"/>
		<bind name="watchDH" value="'accountDbId'; [];  playerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'groupIdsOfAccount'; ['playerEntity.elementInGroups.evGroupsChanged']; playerEntity.elementInGroups.groupIds"/>
		<bind name="watchDH" value="'isIgnored';['playerEntity.contact.evIsIgnoredChanged']; !!playerEntity.contact.isIgnored"/>
		<bind name="watchDH" value="'canAddGroupEntitiesId'; ['playerEntity.elementInGroups.evCanAddGroupEntitiesChanged', 'dataHub.chat.ref.chat.evRosterChanged']; (playerEntity.elementInGroups) ? playerEntity.elementInGroups.canAddGroupEntitiesId : chat.canAddGroupEntitiesId"/>
		<bind name="watchDH" value="'playerEntityId'; []; playerEntity.id"/>
		<bind name="watch" value="'isInSameDivisionOnStart'; _isInPBS ? _isInSameDivisionOnStart : _player.isInSameDivisionOnStart"/>
		<bind name="watch" value="'isBot'; _isInPBS ? _isBot  : isBotAvatar"/>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="timeFormat" value="(_player.inviteCooldown - serverTime); 'mm:ss'; 'cooldownTimeText'"/>
		<bind name="watch" value="'isEnemyPlayer'; (_player.relation == 2)"/>
		<bind name="watch" value="'isFreePlacesInDivision'; ((selfPlayerDivisionData[0].staff.length + selfPlayerDivisionData[0].inPortParticipantsCount) &lt; 3)"/>
		<bind name="watch" value="'isDynamicDivisionsEnabled'; (((_battleType == BattleTypes.COOPERATIVE_BATTLE) || (_battleType == BattleTypes.RANDOM_BATTLE)) &amp;&amp;
												slimClientData.isFull)"/>
		<bind name="watch" value="'invitationDisableReason'; (_player.isLeaver)						? 'IDS_INVITATION_DISABLE_REASON_PLAYER_IS_OUT_OF_BATTLE':
											(_player.division != 0)					? 'IDS_INVITATION_DISABLE_REASON_ALREADY_IN_DIVISION' :
											!(_selfPlayer.isAlive)					? 'IDS_DIVISION_MANAGEMENT_LOCKED_FOR_DESTROYED' :
											!(_player.isAlive)						? 'IDS_INVITATION_DISABLE_REASON_DESTROYED' :
											!(isFreePlacesInDivision)				? 'IDS_INVITATION_DISABLE_REASON_NO_FREE_PLACES' :
											!(_player.invitationsEnabled)			? 'IDS_INVITATION_DISABLE_REASON_INVITATIONS_DISABLED' :
											(_player.inviteCooldown &gt; serverTime)	? (tr('IDS_WAIT_TIMEOUT_TO_INVITE_TO_DIVISION')+' '+cooldownTimeText)
																					: 'no_reason'"/>
		<bind name="watch" value="'isDivisionControlsEnable';	isDynamicDivisionsEnabled &amp;&amp;
												(_isInPBS != true) &amp;&amp;
												!(isEnemyPlayer) &amp;&amp;
												!(isBot) &amp;&amp;
												((_selfPlayer.isDivisionCommander) || (_selfPlayer.divisionId == 0)) &amp;&amp;
												!(isSuspended)"/>
		<bind name="watch" value="'canBeInChat';	((_battleType == BattleTypes.CLAN_BATTLE) &amp;&amp; VoiceChatState.enabled &amp;&amp; !(isEnemyPlayer)) ||
								((_player.isInSameDivision &amp;&amp; VoiceChatState.enabled) &amp;&amp; ((_battleType == BattleTypes.RANDOM_BATTLE) ||
																						 (_battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																						 (_battleType == BattleTypes.PVE_BATTLE)))"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; {_isInBattle: _isBattleStats}"/>
		</block>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="class" value="_isBattleStats ? '$ComplaintMenuListItemBattleMargins' : '$ComplaintMenuListItemPostbattleMargins'"/>
			<block>
				<bind name="visible" value="isDivisionControlsEnable"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="visible" value="_selfPlayer.isDivisionCommander &amp;&amp; _player.isInSameDivision"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="style" value="'alpha'; (_selfPlayer.isAlive) ? 1 : 0.5"/>
					<block>
						<styleClass value="$ContextMenuListItem"/>
						<block className="MenuItem">
							<styleClass value="$Fullsize"/>
							<block className="dock_submenu_item" type="native">
								<styleClass value="$FullsizeAbsolute"/>
							</block>
							<block type="text">
								<styleClass value="$TextDefault"/>
								<styleClass value="$MiddleVAligned"/>
								<styleClass value="$ContextMenuListItemContent"/>
								<bind name="text" value="'IDS_APPOINT_PLAYER_TO_COMMANDER'"/>
							</block>
						</block>
						<bind name="action" value="'click'; 'changeCommander'; {playerId: _player.id, teamId:playerEntity.preBattlePlayerSimple.teamId}"/>
					</block>
					<block>
						<styleClass value="$ContextMenuListItem"/>
						<block className="MenuItem">
							<styleClass value="$Fullsize"/>
							<block className="dock_submenu_item" type="native">
								<styleClass value="$FullsizeAbsolute"/>
							</block>
							<block type="text">
								<styleClass value="$TextDefault"/>
								<styleClass value="$MiddleVAligned"/>
								<styleClass value="$ContextMenuListItemContent"/>
								<bind name="text" value="'IDS_EXCLUDE_PLAYER_OUT_OF_DIVISION'"/>
							</block>
						</block>
						<bind name="action" value="'click'; 'kickPlayerFromDivision'; {playerId: _player.id}"/>
					</block>
					<block>
						<bind name="visible" value="!(_selfPlayer.isAlive)"/>
						<styleClass value="$FullsizeAbsolute"/>
						<style>
							<backgroundColor value="0x0100000"/>
						</style>
						<bind name="tooltip" value="'SimpleWarningTooltip'; !(_selfPlayer.isAlive) ? {_text: tr('IDS_DIVISION_MANAGEMENT_LOCKED_FOR_DESTROYED'), _isInBattle: _isBattleStats} : null"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="!(_player.isInSameDivision)"/>
					<style>
						<width value="100%"/>
					</style>
					<block>
						<bind name="visible" value="(!(_player.isInSameDivision) &amp;&amp; !(playerInvitationData))"/>
						<bind name="style" value="'alpha'; (invitationDisableReason == 'no_reason') ? 1 : 0.5"/>
						<bind name="tooltip" value="'SimpleWarningTooltip'; (invitationDisableReason != 'no_reason') ? {_text: invitationDisableReason, _isInBattle: _isBattleStats} : null"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<styleClass value="$ContextMenuListItem"/>
						<block>
							<styleClass value="$Fullsize"/>
							<bind name="style" value="'hitTest';  (invitationDisableReason == 'no_reason') ? true : false"/>
							<block className="MenuItem">
								<styleClass value="$Fullsize"/>
								<block className="dock_submenu_item" type="native">
									<styleClass value="$FullsizeAbsolute"/>
								</block>
								<block type="text">
									<styleClass value="$TextDefault"/>
									<styleClass value="$MiddleVAligned"/>
									<styleClass value="$ContextMenuListItemContent"/>
									<bind name="text" value="'IDS_INVITE_IN_DIVISION'"/>
								</block>
							</block>
						</block>
						<bind name="action" value="'click'; (invitationDisableReason == 'no_reason') ? 'inviteToDivision' : ''; {playerId: _player.id, playerName: _player.name, inviteType: InviteType.COMMON}"/>
					</block>
					<block>
						<bind name="visible" value="!!(playerInvitationData)"/>
						<styleClass value="$ContextMenuListItem"/>
						<block className="MenuItem">
							<styleClass value="$Fullsize"/>
							<block className="dock_submenu_item" type="native">
								<styleClass value="$FullsizeAbsolute"/>
							</block>
							<block type="text">
								<styleClass value="$TextDefault"/>
								<styleClass value="$MiddleVAligned"/>
								<styleClass value="$ContextMenuListItemContent"/>
								<bind name="text" value="'IDS_RECALL_INVITATION'"/>
							</block>
						</block>
						<bind name="action" value="'click'; 'revokeInvitationToDivision'; {id: playerInvitationData.id}"/>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginTop value="3px"/>
						<marginBottom value="2px"/>
						<marginLeft value="-2px"/>
						<marginRight value="-2px"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="visible" value="!(_isBattleLoading) &amp;&amp; !(isBot) &amp;&amp; !(isSuspended)"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="name" value="'id_complain'"/>
					<bind name="instance" value="'PlayerMenuItemExpanded'; 	{ 	_text: 'IDS_COMPLAIN', _battleType: _battleType, _isInBattle: _isBattleStats,
																_wantPraisePlayer: false, _evaluationLimitsComplain: evaluationLimits.complain,
																_player: _player, _isInPBS: _isInPBS, _playerDbId: _playerDbId ? _playerDbId : entityAccountBattleDbId, _arenaId: _arenaId, _isInSameDivisionOnStart: isInSameDivisionOnStart, _complaintsAvailable: _complaintsAvailable,
																_sortedBy: isEnemyPlayer ? 'team.enemy.complaint.sorted' : 'team.ally.complaint.sorted', 
															 }"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="name" value="'id_praise'"/>
					<bind name="instance" value="'PlayerMenuItemExpanded'; 	{ 	_text: 'IDS_PRAISE', _battleType: _battleType, _isInBattle: _isBattleStats, 
																_wantPraisePlayer: true, _evaluationLimitsPraise: evaluationLimits.praise,
																_player: _player, _isInPBS: _isInPBS, _playerDbId: _playerDbId ? _playerDbId : entityAccountBattleDbId, _arenaId: _arenaId, _isInSameDivisionOnStart: isInSameDivisionOnStart, _complaintsAvailable: _complaintsAvailable,
																_sortedBy: isEnemyPlayer ? 'team.enemy.praise.sorted' : 'team.ally.praise.sorted'
															 }"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="(_isBattleStats == true) &amp;&amp; !(isBot) &amp;&amp; !(isSuspended)"/>
				<bind name="name" value="'id_mute'"/>
				<style>
					<width value="100%"/>
				</style>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="action" value="'buttonClick'; isTextChatMuted ? 'unmuteUser' : 'muteUser'; {id: _player.id}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="7px"/>
						<hitTest value="false"/>
					</style>
					<block className="icon_text_chat_small" type="native">
						<style>
							<top value="6px"/>
							<marginRight value="4px"/>
						</style>
						<bind name="gotoAndStop!" value="(isTextChatMuted ? 'muted' : 'on')"/>
					</block>
					<block type="text">
						<style>
							<width value="100%"/>
							<marginBottom value="3px"/>
							<hitTest value="false"/>
							<marginRight value="4px"/>
							<leading value="-3"/>
						</style>
						<styleClass value="$TextDefault"/>
						<bind name="class" value="isTextChatMuted	? '$FontColorUnready'
													: '$FontColorWhite'"/>
						<bind name="text" value="isTextChatMuted ? 'IDS_UNMUTE_PLAYER_TEXT_CHAT' : 'IDS_MUTE_PLAYER_TEXT_CHAT'"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<bind name="visible" value="(canBeInChat &amp;&amp; !(_isInPBS) &amp;&amp; !(isBot) &amp;&amp; !(isSuspended))"/>
				<bind name="name" value="'id_mute_voice'"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="watch" value="'voiceChatMenuText'; 	!(_player.isInVoiceChat) 	? 'IDS_PLAYER_IS_NOT_AVAILABLE_IN_VOICE_CHAT' :
												_player.isMuted				? 'IDS_UNMUTE_PLAYER_VOICE_CHAT'
																			: 'IDS_MUTE_PLAYER_VOICE_CHAT'"/>
				<bind name="watch" value="'state'; 	!(_player.isInVoiceChat)	? 'disabled' :
									_player.isMuted				? 'muted'
																: 'speak'"/>
				<bind name="style" value="'alpha'; !(_player.isInVoiceChat)	? 0.9 : 1"/>
				<bind name="style" value="'hitTest'; !(_player.isInVoiceChat)	? false : true"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="action" value="'buttonClick'; 'toggleVoice'; {playerName: _player.pureName, nickName: _player.name}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginLeft value="7px"/>
						<hitTest value="false"/>
					</style>
					<block className="icon_voice_chat_small" type="native">
						<style>
							<marginTop value="6px"/>
							<marginRight value="4px"/>
						</style>
						<bind name="gotoAndStop!" value="state"/>
					</block>
					<block type="text">
						<style>
							<width value="100%"/>
							<marginBottom value="3px"/>
							<hitTest value="false"/>
							<marginRight value="4px"/>
							<leading value="-3"/>
						</style>
						<styleClass value="$TextDefault"/>
						<bind name="class" value="	!(_player.isInVoiceChat)	? '$FontColorUnready' :
									_player.isMuted				? '$FontColorUnready'
																: '$FontColorWhite'"/>
						<bind name="text" value="voiceChatMenuText"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block>
				<bind name="visible" value="!(isSuspended) &amp;&amp; !(isBot) &amp;&amp; ((canBeInChat &amp;&amp; _isBattleLoading) || !_isBattleLoading)"/>
				<style>
					<width value="100%"/>
					<marginTop value="3px"/>
					<marginBottom value="2px"/>
					<marginLeft value="-2px"/>
					<marginRight value="-2px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<bind name="dataRefDH" value="'contactsGroups'; 'dataHub.chat.ref.chat.contactsGroups.ref.items'"/>
			<bind name="dataRefDH" value="'chat'; 'dataHub.chat.ref.chat'"/>
			<bind name="var" value="{isChatServerAvailable: false}"/>
			<bind name="watchDH" value="'isChatServerAvailable'; ['chat.evConnected', 'chat.evDisConnected']; chat.isConnected"/>
			<block>
				<bind name="visible" value="!(isBot) &amp;&amp; !(isSuspended)"/>
				<style>
					<backgroundColor value="0x01000000"/>
					<width value="100%"/>
				</style>
				<bind name="style" value="'alpha'; isChatServerAvailable ? 1 : 0.5"/>
				<bind name="tooltip" value="'SimpleWarningTooltip'; !(isChatServerAvailable) ? {_text: tr('IDS_CONTACT_DISABLE_REASON_SERVER_CHAT_DISABLED'), _isInBattle: _isBattleStats} : null"/>
				<block>
					<styleClass value="$ContextMenuListItem"/>
					<bind name="visible" value="((groupIdsOfAccount==null) &amp;&amp; !(isIgnored))"/>
					<bind name="style" value="'hitTest';  isChatServerAvailable ? true : false"/>
					<block className="MenuItem">
						<styleClass value="$Fullsize"/>
						<block className="dock_submenu_item" type="native">
							<styleClass value="$FullsizeAbsolute"/>
						</block>
						<block type="text">
							<styleClass value="$TextDefault"/>
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$ContextMenuListItemContent"/>
							<bind name="text" value="'IDS_ADD_TO_CONTACTS'"/>
						</block>
					</block>
					<bind name="action" value="'click'; 'addContact'; {dbId: accountDbId}"/>
				</block>
				<block>
					<styleClass value="$ContextMenuListItem"/>
					<bind name="visible" value="((groupIdsOfAccount!=null) &amp;&amp; !(isIgnored))"/>
					<bind name="style" value="'hitTest';  isChatServerAvailable ? true : false"/>
					<block className="MenuItemWithAction">
						<styleClass value="$Fullsize"/>
						<block className="dock_submenu_item" type="native">
							<styleClass value="$FullsizeAbsolute"/>
						</block>
						<block type="text">
							<styleClass value="$TextDefault"/>
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$ContextMenuListItemContent"/>
							<bind name="text" value="'IDS_REMOVE_FROM_CONTACTS'"/>
						</block>
						<bind name="action" value="'click'; 'removeContact'; {dbId: accountDbId}"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="!(isIgnored) &amp;&amp; ((canAddGroupEntitiesId.length &gt; 0) &amp;&amp; (contactsGroups.length &gt; 1))"/>
					<bind name="style" value="'hitTest'; isChatServerAvailable ? true : false"/>
					<styleClass value="$ContextMenuListItem"/>
					<block className="MenuItem">
						<styleClass value="$Fullsize"/>
						<block className="dock_submenu_item" type="native">
							<styleClass value="$FullsizeAbsolute"/>
						</block>
						<block type="text">
							<styleClass value="$TextDefault"/>
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$ContextMenuListItemContent"/>
							<bind name="text" value="'IDS_ADD_TO_GROUP'"/>
						</block>
					</block>
					<block className="button_expand_h" type="native">
						<style>
							<position value="absolute"/>
							<right value="6px"/>
						</style>
						<styleClass value="$MouseDisable"/>
						<styleClass value="$MiddleVAligned"/>
					</block>
					<bind name="tooltip" value="'MoveToGroupContextSubMenu'; {_entityAccountId: playerEntityId, canAddGroupEntitiesId: canAddGroupEntitiesId, _dropDown: false, _isInBattle: _isBattleStats}; 7"/>
				</block>
				<block>
					<styleClass value="$ContextMenuListItem"/>
					<bind name="style" value="'hitTest'; isChatServerAvailable ? true : false"/>
					<block className="MenuItem">
						<styleClass value="$Fullsize"/>
						<block className="dock_submenu_item" type="native">
							<styleClass value="$FullsizeAbsolute"/>
						</block>
						<block type="text">
							<styleClass value="$TextDefault"/>
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$ContextMenuListItemContent"/>
							<bind name="text" value="(!isIgnored) ? 'IDS_IGNORE_PLAYER' : 'IDS_NOT_IGNORE_PLAYER'"/>
						</block>
					</block>
					<bind name="action" value="'click'; 'userIgnoreContact'; {dbId: accountDbId, ignore: !(isIgnored)}"/>
				</block>
				<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
				<bind name="watchDH" value="'clanId'; 	['selfPlayerEntity.clanman.evClanIdChanged']; selfPlayerEntity.clanman.clanId"/>
				<bind name="watchDH" value="'role'; 		['selfPlayerEntity.clanman.evRoleChanged']; selfPlayerEntity.clanman.role"/>
				<bind name="watchDH" value="'isFull'; 	['clanEntity.clanExtended.evIsFullChanged']; clanEntity.clanExtended.isFull"/>
				<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
				<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
				<bind name="watchDH" value="'clanName'; ['clanEntity.clanExtended.evNameChanged']; clanEntity.clanExtended.name"/>
				<bind name="watch" value="'haveOwnClan'; 			clanEntity != null"/>
				<bind name="watch" value="'canInvite'; 				(role == 'executive_officer' || role == 'recruitment_officer' || role == 'commander')"/>
				<bind name="watch" value="'alreadyInYourClan'; 		(playerEntity.clanman != null) &amp;&amp; (playerEntity.clanman.clanId == selfPlayerEntity.clanman.clanId)"/>
				<bind name="watch" value="'alreadyInAnotherClan'; 	(playerEntity.clanman != null) &amp;&amp; (playerEntity.clanman.clanId != selfPlayerEntity.clanman.clanId)"/>
				<bind name="watch" value="'noFreePlacesInClan'; 		isFull"/>
				<block>
					<bind name="visible" value="(haveOwnClan &amp;&amp; canInvite &amp;&amp; !alreadyInYourClan)"/>
					<bind name="action" value="'click'; 'ClanProxy.sendInvite'; { playerDBID: accountDbId }"/>
					<bind name="style" value="'alpha'; (alreadyInAnotherClan || noFreePlacesInClan) ? 0.5 : 1"/>
					<bind name="tooltip" value="'SimpleWarningTooltip'; (alreadyInAnotherClan || noFreePlacesInClan) ? { _text: 	noFreePlacesInClan 		? 'IDS_CLAN_INVITATION_DENY_REASON_CLAN_IS_FULL':
																												alreadyInAnotherClan 	? 'IDS_CLAN_INVITATION_DENY_REASON_PLAYER_ALREADY_IN_CLAN'
																																		: '', 
																										_isInBattle: _isBattleStats} 
																									: null"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<styleClass value="$ContextMenuListItem"/>
					<block>
						<styleClass value="$Fullsize"/>
						<block className="MenuItem">
							<styleClass value="$Fullsize"/>
							<block className="dock_submenu_item" type="native">
								<styleClass value="$FullsizeAbsolute"/>
							</block>
							<block type="text">
								<styleClass value="$TextDefault"/>
								<styleClass value="$MiddleVAligned"/>
								<styleClass value="$ContextMenuListItemContent"/>
								<bind name="text" value="'IDS_INVITATION_TO_CLAN'"/>
							</block>
						</block>
						<bind name="style" value="'hitTest'; (alreadyInAnotherClan || noFreePlacesInClan) ? false : true"/>
					</block>
				</block>
				<block>
					<params>
						<param name="name" value="id_profile"/>
					</params>
					<bind name="visible" value="realmConstants.showProfileInBrowser &amp;&amp; _isInPBS"/>
					<styleClass value="$ContextMenuListItem"/>
					<block className="MenuItem">
						<styleClass value="$Fullsize"/>
						<block className="dock_submenu_item" type="native">
							<styleClass value="$FullsizeAbsolute"/>
						</block>
						<block type="text">
							<styleClass value="$TextDefault"/>
							<styleClass value="$MiddleVAligned"/>
							<styleClass value="$ContextMenuListItemContent"/>
							<bind name="text" value="'IDS_PROFILE'"/>
						</block>
					</block>
					<bind name="request" value="'click'; 'showPlayerStats'; { playerId: accountDbId + '',  url: 'playerStats' }"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(isBot == true) || isSuspended"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginLeft value="7px"/>
					<marginBottom value="3px"/>
					<hitTest value="false"/>
					<marginRight value="4px"/>
					<leading value="-3"/>
					<alpha value="0.7"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="'IDS_NO_AVAILABLE_ACTIONS'"/>
			</block>
		</block>
	</block>
	<block className="PlayerMenuItemExpanded">
		<styleClass value="$ContextMenuListItem"/>
		<block className="MenuItem">
			<styleClass value="$Fullsize"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="text" value="_text"/>
			</block>
		</block>
		<block className="button_expand_h" type="native">
			<style>
				<position value="absolute"/>
				<right value="6px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MouseDisable"/>
		</block>
		<bind name="tooltip" value="'PlayerSubMenu'; {	_battleType: _battleType, _isInBattle: _isInBattle, _sortedBy: _sortedBy, _player: _player,
										_isInPBS: _isInPBS, _playerDbId: _playerDbId, _arenaId: _arenaId, _wantPraisePlayer: _wantPraisePlayer,
										_evaluationLimitsComplain: _evaluationLimitsComplain, _evaluationLimitsPraise: _evaluationLimitsPraise,
										_isInSameDivisionOnStart: _isInSameDivisionOnStart, _complaintsAvailable: _complaintsAvailable};
										TooltipBehaviour.submenu"/>
	</block>
	<block className="PlayerSubMenu">
		<bind name="watch" value="'isEvaluationDisabledReason';	(_battleType == BattleTypes.CLAN_BATTLE) 		? _wantPraisePlayer		? 'IDS_PRAISE_DISABLED_FOR_CLAN_BATTLES' 
																														: 'IDS_COMPLAIN_DISABLED_FOR_CLAN_BATTLES' 
																								: 
												(_battleType == BattleTypes.TRAINING_BATTLE)							? 'IDS_CUSTOM_ROOM' :
												(_evaluationLimitsComplain == 0) || (_evaluationLimitsPraise == 0)		? 'IDS_DAY_LIMIT_IS_OFF' :
												_isInSameDivisionOnStart						? _wantPraisePlayer 	? 'IDS_PRAISE_DISABLED_FOR_DIVISION_MEMBERS'
																														: 'IDS_COMPLAIN_DISABLED_FOR_DIVISION_MEMBERS' :
												!(_complaintsAvailable)							? _wantPraisePlayer		? 'IDS_PRAISE_TIMEOUT'
																														: 'IDS_COMPLAIN_TIMEOUT'
																								: false"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<style>
			<width value="270px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; { _isInBattle: _isInBattle }"/>
		</block>
		<block>
			<bind name="collectionRepeatDH" value="CC.playerEvaluationInfo; 'PlayerSubMenuItem'; _sortedBy; 
									{ 	_isEvaluationDisabledReason: isEvaluationDisabledReason, _isInPBS: _isInPBS,
									 	_playerDbId: _playerDbId, _arenaId: _arenaId, _player: _player}"/>
		</block>
		<block>
			<bind name="instance" value="'WarningsAndDisableReasons'; { 	_evaluationLimitsComplain: _evaluationLimitsComplain, 
														_evaluationLimitsPraise: _evaluationLimitsPraise, 
														_isEvaluationDisabledReason: isEvaluationDisabledReason }"/>
		</block>
	</block>
	<block className="PlayerSubMenuItem">
		<bind name="dataRefDH" value="'infoEntity'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'evaluationType'; 	[]; infoEntity.playerEvaluationInfo.evaluationType"/>
		<bind name="watchDH" value="'evaluationTopic'; 	[]; infoEntity.playerEvaluationInfo.evaluationTopic"/>
		<bind name="watchDH" value="'messageIDS'; 		[]; infoEntity.playerEvaluationInfo.messageIDS"/>
		<style>
			<width value="270px"/>
		</style>
		<styleClass value="$ContextMenuListItem"/>
		<bind name="name" value="'id_' + messageIDS"/>
		<bind name="style" value="'alpha'; _isEvaluationDisabledReason ? 0.5 : 1"/>
		<bind name="action" value="'buttonClick'; 'sendEvaluation'; _isInPBS ? {type: evaluationType, topic: evaluationTopic, accountDBID: _playerDbId, arenaId: _arenaId}
															: {type: evaluationType, topic: evaluationTopic, nickname: _player.name, arenaId: _arenaId}"/>
		<block className="dock_submenu_item" type="native">
			<bind name="style" value="'hitTest'; _isEvaluationDisabledReason ? false : true"/>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<maxWidth value="252"/>
				<marginLeft value="6px"/>
			</style>
			<bind name="text" value="messageIDS"/>
		</block>
	</block>
	<block className="WarningsAndDisableReasons">
		<bind name="watch" value="'isEvaluationDisabledReason'; 	_isEvaluationDisabledReason "/>
		<bind name="watch" value="'disableReasonComplain'; 		(_evaluationLimitsComplain &gt; 0) &amp;&amp; !(_isEvaluationDisabledReason)"/>
		<bind name="watch" value="'disableReasonPraise'; 		(_evaluationLimitsPraise &gt; 0) &amp;&amp; !(_isEvaluationDisabledReason) "/>
		<bind name="watch" value="'warningTextClass'; 	(disableReasonComplain || disableReasonPraise) 	? '$FontColorUnready' : 
										isEvaluationDisabledReason 						? '$FontColorCompareNegative'
																						: '$None'"/>
		<bind name="watch" value="'warningText'; 		disableReasonComplain 							? (tr('IDS_DAY_LIMIT') + ' ' + _evaluationLimitsComplain) :
										disableReasonPraise 							? (tr('IDS_DAY_LIMIT') + ' ' + _evaluationLimitsPraise) :
										isEvaluationDisabledReason 						? isEvaluationDisabledReason
																						: ''"/>
		<style>
			<marginLeft value="9px"/>
			<marginBottom value="6px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="disableReasonComplain || disableReasonPraise"/>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="4px"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="isEvaluationDisabledReason"/>
			<block className="icon_warning_red" type="native">
				<style>
					<marginTop value="4px"/>
				</style>
			</block>
		</block>
		<block type="text">
			<params>
				<param name="name" value="warningsAndDisableReasons"/>
			</params>
			<style>
				<maxWidth value="240"/>
				<marginLeft value="1px"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="warningTextClass"/>
			<bind name="text" value="warningText"/>
		</block>
	</block>
	<block className="UIListVoiceTextChatIcons">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.avatar; _playerId"/>
		<bind name="watchDH" value="'pureName';			[]; playerEntity.avatar.pureName"/>
		<bind name="watchDH" value="'isTextChatMuted'; ['playerEntity.avatar.evMuteChanged']; playerEntity.avatar.mute"/>
		<bind name="watchDH" value="'relation'; 			['playerEntity.relation.evChanged']; playerEntity.relation.value"/>
		<bind name="watch" value="'isSelf'; (relation == 0)"/>
		<bind name="watch" value="'playerCanBeInChat';	((_battleType == BattleTypes.CLAN_BATTLE) &amp;&amp; VoiceChatState.enabled) ||
										((_isInSameDivision &amp;&amp; VoiceChatState.enabled) &amp;&amp;	((_battleType == BattleTypes.RANDOM_BATTLE) ||
																							(_battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																							(_battleType == BattleTypes.PVE_BATTLE)))"/>
		<bind name="watch" value="'selfCanBeInChat';	((_battleType == BattleTypes.CLAN_BATTLE) &amp;&amp; isSelf) ||
									((isSelf &amp;&amp; _selfPlayerDivisionId) &amp;&amp;  ((_battleType == BattleTypes.RANDOM_BATTLE) ||
																			(_battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																			(_battleType == BattleTypes.PVE_BATTLE)))"/>
		<bind name="watch" value="'canBeInChat'; (playerCanBeInChat || selfCanBeInChat)"/>
		<bind name="name" value="isTextChatMuted ? 'mute_' + pureName
								: 'not_mute_' + pureName"/>
		<block>
			<bind name="visible" value="canBeInChat"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="transition" value="canBeInChat &amp;&amp; isTextChatMuted &amp;&amp; (_isSpeaking || _isVoiceChatMuted || !(_isInVoiceChat)); 0.15; {alpha: 1, top: 9}; {alpha: 1, top: 3}; {alpha: 1, top: 9}; 1"/>
			<bind name="watch" value="'state';	!(_isInVoiceChat)	? 'disabled' :
								_isVoiceChatMuted	? 'muted' :
								_isSpeaking			? 'speak'
													: null"/>
			<block>
				<bind name="transition" value="state; 0.1; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1"/>
				<block className="icon_voice_chat_small" type="native">
					<bind name="gotoAndStop!" value="state"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="transition" value="canBeInChat &amp;&amp; isTextChatMuted &amp;&amp; (_isSpeaking || _isVoiceChatMuted || !(_isInVoiceChat)); 0.15; {alpha: 1, top: 8}; {alpha: 1, top: 14}; {alpha: 1, top: 8}; 1"/>
			<block>
				<bind name="transition" value="isTextChatMuted; 0.1; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1"/>
				<block className="icon_text_chat_small" type="native">
					<bind name="gotoAndStop!" value="'muted')"/>
				</block>
			</block>
		</block>
	</block>
	<block className="DropdownInfotip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<style>
			<width value="1px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '100px'"/>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="_dropdownContentElement; { _menuScope: _menuScope }"/>
		</block>
	</block>
	<block className="InstructionParagraph">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<style>
				<width value="100%"/>
				<alpha value="0.9"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 220"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InstructionMultiParagraph">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block className="icon_instruction" type="native">
			<bind name="gotoAndStop!" value="_type"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="repeat" value="_instructionArray; 'InstructionParagraph'"/>
		</block>
	</block>
	<block className="InstructionWarning">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_warning_orange" type="native"/>
		<block type="text">
			<style>
				<marginTop value="-5px"/>
				<marginLeft value="4px"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<styleClass value="$WarningTextOrange"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="MouseInstruction">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="_type!='no_icon'"/>
			<block className="icon_mouse" type="native">
				<bind name="gotoAndStop!" value="_type"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="style" value="'marginLeft'; (_type=='no_icon') ? '0px' : '4px'"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 180"/>
			<style>
				<marginTop value="-2px"/>
			</style>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="MouseInstructionRepeater">
		<bind name="style" value="'marginBottom'; $index != _lastIndex ? '6px' : '0px'"/>
		<bind name="instance" value="'MouseInstruction'; _type == 'warning' ? null : { _type: _type, _instructionText: _instructionText, _maxWidth: _maxWidth}"/>
		<bind name="instance" value="'InstructionWarning'; _type == 'warning' ? {_instructionText: _instructionText, _maxWidth: _maxWidth} : null"/>
	</block>
	<block className="CheckedLine">
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="icon_check" type="native">
			<style>
				<marginLeft value="2px"/>
				<marginTop value="8px"/>
			</style>
			<bind name="visible" value="!_isCheckMarkHidden"/>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<width value="288px"/>
				<marginTop value="-2px"/>
				<multiline value="false"/>
			</style>
			<bind name="class" value="'$FontColorGolden'"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'marginLeft'; _isCheckMarkHidden ? '0' : '5px'"/>
			<bind name="text" value="_checkedLineText"/>
		</block>
	</block>
	<block className="CheckedLineRepeater">
		<bind name="style" value="'marginBottom'; $index != _lastIndex ? '6px' : '-2px'"/>
		<bind name="instance" value="'CheckedLine'; { _isCheckMarkHidden: _isCheckMarkHidden, _checkedLineText: _checkedLineText, _maxWidth: _maxWidth}"/>
	</block>
	<block className="InstructionBigTech">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 500"/>
			<bind name="text" value="_instructionText"/>
		</block>
	</block>
	<block className="DockTopMenuLinkText">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<block type="text">
			<styleClass value="$TextDockNano"/>
			<bind name="class" value="rollOver &amp;&amp; !(mouseDown) ? '$FontColorDefault' : '$None'"/>
			<bind name="text" value="_label"/>
		</block>
	</block>
	<block className="EmptyStatusParagraph">
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="_sizeClass ? _sizeClass : '$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 250"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="InvertableTextLine">
		<block type="text">
			<bind name="name" value="_name"/>
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.35"/>
				<top value="1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.1"/>
				<top value="-1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.2"/>
				<left value="1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _normalClass : _invertedClass"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.2"/>
				<left value="-1px"/>
			</style>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
		<block type="text">
			<bind name="class" value="_invert ? _invertedClass : _normalClass"/>
			<bind name="style" value="'multiline'; _width ? false : true"/>
			<bind name="style" value="'width'; _width ? _width : 'auto'"/>
			<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="ResizeFrame">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<bind name="visible" value="!(restrict.up)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="6px"/>
				<top value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_top"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN'"/>
			<style>
				<position value="absolute"/>
				<width value="100%"/>
				<height value="6px"/>
				<bottom value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_bottom"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="6px"/>
				<height value="100%"/>
				<left value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="6px"/>
				<height value="100%"/>
				<right value="-3px"/>
				<backgroundColor value="0x01ff0000"/>
			</style>
			<params>
				<param name="name" value="grip_right"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.up || restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<top value="-5px"/>
				<left value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_top_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.up || restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_UP_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<top value="-5px"/>
				<right value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_top_right"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down || restrict.left)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN_LEFT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<bottom value="-5px"/>
				<left value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_bottom_left"/>
			</params>
		</block>
		<block>
			<bind name="visible" value="!(restrict.down || restrict.right)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController; 'HANGAR_DRAGGING_DOWN_RIGHT'"/>
			<style>
				<position value="absolute"/>
				<width value="12px"/>
				<height value="12px"/>
				<bottom value="-5px"/>
				<right value="-5px"/>
				<backgroundColor value="0x0100ff00"/>
			</style>
			<params>
				<param name="name" value="grip_bottom_right"/>
			</params>
		</block>
	</block>
	<css name="$WarningTextRed">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF6600"/>
	</css>
	<css name="$WarningTextOrange">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFF9933"/>
	</css>
	<block className="WarningMessage">
		<bind name="appear" value="'addedToStage'; 0.15; _delay; {alpha: 0, top: _startTop ? _startTop : 10}; {alpha: 1, top: 0}; 2"/>
		<bind name="var" value="{errorStringsToShowSupportLinkFor: [
		tr('IDS_ACCOUNT_ERROR_ALL_SPA_LOGIN_ALREADY_TAKEN')
	]}"/>
		<block type="text">
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 280"/>
			<bind name="class" value="_highWarning ? '$WarningTextRed' : '$WarningTextOrange'"/>
			<style>
				<textAlign value="center"/>
			</style>
			<bind name="text" value="_text"/>
		</block>
		<block>
			<bind name="visible" value="errorStringsToShowSupportLinkFor.indexOf(_text) &gt; -1"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="6px"/>
			</style>
			<bind name="instance" value="'LinkText'; errorStringsToShowSupportLinkFor.indexOf(_text) &gt; -1 	? {
																								_label: 'IDS_LINK_SUPPORT', 
																								_urlIdent: URL.SUPPORT, 
																								_tooltipText: 'IDS_LINK_SUPPORT_HINT', 
																								_name: 'ButtonSupport'} 
																							: null"/>
		</block>
	</block>
	<block className="WrongTextInputNotification">
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: _startTop ? _startTop : 10}; {alpha: 1, top: 0}; 2"/>
		<style>
			<width value="100%"/>
			<marginRight value="-1px"/>
			<marginLeft value="-1px"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="1px"/>
				<marginBottom value="0px"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="notification_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block className="button_close" type="native">
			<bind name="visible" value="_showCloseBtn == true"/>
			<style>
				<right value="8"/>
				<top value="7"/>
				<position value="absolute"/>
			</style>
			<bind name="dispatch" value="'buttonClick'; 'hideWrongMessageEv'"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="8px"/>
				<marginBottom value="7px"/>
			</style>
			<bind name="instance" value="'WarningMessage'; true	? { _delay: 0.07, _startTop: _startTop, _messageHiglight: _messageHiglight, _maxWidth: _maxWidth, _text: _text}
												: null"/>
		</block>
		<bind name="dispatch" value="'click'; 'hideWrongMessageEv'; {}"/>
	</block>
	<block className="MultiParagraphHelpTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="330px"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '330px'"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block className="GUIContrast">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="watch" value="'iconType'; _iconType ? _iconType : 'question'"/>
			<block className="icon_question_mark" type="native">
				<bind name="visible" value="iconType == 'question'"/>
				<style>
					<marginRight value="6px"/>
					<marginTop value="4px"/>
				</style>
			</block>
			<block className="icon_info_big" type="native">
				<bind name="visible" value="iconType == 'info'"/>
				<style>
					<marginRight value="6px"/>
					<marginTop value="4px"/>
				</style>
			</block>
			<block className="mc_icon_ship" type="native">
				<bind name="visible" value="iconType == 'ship' &amp;&amp; _shipType != 'premiumShip'"/>
				<style>
					<marginRight value="6px"/>
					<marginTop value="10px"/>
				</style>
				<bind name="style" value="'marginLeft'; _shipType == 'Destroyer' ? '-2px' : '2px'"/>
				<bind name="gotoAndStop!" value="_shipType"/>
			</block>
			<block type="text">
				<style>
					<top value="1px"/>
				</style>
				<bind name="style" value="'maxWidth'; _width ? _width - 60 : 270"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="class" value="_shipType == 'premiumShip' ? '$FontColorGolden' : '$FontColorWhite'"/>
				<bind name="text" value="_tooltipHeader"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<style>
					<marginLeft value="12px"/>
					<marginRight value="12px"/>
					<marginTop value="9px"/>
					<marginBottom value="3px"/>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="_multiParagraphArray; 'RepeatParagraphItem'; {_maxWidth: _width - 24}"/>
			</block>
		</block>
	</block>
	<block className="RepeatParagraphItem">
		<bind name="style" value="'marginBottom'; _marginBottom ? _marginBottom : '6px'"/>
		<bind name="class" value="_middleAligned ? '$MiddleAligned' : ''"/>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="_class"/>
			<bind name="style" value="'leading'; _leading ? _leading : 0"/>
			<bind name="style" value="'textAlign'; _textAlign ? _textAlign : 'left'"/>
			<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 300"/>
			<bind name="text" value="(_toUpperCase ? toUpperCase(tr(_paragraphText)) : _paragraphText)"/>
			<bind name="substitute" value="	_substitute.mapName ? _substitute.mapName : '';
							_substitute.imageOffset ? _substitute.imageOffset : 0;
							_substitute.map ? _substitute.map : {}"/>
		</block>
	</block>
	<block className="GUIContrast">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
	</block>
	<block className="CheckBox">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="watch" value="'isEnabled'; _disabled != true"/>
		<block className="checkbox_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="enabled" value="isEnabled"/>
			<bind name="selected" value="switchProperty"/>
		</block>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<marginLeft value="23px"/>
				<marginTop value="-3px"/>
				<hitTest value="false"/>
			</style>
			<bind name="style" value="'maxWidth'; _maxTfWidth ? _maxTfWidth : 300"/>
			<bind name="transition" value="(rollOver &amp;&amp; !mouseDown) &amp;&amp; isEnabled; 0.15; {alpha: 0.8}; {alpha: 1}; {alpha: 0.8}; 2"/>
			<bind name="text" value="label"/>
		</block>
	</block>
	<block className="IconSlimClient">
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _isEventLike ? 'IDS_ENTER_IN_FULL_VERSION_FOR_ANNOUNCE_SHIPS' : 'IDS_ENTER_IN_FULL_VERSION_FOR_SHIPS'}"/>
		<block className="game_downloading" type="native"/>
	</block>
	<block className="BannerButtonInstance">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="transition" value="rollOver; 0.07; {alpha: 0.85}; {alpha: 0.95}"/>
		<style>
			<width value="217px"/>
			<height value="60px"/>
			<flow value="horizontal"/>
		</style>
		<bind name="name" value="_input"/>
		<bind name="input"/>
		<bind name="action" value="'click'; _action ? _action : null"/>
		<block className="button_infopanel_no_label" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="100%"/>
				<marginRight value="8px"/>
				<marginLeft value="12px"/>
				<hitTest value="false"/>
			</style>
			<block>
				<style>
					<width value="37px"/>
					<height value="100%"/>
				</style>
				<block>
					<bind name="style" value="'width'; _iconSize"/>
					<bind name="style" value="'height'; _iconSize"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="style" value="'backgroundImage'; _iconUrl"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="8px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<style>
						<width value="100%"/>
						<leading value="-3"/>
						<hitTest value="false"/>
						<alpha value="0.85"/>
					</style>
					<styleClass value="$TextDefaultBold17NM"/>
					<bind name="text" value="_label"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipTitleWithIconAndSilhouette">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<block>
			<block>
				<bind name="instance" value="'ShipTitleWithIconAndLevel'; {_shipID : _shipID}"/>
			</block>
			<block>
				<style>
					<width value="122px"/>
					<height value="22px"/>
					<marginLeft value="12px"/>
					<marginTop value="-2px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathTinyIcon"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ShipTitleWithIconAndLevel">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<block>
			<style>
				<height value="27px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<top value="-1px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block>
				<style>
					<marginLeft value="5px"/>
					<marginTop value="7px"/>
				</style>
				<block className="icon_ship" type="native">
					<styleClass value="$MouseDisable"/>
					<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial 	? shipInfo.subtype + '_P'
																				: shipInfo.subtype"/>
				</block>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="-2px"/>
				</style>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial	? '$FontShipnameGolden'
																		: '$FontShipnameWhite'"/>
					<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CharCounter">
		<bind name="transition" value="_string.length &gt; 0; 0.15; {alpha: 0, top:10}; {alpha: 1, top:0}; {alpha: 0, top:10}; 1; 0"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CHARS_LEFT'}"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefault"/>
			<bind name="class" value="_string.length &gt; _maxChars ? '$FontColorUnready' : '$FontColorDefault'"/>
			<bind name="style" value="'alpha'; _string.length &gt; _maxChars ? 1 : 0.6"/>
			<bind name="text" value="_maxChars - _string.length"/>
		</block>
	</block>
	<block className="BusyIndicator">
		<bind name="fade" value="_showBusyIndicator; 0.15; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1; 0.3"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<block className="indicator_busy_small" type="native"/>
		</block>
		<block type="text">
			<bind name="visible" value="_label.length &gt; 0"/>
			<styleClass value="$TextDefaultTech"/>
			<bind name="class" value="'$Bold'"/>
			<style>
				<marginLeft value="6px"/>
				<marginTop value="-2px"/>
			</style>
			<bind name="text" value="toUpperCase(tr(_label))"/>
		</block>
	</block>
	<block className="FormationPlayerIcon">
		<style>
			<width value="15px"/>
		</style>
		<bind name="watch" value="'postfix'; isOtherDivision ? '_other_division' : ''"/>
		<block className="formation_player_status" type="native">
			<style>
				<marginTop value="3px"/>
			</style>
			<bind name="gotoAndStop!" value="_isEmptySlot					?	('empty_slot_' + _formationType) :
							isInBattle						?	('player_in_battle_' + _formationType + postfix) :
							_isWardog &amp;&amp; isReady			?	('player_ready_' + _formationType + '_merc') :
							_isWardog &amp;&amp; !isReady			?	('player_not_ready_' + _formationType + '_merc') :
							isCommander &amp;&amp; isReady			?	('commander_' + _formationType + postfix) :
							isCommander &amp;&amp; !isReady			?	('commander_not_ready_' +_formationType + postfix) :
							!isCommander &amp;&amp; isReady			?	('player_ready_' + _formationType + postfix) :
							!isCommander &amp;&amp; !isReady		?	('player_not_ready_' + _formationType + postfix)
															:	'empty_slot_division'"/>
		</block>
	</block>
	<css name="$TextBackBtn">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="BackButton">
		<style>
			<height value="30px"/>
		</style>
		<block className="button_dock" type="native">
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _text}"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="dispatch" value="'buttonClick'; _event	 ? _event  : null; _eventData	 ? _eventData : {}"/>
			<bind name="action" value="'buttonClick'; _action	 ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<params>
				<param name="focusable" value="false"/>
			</params>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<hitTest value="false"/>
			</style>
			<block className="icon_navigate" type="native">
				<bind name="gotoAndStop!" value="'left'"/>
				<style>
					<marginLeft value="6px"/>
				</style>
			</block>
			<block>
				<bind name="name" value="_name ? _name : '' "/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="2px"/>
					<marginRight value="7px"/>
				</style>
				<block>
					<style>
						<marginTop value="-4px"/>
					</style>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.4"/>
							<top value="1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<top value="-1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<left value="1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorAlmostBlack'"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.2"/>
							<left value="-1px"/>
						</style>
						<bind name="text" value="_text"/>
					</block>
					<block type="text">
						<styleClass value="$TextBackBtn"/>
						<bind name="class" value="'$FontColorBlueish'"/>
						<bind name="text" value="_text"/>
					</block>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ScoreRatioCounter">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; _tooltipTextPlayerResult ? { tooltipText: _tooltipTextPlayerResult } : null"/>
			<bind name="style" value="'alpha'; (_playerPointsCounter == 0) ? 0.5 : 1"/>
			<block type="text">
				<bind name="class" value="'$TextHeaderWhiteBold'"/>
				<bind name="text" value="_playerPointsCounter"/>
			</block>
		</block>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; _tooltipTextTotalResult ? { tooltipText: _tooltipTextTotalResult } : null"/>
			<style>
				<alpha value="0.7"/>
			</style>
			<block type="text">
				<style>
					<marginTop value="1px"/>
				</style>
				<bind name="class" value="'$TextHeaderBold'"/>
				<bind name="text" value="'/'"/>
			</block>
			<block type="text">
				<style>
					<marginTop value="2px"/>
					<marginLeft value="-1px"/>
				</style>
				<bind name="class" value="'$TextHeaderBold'"/>
				<bind name="text" value="_totalPointsCounter"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PlayerNameAndClanTag">
		<bind name="watch" value="'clanTagColor'; ('0xff' + _clanTagColor)"/>
		<bind name="watch" value="'haveClanTag'; _clanTag != null &amp;&amp;
								_clanTag != ''"/>
		<bind name="watch" value="'isColoredClanTag'; (haveClanTag &amp;&amp; !_noClanTagColor &amp;&amp; _clanTagColor != null)"/>
		<bind name="watch" value="'playerName'; 	isColoredClanTag 	?	_playerName :
								haveClanTag			?	('[' + _clanTag + ']' + _playerName)
													: _playerName"/>
		<bind name="watch" value="'fontColor'; 	_isSelf 	? 	_ttkStatus 			? '$FontColorTTK' :
												_ctkStatus			? '$FontColorCompareNegative' :
												_tkStatus 			? '$FontColorTeamkiller'
																	: '$FontColorGolden':
								!_isDead 	?  	_ttkStatus 			? '$FontColorTTK' :
												_isInSameDivision 	? '$FontColorGolden' :
												_tkStatus 			? '$FontColorTeamkiller'												
																	: '$FontColorWhite'
											: '$FontColorAlmostBlack'"/>
		<style>
			<hitTest value="false"/>
			<flow value="horizontal"/>
			<width value="100%f"/>
		</style>
		<block type="text">
			<style>
				<marginLeft value="3px"/>
			</style>
			<bind name="visible" value="isColoredClanTag == true"/>
			<style>
				<multiline value="false"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="style" value="'fontSize'; _fontSize ? _fontSize : 15"/>
			<bind name="class" value="_isSelf ? '$Bold' : '$None'"/>
			<bind name="style" value="'textColor'; clanTagColor"/>
			<bind name="text" value="tr('[' + _clanTag + ']')"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="3px"/>
				<multiline value="false"/>
				<width value="100%f"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="style" value="'fontSize'; _fontSize ? _fontSize : 15"/>
			<bind name="class" value="_isSelf 	? '$Bold' : '$None'"/>
			<bind name="class" value="(_isDead &amp;&amp; !_isSelf ? '$FontDropShadowWhite' : '$None')"/>
			<bind name="class" value="fontColor"/>
			<bind name="text" value="playerName"/>
		</block>
	</block>
	<block className="HotkeyWithText">
		<bind name="dispatch" value="'click'; _event	? _event  	: null; _eventData	 	? _eventData 	: {}"/>
		<bind name="action" value="'click'; _action	? _action 	: null; _actionParams 	? _actionParams : {}"/>
		<bind name="request" value="'click'; _request 	? _request 	: null; _requestParams 	? _requestParams: {}"/>
		<bind name="tooltip" value="'SimpleTooltip'; _tooltipText ? { tooltipText: _tooltipText } : null; 0"/>
		<block className="hotkey_holder_white_9slice" type="native">
			<block type="text">
				<style>
					<marginLeft value="3px"/>
					<marginRight value="3px"/>
					<marginTop value="-1px"/>
					<marginBottom value="-1px"/>
				</style>
				<styleClass value="$BlackLabel"/>
				<bind name="text" value="_text"/>
			</block>
		</block>
	</block>
	<block className="NavigationButton">
		<style>
			<marginBottom value="1px"/>
		</style>
		<block className="button_navigation_small" type="native">
			<bind name="name" value="_name"/>
			<bind name="label" value="_label"/>
			<bind name="selected" value="_selectedIndex == $index"/>
			<bind name="dispatch" value="'click'; 'evClicked'; { selectedIndex: $index }"/>
		</block>
	</block>
	<block className="StepProgressBar">
		<bind name="tooltip" value="'ArcEventLoyaltyRewardTooltip'; 			_showLoyaltyHint 	? { _index: $index, _side: _side } : null"/>
		<bind name="tooltip" value="'ArcEventLoyaltyRewardTooltipHistory'; 	_showHistoryHint 	? { _index: $index, _side: _side } : null"/>
		<bind name="tooltip" value="'ArcEventPersonalDailyProgressTooltip'; 	_showProgressHint 	? { _index: $index } : null"/>
		<bind name="watch" value="'isFull'; (_activeIndex == 0) ? false : ($index &lt;= (_activeIndex - 1))"/>
		<bind name="watch" value="'pureProgress'; (_activeIndex == 0) 			? ((_currValue / _arrayValues[$index]) * 10)
																: ((_currValue - _arrayValues[$index - 1]) / (_arrayValues[$index] - _arrayValues[$index - 1])) * 10"/>
		<bind name="watch" value="'progressValue'; 	(_activeIndex == $index) 	? pureProgress :
									isFull 						? 10
																: 0"/>
		<bind name="style" value="'width'; _width ? _width : '80px'"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<style>
				<right value="-16"/>
				<marginBottom value="-30px"/>
			</style>
			<bind name="visible" value="_showLootbox == true"/>
			<bind name="style" value="'colorMatrixFilter'; ((_activeIndex == $index) &amp;&amp; (_currValue != 0)) || (isFull == true) ? '0 0 0 0' : '0 -100 0 0'"/>
			<bind name="style" value="'alpha'; (_activeIndex == $index) &amp;&amp; (_currValue != 0) ? 1 : 0.5"/>
			<bind name="instance" value="'RewardItemWithStamp'; { _issued: isFull, _scale: _scale, _backgroundImage: _backgroundImage }"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="8"/>
			</style>
			<bind name="style" value="'height'; _height ? _height : '5px'"/>
			<block className="indicator_progress_bar_bg" type="native">
				<bind name="visible" value="!isFull"/>
				<style>
					<width value="100%"/>
				</style>
			</block>
			<block className="indicator_progress_bar_yellow_no_bg" type="native">
				<bind name="visible" value="_showYellowBar"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<bind name="style" value="'alpha'; (_activeIndex == $index) &amp;&amp; (_currValue != 0) ? 1 : 0.5"/>
				<bind name="style" value="'height'; _height ? _height : '5px'"/>
				<bind name="value" value="progressValue"/>
			</block>
			<block className="indicator_progress_bar_grey_no_bg" type="native">
				<bind name="visible" value="!_showYellowBar"/>
				<style>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<bind name="style" value="'alpha'; (_activeIndex == $index) &amp;&amp; (_currValue != 0) ? 1 : 0.5"/>
				<bind name="style" value="'height'; _height ? _height : '5px'"/>
				<bind name="value" value="progressValue"/>
			</block>
		</block>
		<block>
			<style>
				<right value="0px"/>
				<marginTop value="8"/>
			</style>
			<bind name="style" value="'alpha'; (_activeIndex == $index) &amp;&amp; (_currValue != 0) ? 1 : 0.5"/>
			<block type="text">
				<styleClass value="$TextDefaultBoldNM"/>
				<bind name="text" value="_arrayValues[$index]"/>
			</block>
		</block>
	</block>
	<block className="RewardItemWithStamp">
		<block>
			<style>
				<width value="80px"/>
				<height value="80px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; _backgroundImage"/>
			<bind name="scaleX" value="_scale ? _scale : 1"/>
			<bind name="scaleY" value="_scale ? _scale : 1"/>
		</block>
		<block>
			<bind name="scaleX" value="_scale ? (_scale - 0.14) : 0.86"/>
			<bind name="scaleY" value="_scale ? (_scale - 0.14) : 0.86"/>
			<style>
				<position value="absolute"/>
				<alpha value="0.9"/>
				<hitTest value="false"/>
				<top value="46%"/>
				<left value="42%"/>
			</style>
			<block className="icon_issued" type="native">
				<bind name="gotoAndStop!" value="_issued	? 'issued' : 'not_issued'"/>
				<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
				<bind name="rotation" value="-2"/>
			</block>
		</block>
	</block>
	<block className="GiftBoxIconSmall">
		<block className="icon_giftbox_small" type="native">
			<bind name="scaleX" value="_scale ? _scale : 1"/>
			<bind name="scaleY" value="_scale ? _scale : 1"/>
			<bind name="gotoAndStop!" value="'normal'"/>
		</block>
		<block className="icon_issued_small" type="native">
			<style>
				<position value="absolute"/>
				<top value="55%"/>
				<left value="50%"/>
				<alpha value="0.9"/>
				<hitTest value="false"/>
			</style>
			<bind name="scaleX" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="scaleY" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="rotation" value="-2"/>
			<bind name="gotoAndStop!" value="_issued	? 'issued' : 'not_issued'"/>
			<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
		</block>
	</block>
	<block className="GiftBoxIconBig">
		<block className="icon_giftbox" type="native">
			<bind name="scaleX" value="_scale ? _scale : 1"/>
			<bind name="scaleY" value="_scale ? _scale : 1"/>
			<bind name="gotoAndStop!" value="'normal'"/>
		</block>
		<block className="icon_issued" type="native">
			<style>
				<position value="absolute"/>
				<top value="55%"/>
				<left value="50%"/>
				<alpha value="0.9"/>
				<hitTest value="false"/>
			</style>
			<bind name="scaleX" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="scaleY" value="_scale ? (_scale - 0.04) : 0.96"/>
			<bind name="rotation" value="-2"/>
			<bind name="gotoAndStop!" value="_issued	? 'issued' : 'not_issued'"/>
			<innerBind elementName="item.item" name="text" value="'IDS_ISSUED_STAMP'"/>
		</block>
	</block>
	<block className="NationFlagsBig">
		<style>
			<backgroundStretchY value="true"/>
			<backgroundStretchX value="true"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '694px' "/>
		<bind name="style" value="'height'; _height ? _height : '426px' "/>
		<bind name="style" value="'alpha'; _alpha ? _alpha : '1' "/>
		<bind name="style" value="'backgroundImage'; 'url:../nation_flags/big/flag_' + shipCountry + '.png'"/>
	</block>
	<block className="NationFlagsSmall">
		<style>
			<backgroundStretchY value="true"/>
			<backgroundStretchX value="true"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '117px' "/>
		<bind name="style" value="'height'; _height ? _height : '72px' "/>
		<bind name="style" value="'alpha'; _alpha ? _alpha : '1' "/>
		<bind name="style" value="'backgroundImage'; 'url:../nation_flags/small/flag_' + shipCountry + '.png'"/>
	</block>
	<block className="NationFlagsTiny">
		<style>
			<backgroundStretchY value="true"/>
			<backgroundStretchX value="true"/>
		</style>
		<bind name="style" value="'width'; _width ? _width : '33px' "/>
		<bind name="style" value="'height'; _height ? _height : '21px' "/>
		<bind name="style" value="'alpha'; _alpha ? _alpha : '1' "/>
		<bind name="style" value="'backgroundImage'; 'url:../nation_flags/tiny/flag_' + shipCountry + '.png'"/>
	</block>
	<block className="ShipExtendedTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + shipId; 'shipExplorePrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + shipId; 'shipBuyPrice'"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<bind name="style" value="'userData'; { rightOffset: _hOffset }"/>
		<styleClass value="$ShipTreeTooltipBehaviour"/>
		<params>
			<param name="name" value="upgrade_tree_Ship_info"/>
		</params>
		<style>
			<width value="300px"/>
		</style>
		<styleClass value="$MouseDisable"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ShipInfoTabHeader'; {	_isNotMyShip: _isNotMyShip, _inSideCompare: inSideCompare, shipId: shipId }"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="-40px"/>
					<marginBottom value="-20px"/>
					<width value="214px"/>
					<height value="126px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
			</block>
			<block>
				<bind name="visible" value="(inSideCompare != true) &amp;&amp; !(inIntromissionWindow)"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="instance" value="'CurrentXPLarge'; playerShipInfo != null ? { _exp: playerShipInfo.exp, _label: 'IDS_SHIP_EXPERIENCE'} : null"/>
				</block>
				<block>
					<bind name="visible" value="!isOwned &amp;&amp; !(_inRewards) &amp;&amp; !(shipInfo.isEventLike)"/>
					<style>
						<width value="100%"/>
						<marginTop value="12px"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'PriceInLine'; !(upgradableShipInfo.isExplored)	? { priceInfo: shipExplorePrice.prices[0], _label: 'IDS_RESEARCH_COST',
																						_medium: true, _showDiscountTag: true}
																					: null"/>
					</block>
					<block>
						<bind name="style" value="'marginTop'; upgradableShipInfo.isExplored ? '0px' : '9px'"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'PriceInLine'; 	upgradableShipInfo.isExplored &amp;&amp; isOwned ? null
															:!(isOwned) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true, _showDiscountTag:true}
															: null"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="inSideCompare != true"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<position value="absolute"/>
					<marginBottom value="-1px"/>
					<marginTop value="1px"/>
				</style>
				<styleClass value="$PxHorizontalCorrection"/>
				<styleClass value="$Fullsize"/>
			</block>
			<bind name="instance" value="'ShipDescription'; {_shipNameIDS: shipInfo.nameIDS, _needShowProjectYear: shipInfo.needShowProjectYear, _isPaperShip: shipInfo.isPaperShip, _peculiarity: shipInfo.peculiarity}"/>
		</block>
		<bind name="watch" value="'showStats'; !(shipInfo.isEventLike) || isOwned)"/>
		<bind name="watch" value="'showLabelComingSoon'; shipInfo.isEventLike &amp;&amp; (shipInfo.group != 'event')"/>
		<block>
			<bind name="visible" value="showStats"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'marginTop'; (inSideCompare == true) ? '18px' : '0px'"/>
			<bind name="instance" value="'ShipParamsTooltipList'; _testShipParams ?
			{ inSideCompare: inSideCompare, typeList : 'tooltipShipParams', params: _testShipParams, testParams: (nonPlayerShipParams ? nonPlayerShipParams : (playerShipInfo != null ? playerShipInfo.params : shipInfo.params)), testObjectIsBaseForView: 1, testObjectIsBaseForCompare: 0, showCompareWithZero: 1}
			: { typeList : 'tooltipShipParams', params: (playerShipInfo != null ? playerShipInfo.params : shipInfo.params)}"/>
		</block>
		<block>
			<bind name="visible" value="showLabelComingSoon"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'LabelComingSoon'; { _showTestSampleLabel: showStats }"/>
		</block>
		<block>
			<bind name="visible" value="(_inRewards == true) &amp;&amp; (_isPRMP != true)"/>
			<style>
				<width value="100%"/>
				<marginBottom value="9px"/>
			</style>
			<bind name="instance" value="'RewardReasonsList'; _inRewards ? { _rewardReasons: _rewardReasons } : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="class" value="	_needService ||
						(_isLocked &amp;&amp; !(playerShipInfo.isInFormation))	? '$InfoBlockIndent'
																		: '$None'"/>
			<bind name="instance" value="'InstructionWarning';	_needService 									? { _instructionText: 'IDS_SHIP_NEEDS_SERVICE_MESSAGE', _maxWidth: '280'} :
												_isLocked &amp;&amp; !(playerShipInfo.isInFormation)	? { _instructionText: 'IDS_SHIP_IN_BATTLE_MESSAGE', _maxWidth: '280'}
																								: null"/>
		</block>
		<block>
			<bind name="visible" value="(shipInfoSlim.isDownloaded ? false : true)"/>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="repeat" value="[	{_type: 'warning', _instructionText: _isEventLike	? 'IDS_ENTER_IN_FULL_VERSION_FOR_ANNOUNCE_SHIPS'
																			: 'IDS_ENTER_IN_FULL_VERSION_FOR_SHIPS'},
						{_type: 'left', _instructionText: 'IDS_CONTINUE_DOWNLOADING_HINT_EXIT'}]; 'MouseInstructionRepeater'; {_maxWidth: 260, _lastIndex: 1}"/>
		</block>
	</block>
	<css name="$MetaTooltipTextWidth">
		<maxWidth value="250"/>
	</css>
	<block className="SimpleShipParamTooltip">
		<block>
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<styleClass value="$MetaTooltipTextWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<styleClass value="$MetaTooltipTextWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.tooltipIDS"/>
			</block>
		</block>
	</block>
	<block className="SecondLevelShipParamTooltip">
		<style>
			<width value="100%"/>
		</style>
		<bind name="name" value="'secondLevelParamsTooltip_' + $parent.id"/>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<styleClass value="$FullWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<styleClass value="$FullWidth"/>
				<style>
					<leading value="-3"/>
				</style>
				<bind name="text" value="$parent.tooltipIDS"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$PxHorizontalCorrection"/>
			</block>
			<block>
				<bind name="visible" value="_deepWaterTorpedoBombers == true"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<bind name="instance" value="'TorpedoAffectedShipsParamRow'; (_deepWaterTorpedoBombers == true) ? { _torpedoId: _torpedoId, _isTooltip: true } : null"/>
				</block>
			</block>
			<bind name="instance" value="'ShipParamsListView'; { viewParams: $parent.secondLevel, secondLevelTooltip: true }"/>
		</block>
	</block>
	<block className="ShipParamTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<bind name="class" value="meta ? '$None' : '$DefaultTooltipWidth'"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; (_isArmour &amp;&amp; (_armourOff != true)) ? 'dockDefaultValues' : null; 'dockInitData,dockUpdateData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<bind name="class" value="(secondLevel == null || secondLevel.length == 0) ? '$None' : '$FullWidth'"/>
			<bind name="child" value="(secondLevel == null || secondLevel.length == 0) ? 0 : 1; { _torpedoId: _torpedoId, _deepWaterTorpedoBombers: _deepWaterTorpedoBombers }; 'SimpleShipParamTooltip'; 'SecondLevelShipParamTooltip'"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="visible" value="_hasExcursion || (_isArmour &amp;&amp; (_armourOff != true))"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndentNoWidth"/>
				<bind name="instance" value="'MouseInstruction'; _hasExcursion 							? { _type: 'left', _instructionText: 'IDS_INSTRUCTION_SHIP_COMPONENT_DEMO', _maxWidth: '250'} :
												(_isArmour &amp;&amp; (_armourOff != true))		? { _type: 'left', _instructionText: dockDefaultValues.armourVisibility ? 'IDS_INSTRUCTION_SHIP_ARMOUR_DEMO_OFF' : 'IDS_INSTRUCTION_SHIP_ARMOUR_DEMO_ON', _maxWidth: '250' }
																						: null"/>
			</block>
		</block>
	</block>
	<block className="ShipInfoTooltipRow">
		<style>
			<width value="100%"/>
		</style>
		<bind name="height" value="meta ? 27 : $block.measuredHeight"/>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="-1px"/>
			</style>
			<bind name="visible" value="meta"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<left value="1px"/>
				<overflow value="hidden"/>
			</style>
			<bind name="instance" value="'StatValueBar'; meta ? {_width: _width ? _width : 298, _hasDiff: root.hasDiff || inSideCompare, _currentValue: root.values[0], _diffValue: root.diffData[0].value, _isGood: root.diffData[0].isGood, _expand: true, _invert: ident == 'visibility' } : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="12px"/>
				<marginRight value="12px"/>
				<marginTop value="1px"/>
				<marginBottom value="3px"/>
			</style>
			<bind name="style" value="'marginTop'; ($parent.viewParams.list[$index - 1] == null) &amp;&amp; !(meta) ? '5px' : '1px'"/>
			<bind name="style" value="'marginBottom'; $parent.viewParams.list[$index + 1] == null &amp;&amp; !(meta) ? '8px' : '3px'"/>
			<block>
				<block type="text">
					<style>
						<alpha value="0.8"/>
						<leading value="-4"/>
						<maxWidth value="160"/>
					</style>
					<bind name="class" value="meta ? '$TextMetaHeader' : '$TextMetaInfo'"/>
					<bind name="text" value="nameIDS"/>
				</block>
				<block>
					<style>
						<alpha value="0.8"/>
						<marginLeft value="-7px"/>
					</style>
					<bind name="style" value="'marginTop'; title ? '-7px' : '0px'"/>
					<bind name="instance" value="'ParamElement'; title"/>
				</block>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<block>
					<bind name="instance" value="'ParamElement'; value"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipParamsTooltipList">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="viewParams.list; 'ShipInfoTooltipRow'; { inSideCompare: inSideCompare }"/>
	</block>
	<block className="ShipParamsTooltipListView">
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="viewParams.list;'ShipInfoTooltipRow'; { _width: _width }"/>
	</block>
	<block className="ShipSideCompareTooltip">
		<styleClass value="$ShipTreeTooltipBehaviour"/>
		<params>
			<param name="name" value="ShipSideCompareTooltip"/>
		</params>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _selfPlayerShipId; 'evUpdate'"/>
		<bind name="watchDH" value="'selfPlayerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="watch" value="'showOwnShip'; (userPrefs.showOwnShipInCompare == null) ? false : userPrefs.showOwnShipInCompare "/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="showOwnShip || _isSelf"/>
			<style>
				<marginRight value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<style>
					<right value="0px"/>
				</style>
				<text value="IDS_YOUR_SHIP"/>
			</block>
			<block>
				<bind name="instance" value="'ShipExtendedTooltip'; { _isNotMyShip: false, shipId: _selfPlayerShipId, _testShipParams: _isSelf ? null : _nonPlayerShipParams,
													 inSideCompare: true}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(_isSelf)"/>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<style>
					<right value="0px"/>
				</style>
				<bind name="text" value="_nickname"/>
			</block>
			<block>
				<bind name="instance" value="'ShipExtendedTooltip'; relation != 0	? { _isNotMyShip: true, shipId: _shipId, _testShipParams: selfPlayerShipInfo.params,
																		nonPlayerShipParams: _nonPlayerShipParams, inSideCompare: true}
																	: null"/>
			</block>
		</block>
	</block>
	<block className="ClubInfoTooltip">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'name';['entityClub.club.evNameChanged']; entityClub.club.name"/>
		<bind name="watchDH" value="'league';['entityClub.club.evRatingChanged']; entityClub.club.league"/>
		<bind name="watchDH" value="'creationTimeStamp';['entityClub.club.evRatingChanged']; entityClub.club.creatingTime"/>
		<bind name="watchDH" value="'battlesCount';['entityClub.club.evRatingChanged']; entityClub.club.battlesCount"/>
		<bind name="watchDH" value="'winCount';['entityClub.club.evRatingChanged']; entityClub.club.winCount"/>
		<bind name="watchDH" value="'drawCount';['entityClub.club.evRatingChanged']; entityClub.club.drawCount"/>
		<bind name="watchDH" value="'loseCount';['entityClub.club.evRatingChanged']; entityClub.club.loseCount"/>
		<bind name="watchDH" value="'lastBattleTimeStamp';['entityClub.club.evRatingChanged']; entityClub.club.lastBattleTime"/>
		<bind name="watchDH" value="'winRate';['entityClub.club.evRatingChanged']; entityClub.club.winRate"/>
		<bind name="watch" value="'drawRate'; drawCount / battlesCount * 100"/>
		<bind name="watch" value="'loseRate'; loseCount / battlesCount * 100"/>
		<bind name="watch" value="'stats'; [	{label: 'IDS_CLUB_BATTLES_COUNT', rate: 'no_rate',	count: battlesCount},
							{label: 'IDS_VICTORIES'			, rate: winRate,	count: winCount},
							{label: 'IDS_DRAWS'				, rate: drawRate,	count: drawCount},
							{label: 'IDS_DEFEATS'			, rate: loseRate,	count: loseCount}]"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextAccentBold"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="name"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<style>
					<width value="100%"/>
					<alpha value="0.7"/>
					<marginTop value="-2px"/>
				</style>
				<bind name="text" value="tr('IDS_LEAGUE_'+league)"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="tr('IDS_CLUB_CREATOR')+tr('IDS_COLON')"/>
				</block>
				<block>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="instance" value="'PlayerContactItem'; {_entityAccountId: entityClub.club.creatorEntityId, _isOfflineAlpha: true}"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<bottom value="0"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="timeFormat" value="creationTimeStamp; 'dd.MM.yyyy'; 'creationTime'; false"/>
				<bind name="text" value="tr('IDS_CREATION_DATE')+tr('IDS_COLON') + ' ' + creationTime"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="battlesCount &gt; 0"/>
			<bind name="timeFormat" value="lastBattleTimeStamp; 'dd.MM.yyyy'; 'lastBattleDate'; false"/>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextHeaderBigDefault"/>
					<bind name="text" value="tr('IDS_LAST_BATTLE')+tr('IDS_COLON') + ' ' + lastBattleDate"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="repeat" value="stats; 'ClubTooltipStatRow'"/>
			</block>
		</block>
	</block>
	<block className="ClubTooltipStatRow">
		<style>
			<width value="100%"/>
		</style>
		<bind name="style" value="'marginBottom'; (rate == 'no_rate') ? '4px' : '0px'"/>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="label"/>
		</block>
		<block type="text">
			<bind name="visible" value="rate != 'no_rate'"/>
			<style>
				<alpha value="0.7"/>
				<position value="absolute"/>
				<right value="70"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="format((rate ? rate : 0), 0) +'%'"/>
		</block>
		<block type="text">
			<styleClass value="$AlignRight"/>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="text" value="count"/>
		</block>
	</block>
	<block className="ClubLeagueIconSmall">
		<style>
			<width value="60px"/>
			<height value="60px"/>
		</style>
		<style>
			<backgroundSize value="cover"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'symbol:club_icon_league_' + ((_league != null)	? ((_league &gt; 2)	? '2'
																										: _league)
																					: '-1')"/>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<bind name="child" value="_state ? _state : 'Rating'; { _rating: _rating, _isPartyMember: _isPartyMember, _isCommander: _isCommander}; {	Rating: 'ClubIconRatingSmall',
																																	InBattle: 'ClubIconInBattleSmall',
																																	Party: 'ClubIconPartySmall'}"/>
		</block>
	</block>
	<block className="ClubIconRatingSmall">
		<block type="text">
			<style>
				<marginBottom value="1px"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="text" value="format(_rating, -1)"/>
		</block>
	</block>
	<block className="ClubIconInBattleSmall">
		<block>
			<style>
				<width value="32px"/>
				<height value="29px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; _isPartyMember	? 'symbol:icon_club_status_in_battle_member_small'
														: 'symbol:icon_club_status_in_battle_small'"/>
		</block>
	</block>
	<block className="ClubIconPartySmall">
		<block>
			<style>
				<marginTop value="1px"/>
				<width value="32px"/>
				<height value="29px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; _isCommander	? 'symbol:icon_club_status_party_commander_small' :
										_isPartyMember 	? 'symbol:icon_club_status_party_member_small'
														: 'symbol:icon_club_status_party_small'"/>
		</block>
	</block>
	<block className="ClubLeagueIconSmallSimple">
		<bind name="tooltip" value="'ClubInfoTooltipSimple'; {_teamName: _teamName, _rating: _rating, _league: _league, _isInBattle: _isInBattle}"/>
		<block className="ClubLeagueIconSmall">
			<style>
				<width value="60px"/>
				<height value="60px"/>
			</style>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'symbol:club_icon_league_' + ((_league != null)	? ((_league &gt; 2)	? '2'
																										: _league)
																					: '-1')"/>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<bind name="child" value="_state ? _state : 'Rating'; { _rating: _rating, _isPartyMember: _isPartyMember, _isCommander: _isCommander}; {	Rating: 'ClubIconRatingSmall',
																																	InBattle: 'ClubIconInBattleSmall',
																																	Party: 'ClubIconPartySmall'}"/>
			</block>
		</block>
	</block>
	<block className="ClubInfoTooltipSimple">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="240px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextAccentBold"/>
				<style>
					<width value="100%"/>
					<marginTop value="-4px"/>
				</style>
				<bind name="text" value="_teamName"/>
			</block>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="text" value="tr('IDS_RATING')+tr('IDS_COLON') + ' ' + format(_rating, -1) +', ' + tr('IDS_LEAGUE_'+ _league)"/>
			</block>
		</block>
	</block>
	<block className="ClubHeaderIcon">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'league';['entityClub.club.evRatingChanged']; entityClub.club.league"/>
		<bind name="watch" value="'curLeague';	_fakeLeague		? ((_fakeLeague &gt; 2) ? '2'
																	 : _fakeLeague) :
								league != null	? ((league &gt; 2) ? '2'
																: league)
												: '-1'"/>
		<style>
			<width value="260px"/>
			<height value="330px"/>
		</style>
		<block>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="watch" value="'clubHeaderBgrSymbol'; 'symbol:club_header_bgr_league_' + curLeague"/>
			<bind name="style" value="'backgroundImage'; clubHeaderBgrSymbol"/>
			<bind name="transition" value="_isActiveClubIcon; 0.15; {alpha: 0.65}; {alpha: 1}; {alpha: 0.65}; 0"/>
			<block>
				<bind name="name" value="'clubInfo'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="child" value="_clubIconState ? _clubIconState : 'Party'; {	_clubEntityId: _clubEntityId,
																		_animParams: _animParams,
																		_ratingValue: _ratingValue};

																	{	RatingCounter: 'ClubIconRatingCounter',
																		Rating: 'ClubIconRating',
																		InBattle: 'ClubIconInBattle',
																		Party: 'ClubIconParty'}"/>
			</block>
			<block>
				<style>
					<bottom value="102"/>
					<hitTest value="false"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="appear" value="'CountPoints_0'; 0.2; 0.3; {top: 10, alpha: 0}; {top: 0, alpha: 1}; 1"/>
				<bind name="instance" value="'ClubLeagueLabel'; (curLeague != '-1') ? {	_league: (_fakeLeague	? _fakeLeague : league),
																		_state : (_leagueState ? _leagueState : 'issued')} : null"/>
			</block>
		</block>
		<block>
			<style>
				<backgroundSize value="cover"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="watch" value="'clubLeagueSymbol'; 'symbol:club_header_league_' + curLeague"/>
			<bind name="style" value="'backgroundImage'; clubLeagueSymbol"/>
		</block>
		<block>
			<bind name="visible" value="_isLeader &amp;&amp; (curLeague != '-1')"/>
			<style>
				<marginLeft value="16px"/>
				<marginTop value="26px"/>
				<position value="absolute"/>
			</style>
			<block className="icon_club_leader_big" type="native"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [	{_paragraphText: 'IDS_YOU_ARE_CLUB_LEADER'},
																			{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_0'},
																			{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_1'},
																			{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_2'}],
													_marginBottom: '4px'}"/>
		</block>
	</block>
	<block className="ClubIconRating">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'lastBattleRatingDelta';['entityClub.club.evRatingChanged']; entityClub.club.lastBattleRatingDelta"/>
		<bind name="watchDH" value="'rating';['entityClub.club.evRatingChanged']; entityClub.club.rating"/>
		<bind name="watch" value="'ratingValue'; _clubEntityId ? rating : _ratingValue"/>
		<styleClass value="$Fullsize"/>
		<style>
			<marginTop value="80px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<bind name="appear" value="'addedToStage'; 0.15; 0.3;	{scaleY: 0.5, scaleX: 0.5, ubScaleY: 0.5, ubScaleX: 0.5, alpha: 0, top: 10};
														{scaleY: 1, scaleX: 1, ubScaleY: 1, ubScaleX: 1, alpha: 1, top: 0}"/>
				<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_RATING_HINT_0'}, {_paragraphText: 'IDS_RATING_HINT_1'}]}"/>
				<styleClass value="$TextAccentBoldAccountLevel1"/>
				<bind name="text" value="format(ratingValue, -1)"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="appear" value="'addedToStage'; 0.15; 0.42; {scaleY: 0.5, alpha: 0, top: 20}; {scaleY: 1, alpha: 1, top: 0}"/>
			<style>
				<marginTop value="-8px"/>
			</style>
			<block>
				<block>
					<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_RATING_HINT_0'}, {_paragraphText: 'IDS_RATING_HINT_1'}]}"/>
					<block type="text">
						<styleClass value="$TextHeader"/>
						<bind name="class" value="'$Bold'"/>
						<bind name="text" value="toLowerCase(tr('IDS_RATING'))"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="(lastBattleRatingDelta &amp;&amp; (lastBattleRatingDelta != 0))"/>
					<block className="icon_value_changed" type="native">
						<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: lastBattleRatingDelta &gt; 0 ? [{_paragraphText: 'IDS_RATING_UP_LB'}]
																												: [{_paragraphText: 'IDS_RATING_DOWN_LB'}]}"/>
						<style>
							<marginTop value="11px"/>
						</style>
						<bind name="gotoAndStop!" value="lastBattleRatingDelta &gt; 0 	? 'up' 
																	: 'down'"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ClubIconPartyState">
		<style>
			<width value="34px"/>
			<height value="34px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0.3; {width: 34, height: 34, alpha: 0, top: 20};
											 {width: 68, height: 68, alpha: 1, top: 0}"/>
		<bind name="var" value="{firstChange: true}"/>
		<bind name="dispatch" value="'addedToStage'; 'changePartyStateEv'; false; 0.5"/>
		<bind name="catch" value="'changePartyStateEv'; {firstChange: false}"/>
		<bind name="watch" value="'change';  _isPartyCommander 	? 2 :
							_isPartyMember 		? 1
												: 0"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="change==0; 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange	? 0 :
																												change==0	? 0.57
																															: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_party'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="change==1; 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange	? 0 :
																												change==1	? 0.57
																															: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_party_member'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="change==2; 0.14; {left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange	? 0 :
																											change==2	? 0.57
																														: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_party_commander'"/>
		</block>
	</block>
	<block className="ClubIconParty">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'partyPlayersCount'; ['entityClub.party.evUpdate']; entityClub.party.playersCount"/>
		<bind name="watchDH" value="'partyPlayersLimit'; ['entityClub.party.evUpdate']; entityClub.party.playersLimit"/>
		<bind name="watchDH" value="'isPartyMember'; ['entityClub.party.evUpdate']; entityClub.party.isMember"/>
		<bind name="watchDH" value="'isPartyCommander'; ['entityClub.party.evUpdate']; entityClub.party.isOwner"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: isPartyMember ? [{_paragraphText: 'IDS_PARTY_UP_FOR_BATTLE'}]
																					: [{_paragraphText: 'IDS_PARTY_UP_FOR_BATTLE'}, {_paragraphText: 'IDS_PROFILE_CLUBS_INSTRUCTION_9_1'}]}"/>
		<style>
			<marginTop value="63px"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<height value="68px"/>
			</style>
			<bind name="instance" value="'ClubIconPartyState'; {_isPartyCommander: isPartyCommander, _isPartyMember: isPartyMember}"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.42; {scaleY: 0.7, alpha: 0, top: 25}; {scaleY: 1, alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<style>
					<marginTop value="-4px"/>
					<alpha value="0.85"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="toLowerCase(tr('IDS_GATHERING_TO_BATTLE'))"/>
			</block>
			<block>
				<style>
					<marginTop value="-4px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<style>
						<marginTop value="-4px"/>
					</style>
					<bind name="text" value="partyPlayersCount"/>
				</block>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<style>
						<alpha value="0.9"/>
						<marginTop value="-4px"/>
						<marginRight value="-1px"/>
						<marginLeft value="-3px"/>
					</style>
					<text value="/"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontSizeHeader5'"/>
					<style>
						<alpha value="0.9"/>
					</style>
					<bind name="text" value="partyPlayersLimit"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ClubIconBattleState">
		<style>
			<width value="34px"/>
			<height value="34px"/>
		</style>
		<bind name="appear" value="'addedToStage'; 0.15; 0.3; {width: 34, height: 34, alpha: 0, top: 20};
											 {width: 68, height: 68, alpha: 1, top: 0}"/>
		<bind name="var" value="{firstChange: true}"/>
		<bind name="dispatch" value="'addedToStage'; 'changeBattleStateEv'; false; 0.5"/>
		<bind name="catch" value="'changeBattleStateEv'; {firstChange: false}"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="!(_isPartyMember); 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange			? 0 :
																														!(_isPartyMember)	? 0.57
																																			: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_in_battle'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="fade" value="_isPartyMember; 0.14;	{left: 68, alpha: 0}; {left: 0, alpha: 1}; {left: -68, alpha: 0}; 0;	firstChange			? 0 :
																													_isPartyMember		? 0.57
																																		: 0.5"/>
			<bind name="style" value="'backgroundImage'; 'symbol:icon_club_status_in_battle_member'"/>
		</block>
	</block>
	<block className="ClubIconInBattle">
		<bind name="entityDH" value="'entityClub'; _clubEntityId"/>
		<bind name="watchDH" value="'isPartyMember'; ['entityClub.party.evUpdate']; entityClub.party.isMember"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_PARTY_IN_BATTLE'}]}"/>
		<style>
			<marginTop value="75px"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<height value="68px"/>
			</style>
			<bind name="instance" value="'ClubIconBattleState'; {_isPartyMember: isPartyMember}"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="appear" value="'addedToStage'; 0.15; 0.42; {scaleY: 0.5, alpha: 0, top: 20}; {scaleY: 1, alpha: 1, top: 0}"/>
			<block type="text">
				<style>
					<marginTop value="-8px"/>
					<alpha value="0.9"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="toLowerCase(tr('IDS_IN_BATTLE'))"/>
			</block>
		</block>
	</block>
	<block className="ClubLeagueLabel">
		<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: [{_paragraphText: 'IDS_CURRENT_LEAGUE_' + _league}]}"/>
		<bind name="watch" value="'label'; toUpperCase(tr('IDS_LEAGUE_'+_league))"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
				</style>
				<block className="icon_issued" type="native">
					<bind name="name" value="'league'"/>
					<innerBind elementName="item.item" name="text" value="label"/>
					<bind name="gotoAndPlay!" value="_state"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ClubLeagueIconTiny">
		<style>
			<width value="35px"/>
			<height value="35px"/>
			<backgroundSize value="cover"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'symbol:club_icon_league_'+(_league != null	? ((_league &gt; 2)	? '2'
																									: _league)
																				: '-1')"/>
	</block>
	<block className="ClubBattleClubsVS">
		<styleClass value="$MiddleAligned"/>
		<block>
			<style>
				<marginBottom value="15px"/>
			</style>
			<block>
				<bind name="visible" value="_alliedClub.clubLeague != null &amp;&amp; _alliedClub.clubLeague == _enemyClub.clubLeague"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.25"/>
					<bottom value="-6"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'ClubLeagueLabel'; (_alliedClub.clubLeague != '-1') ? {	_league: _alliedClub.clubLeague, _state: 'issued'} : null"/>
			</block>
			<block>
				<bind name="tooltip" value="'ClubInfoTooltipSimple'; {_teamName: _alliedClub.clubName, _rating: format(_alliedClub.clubRating, -1), _league: _alliedClub.clubLeague}"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<right value="105%"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginRight value="6px"/>
						<alpha value="0.85"/>
					</style>
					<bind name="text" value="_alliedClub.clubName"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="_alliedClub.clubLeague != _enemyClub.clubLeague"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.25"/>
							<top value="90%"/>
							<left value="10%"/>
							<hitTest value="false"/>
						</style>
						<bind name="instance" value="'ClubLeagueLabel'; (_alliedClub.clubLeague != '-1') ? {	_league: _alliedClub.clubLeague, _state: 'issued'} : null"/>
					</block>
					<block type="text">
						<styleClass value="$TextAccentBold"/>
						<bind name="class" value="'$FontAccentSize2'"/>
						<bind name="text" value="format(_alliedClub.clubRating, -1)"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="30px"/>
					<height value="30px"/>
				</style>
			</block>
			<block>
				<bind name="tooltip" value="'ClubInfoTooltipSimple'; {_teamName: _enemyClub.clubName, _rating: _enemyClub.clubRating, _league: _enemyClub.clubLeague}"/>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<position value="absolute"/>
					<left value="105%"/>
				</style>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<block>
						<bind name="visible" value="_alliedClub.clubLeague != _enemyClub.clubLeague"/>
						<style>
							<position value="absolute"/>
							<alpha value="0.25"/>
							<top value="90%"/>
							<right value="10%"/>
							<hitTest value="false"/>
						</style>
						<bind name="instance" value="'ClubLeagueLabel'; (_enemyClub.clubLeague != '-1') ? { _league: _enemyClub.clubLeague, _state: 'issued' } : null"/>
					</block>
					<block type="text">
						<styleClass value="$TextAccentBold"/>
						<bind name="class" value="'$FontAccentSize2'"/>
						<bind name="text" value="format(_enemyClub.clubRating, -1)"/>
					</block>
				</block>
				<block type="text">
					<styleClass value="$TextAccentBold"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="6px"/>
						<alpha value="0.85"/>
					</style>
					<bind name="text" value="_enemyClub.clubName"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="IconRankSmall">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<width value="27px"/>
				<height value="27px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + '../ranks/icons/icon_rank_small_' + (_rankId - 1) + '.png'"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="-3px"/>
				<marginTop value="5px"/>
			</style>
			<styleClass value="$TextSecondaryBold"/>
			<bind name="class" value="'$FontSizeNano'"/>
			<bind name="text" value="_rankId &gt; 1 ? _rankId - 1 : ''"/>
		</block>
	</block>
	<block className="RankStars">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="tooltip" value="'RankStarTooltip'; !(rankInfo.starLossPlace == 0 &amp;&amp; rankInfo.starEarnPlace == 0) ? {_rankId: _rankId} : null"/>
		<bind name="style" value="'width'; _noWidth ? 'auto' : '100%'"/>
		<style>
			<flow value="htile"/>
			<align value="center"/>
		</style>
		<bind name="repeat" value="rankInfo.starsToNext; (_size ? 'RankStarIconSmall' : 'RankStarIcon'); {_starState: (rankedBattlesStats.rank &lt; rankInfo.id)	? 'earned'
																																				: (rankedBattlesStats.rank &gt; rankInfo.id)	? 'not_earned'
																																															: 'unknown', _size: _size}"/>
	</block>
	<block className="TotalEarnedStars">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<flow value="htile"/>
				<align value="center"/>
			</style>
			<bind name="repeat" value="_starsCount; 'RankStarIconSmall'; {_starState: 'earned'}"/>
		</block>
	</block>
	<block className="RankStarIcon">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<block className="icon_rank_star" type="native">
			<style>
				<marginLeft value="5px"/>
				<marginRight value="5px"/>
			</style>
			<bind name="gotoAndStop!" value="(_starState != 'unknown')	? _starState
														: ( $index + 1 &lt;= rankedBattlesStats.stars)	|| (rankedBattlesStats.rank == 2) ? 'earned'
																									: 'not_earned'"/>
		</block>
	</block>
	<block className="RankStarIconSmall">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<block className="icon_rank_star_small" type="native">
			<style>
				<marginLeft value="2px"/>
				<marginRight value="2px"/>
				<marginTop value="1px"/>
				<marginBottom value="1px"/>
			</style>
			<bind name="style" value="'width'; _size == 'small' ? '27px' : 'auto'"/>
			<bind name="style" value="'height'; _size == 'small' ? '27px' : 'auto'"/>
			<bind name="gotoAndStop!" value="(_starState != 'unknown')	? _starState
														: ( $index + 1 &lt;= rankedBattlesStats.stars)	|| (rankedBattlesStats.rank == 2) ? 'earned'
																									: 'not_earned'"/>
		</block>
	</block>
	<block className="RankStarLostNotice">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<bind name="visible" value="rankInfo.starLossPlace != 0"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="icon_star_earn_condition_small" type="native">
				<style>
					<marginLeft value="-2px"/>
				</style>
				<bind name="gotoAndStop!" value="2"/>
			</block>
			<bind name="watch" value="'additionalCondition'; rankInfo.starLossPlace == 2 ? 'IDS_RANKED_BATTLE_STAR_LOSS_PLACE_CONDITION' :
											rankInfo.starLossPlace &gt; 2	? subst('IDS_RANKED_BATTLE_STAR_LOSS_PLACE_RANGE_CONDITION', [], {starLossPlace: rankInfo.starLossPlace})
																		: null"/>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="1px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="228"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<bind name="text" value="rankInfo.lossCondition"/>
				</block>
				<block type="text">
					<bind name="visible" value="additionalCondition != null"/>
					<style>
						<maxWidth value="228"/>
						<marginTop value="-6px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value="additionalCondition"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RankStarEarnCondition">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="icon_star_earn_condition_small" type="native">
				<style>
					<marginLeft value="-2px"/>
				</style>
				<bind name="gotoAndStop!" value="1"/>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="1px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="228"/>
					</style>
					<styleClass value="$TextHeaderBigWhite"/>
					<bind name="text" value="rankInfo.earnCondition"/>
				</block>
				<block type="text">
					<bind name="visible" value="rankInfo.starLossPlace == 0"/>
					<style>
						<maxWidth value="228"/>
						<marginTop value="-6px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<text value="IDS_YOU_WILL_NOT_LOSE_STAR"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="RankStarTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesStats'"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="6px"/>
				</style>
				<bind name="instance" value="'RankStarEarnCondition'; {_rankId: _rankId}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'RankStarLostNotice'; {_rankId: _rankId}"/>
			</block>
		</block>
	</block>
	<block className="PlayerRankIcon">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<block className="icons_rank_outer" type="native">
			<bind name="gotoAndStop!" value="rankInfo.id &lt;= 2 ? 'top'
											: rankInfo.leagueId == 1 ? 'big' 
											: rankInfo.leagueId == 2 ? 'medium' : 'small'"/>
			<bind name="style" value="'width'; _small ? '70px' : '98px'"/>
			<bind name="style" value="'height'; _small ? '70px' : '98px'"/>
			<block>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<bind name="style" value="'width'; _small ? '27px' : '35px'"/>
				<bind name="style" value="'height'; _small ? '27px' : '35px'"/>
				<bind name="style" value="'top'; _small ? '23px' : '32px'"/>
				<bind name="style" value="'backgroundImage';  _small ? 'url:' + '../ranks/icons/icon_rank_small_' + (rankInfo.id - 1) + '.png' : 'url:' + '../ranks/icons/icon_rank_big_' + (rankInfo.id - 1) + '.png'"/>
			</block>
		</block>
	</block>
	<block className="PlayerRankIconBig">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'rankedBattlesRanks';  _rankId; 'rankInfo'"/>
		<block className="icons_rank_outer_big" type="native">
			<style>
				<width value="146px"/>
				<height value="146px"/>
			</style>
			<bind name="gotoAndStop!" value="rankInfo.id &lt;= 2 ? 'top'
											: rankInfo.leagueId == 1 ? 'big' 
											: rankInfo.leagueId == 2 ? 'medium' : 'small'"/>
			<block>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<style>
					<top value="45px"/>
					<width value="54px"/>
					<height value="54px"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:' + '../ranks/icons/icon_rank_big_' + (rankInfo.id - 1) + '.png'"/>
			</block>
		</block>
	</block>
	<css name="$DynamicDivisionsItemSize">
		<width value="230px"/>
		<height value="128px"/>
	</css>
	<css name="$NoSize">
		<width value="0px"/>
		<height value="0px"/>
	</css>
	<block className="DynamicDivisions">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="appear" value="_isBattleStats ? null : 'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'DeclareBlurLayer'; _isBattleLoading ? {} : null"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<flow value="htile"/>
				<align value="center"/>
				<width value="690px"/>
			</style>
			<bind name="repeat" value="divisions; 'DivisionSlot'; {_divisions: divisions, _selfPlayer: selfPlayer, _isBattleStats: _isBattleStats}"/>
		</block>
		<block>
			<bind name="visible" value="(divisions[gameInfo.maxDivisions-1].id &amp;&amp; (divisions[gameInfo.maxDivisions-1].id != -1))"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="16px"/>
			</style>
			<bind name="instance" value="'StatusLineWithIcon'; { _text: 'IDS_MAX_DIVISIONS_CREATED', _maxWidth: 900, _large: true}"/>
		</block>
	</block>
	<block className="DivisionSlot">
		<bind name="style" value="'colorMatrixFilter'; _selfPlayer.isAlive ? '0 0 0 0' : '0 -100 0 0'"/>
		<bind name="style" value="'alpha'; _selfPlayer.isAlive ? 1 : 0.7"/>
		<bind name="watch" value="'state';	(id == -1) ? 'Creation' : 'Division'"/>
		<styleClass value="$DynamicDivisionsItemSize"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="child" value="state ? state : 'Creation'; {	_data: _divisions[$index], _selfPlayer: _selfPlayer,
													_isBattleStats: _isBattleStats, _isBattleLoading: _isBattleLoading};
												 {Creation: 'CreateDynamicDivision', Division: 'DynamicDivisionItem'}"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="!(_selfPlayer.isAlive)"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="tooltip" value="'MouseInstructionTooltip';	_selfPlayer.isAlive	? null
																		: {_multiParagraphArray: [{_paragraphText: 'IDS_DIVISION_MANAGEMENT_LOCKED_FOR_DESTROYED'}], _isInBattle: _isBattleStats}"/>
		</block>
	</block>
	<block className="CreateDynamicDivision">
		<styleClass value="$DynamicDivisionsItemSize"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0}; {alpha: 1}"/>
		<block>
			<style>
				<width value="220px"/>
				<height value="118px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled &amp;&amp; _isBattleLoading"/>
				<block className="mc_blurmap5" type="native">
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'DynamicDivisionHeader'; {	_isCommander: false,
														_isPlayersDivision: false,
														_newDivision: true,
														_isBattleStats: _isBattleStats}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="3; 'JoinDynamicDivisionItem'; {_isBattleStats: _isBattleStats}"/>
			</block>
		</block>
	</block>
	<block className="EmptyDynamicDivision">
		<bind name="visible" value="false"/>
	</block>
	<block className="DynamicDivisionItem">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'playersInvitedToDivision'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'invitationsToDivision'; 'id'; _data.id; 'selfPlayerInvitedToDivisionCollection'"/>
		<bind name="watch" value="'invitedPlayers'; isPlayersDivision ? playersInvitedToDivision : []"/>
		<bind name="watch" value="'isSelfInvitedToThisDivision'; (selfPlayerInvitedToDivisionCollection.length &gt; 0)"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0.0; {alpha: 0}; {alpha: 1}"/>
		<styleClass value="$DynamicDivisionsItemSize"/>
		<bind name="watch" value="'isCurPlayerCommander'; (_selfPlayer.id == _data.ownerId)"/>
		<bind name="watch" value="'isPlayersDivision'; (_data.id == _selfPlayer.divisionId)"/>
		<bind name="watch" value="'reservedPlacesCounter'; isPlayersDivision ? ((_data.inPortParticipantsCount - invitedPlayers.length) &lt; 0) 	? 0
																																		: (_data.inPortParticipantsCount - invitedPlayers.length)
															: (isSelfInvitedToThisDivision	&amp;&amp;	(_data.inPortParticipantsCount &gt; 0)) 	? (_data.inPortParticipantsCount - 1)
																																		: _data.inPortParticipantsCount)"/>
		<block>
			<bind name="style" value="'alpha'; _data.locked &amp;&amp; !isPlayersDivision ? 0.6 : 1"/>
			<style>
				<width value="220px"/>
				<height value="118px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MiddleVAligned"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled &amp;&amp; !(_isBattleStats)"/>
				<block className="mc_blurmap5" type="native">
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'DynamicDivisionHeader'; {	_isCommander: isCurPlayerCommander,
														_isPlayersDivision: isPlayersDivision,  
														_newDivision: false,
														_name: _data.name,  
														_locked: _data.locked,
														_isBattleStats: _isBattleStats}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="repeat" value="_data.staff; 'DynamicDivisionPlayerItem'; {	_isPlayersDivision: isPlayersDivision, _selfPlayer: _selfPlayer,
																			_isCurPlayerCommander: isCurPlayerCommander,
																			_commanderId: _data.ownerId, _isBattleStats: _isBattleStats}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="repeat" value="invitedPlayers; 'DynamicDivisionInvitedPlayerItem'; {	_selfPlayer: _selfPlayer, _isCurPlayerCommander: isCurPlayerCommander,
																					_isBattleStats: _isBattleStats}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="visible" value="!(isPlayersDivision)"/>
					<block>
						<bind name="visible" value="!(isSelfInvitedToThisDivision)"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="repeat" value="3 - (_data.staff.length + _data.inPortParticipantsCount); 'JoinDynamicDivisionItem'; {	_divisionId: _data.id, _locked: _data.locked,
																															_isBattleStats: _isBattleStats}"/>
					</block>
					<block>
						<bind name="visible" value="isSelfInvitedToThisDivision"/>
						<style>
							<width value="100%"/>
						</style>
						<bind name="repeat" value="3 - (_data.staff.length + _data.inPortParticipantsCount - 1); 'ApplyDivisionInvitation'; { _invitationData: selfPlayerInvitedToDivisionCollection[0],
																															 _isBattleStats: _isBattleStats}"/>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="repeat" value="reservedPlacesCounter; 'DynamicDivisionReservedItem'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ApplyDivisionInvitation">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="countdown" value="_invitationData.expirationTime; 'countdownText'; 'mm:ss'"/>
		<bind name="action" value="'click'; 'acceptDivisionInvitation'; {id: _invitationData.id}"/>
		<style>
			<height value="27px"/>
			<width value="100%"/>
		</style>
		<block className="dock_submenu_item_bg" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1}"/>
			<bind name="tooltip" value="'TimerTooltip'; {_text: '-' + countdownText, _isInBattle: _isBattleStats}"/>
		</block>
		<block>
			<style>
				<marginLeft value="13px"/>
				<marginRight value="6px"/>
				<marginTop value="2px"/>
				<hitTest value="false"/>
			</style>
			<block className="icon_plus" type="native">
				<styleClass value="$MiddleVAligned"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginLeft value="2px"/>
				</style>
				<text value="IDS_ACCEPT_INVITATION"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="JoinDynamicDivisionItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'enterDivisionCooldownData'"/>
		<bind name="watch" value="'joinTimeOut'; enterDivisionCooldownData.finishTime"/>
		<bind name="style" value="'alpha'; joinTimeOut &gt; 0 ? 0.7 : 1"/>
		<bind name="catch" value="'timeoutEvent'; {joinTimeOut : 0}"/>
		<bind name="countdown" value="joinTimeOut; 'joinTimeOutText'; 'mm:ss'; 'timeoutEvent'"/>
		<bind name="action" value="'click'; joinTimeOut &gt; 0	? null :
								_divisionId	? 'joinDivision'
											: 'createDivision'; joinTimeOut &gt; 0 ? {} :
																_divisionId	? {divisionId: _divisionId}
																			: {}"/>
		<style>
			<height value="27px"/>
			<width value="100%"/>
		</style>
		<bind name="name" value="(_divisionId ? 'JoinDiv_' : 'JoinNew_') + $index"/>
		<block className="dock_submenu_item_bg" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<bind name="transition" value="rollOver &amp;&amp; !(joinTimeOut &gt; 0); 0.15; {alpha: 0}; {alpha: 1}"/>
			<bind name="style" value="'hitTest'; _locked ? false : true"/>
			<bind name="tooltip" value="'MouseInstructionTooltip';	joinTimeOut &gt; 0 ? { _multiParagraphArray: [{_paragraphText: tr('IDS_WAIT_TIMEOUT_TO_JOIN_DIVISION') + ' ' + joinTimeOutText}],
																		_mouseInstructions: null,
																		_maxWidth: 250, _isInBattle: _isBattleStats} :
													_divisionId		? {	_multiParagraphArray: [{_paragraphText: 'IDS_JOIN_DYNAMIC_DIVISION_HINT'}],
																		_mouseInstructions:  [{_type: 'left', _instructionText: 'IDS_JOIN_DYNAMIC_DIVISION_MOUSE_HINT'}],
																		_maxWidth: 250, _isInBattle: _isBattleStats}
																	: {	_multiParagraphArray: [{_paragraphText: 'IDS_CREATE_NEW_DIVISION_HINT'}],
																		_mouseInstructions:  [{_type: 'left', _instructionText: 'IDS_CREATE_NEW_DIVISION_MOUSE_HINT'}],
																		_maxWidth: 250, _isInBattle: _isBattleStats}"/>
		</block>
		<block>
			<style>
				<marginLeft value="13px"/>
				<marginRight value="6px"/>
				<marginTop value="2px"/>
				<hitTest value="false"/>
			</style>
			<block className="icon_plus" type="native">
				<styleClass value="$MiddleVAligned"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginLeft value="2px"/>
				</style>
				<text value="IDS_JOIN_DIVISION"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="DynamicDivisionReservedItem">
		<style>
			<height value="27px"/>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginLeft value="11px"/>
				<marginRight value="6px"/>
				<hitTest value="false"/>
				<height value="100%"/>
			</style>
			<block className="icon_player_lock" type="native">
				<style>
					<marginTop value="3px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginLeft value="1px"/>
				</style>
				<text value="IDS_PLACE_IS_LOCKED"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="DynamicDivisionHeader">
		<style>
			<width value="100%"/>
			<height value="36px"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<marginLeft value="6px"/>
				<marginRight value="6px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block className="icon_formation" type="native">
				<style>
					<position value="absolute"/>
					<marginLeft value="-2px"/>
				</style>
				<bind name="gotoAndStop!" value=" _isCommander	? 'commander_division'
												: 'not_commander_division'"/>
				<bind name="tooltip" value="'MouseInstructionTooltip';	_isPlayersDivision	? {_multiParagraphArray: (_isCommander	? [{_paragraphText: 'IDS_YOU_ARE_COMMANDER'}]
																													: [{_paragraphText: 'IDS_YOU_ARE_MEMBER_DIVISION_IN_BATTLE'}]),
																														_maxWidth: 250, _isInBattle: _isBattleStats}
																													: null"/>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block>
					<bind name="visible" value="!(_newDivision)"/>
					<bind name="tooltip" value="'MouseInstructionTooltip'; 	_isCommander	? {	_multiParagraphArray: 	[{_paragraphText: _locked	? 'IDS_DIVISION_IS_LOCKED_COMMANDER'
																																	: 'IDS_DIVISION_IS_NOT_LOCKED_COMMANDER'}],
																				_mouseInstructions:  [{_type: 'left', _instructionText: (_locked ? 'IDS_UNLOCK_DIVISION'
																																		: 'IDS_LOCK_DIVISION')}],
																				maxWidth: 250, _isInBattle: _isBattleStats}
																			: { _multiParagraphArray: 	[{_paragraphText: _locked	? 'IDS_DIVISION_IS_LOCKED'
																																	: 'IDS_DIVISION_IS_NOT_LOCKED'}],
																				_mouseInstructions: null, maxWidth: 250, _isInBattle: _isBattleStats}"/>
					<block className="button_lock" type="native">
						<bind name="visible" value="_isCommander || (!(_isCommander) &amp;&amp; _locked)"/>
						<bind name="action" value="'click'; _isCommander ? (_locked	? 'unlockDivision'
																	: 'lockDivision')
														: null; {id: id}"/>
						<bind name="selected" value="_locked"/>
						<bind name="enabled" value="_isCommander"/>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="tooltip" value="'MouseInstructionTooltip';	_isPlayersDivision	? { _mouseInstructions: [{_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU'}],
																					_maxWidth: 250, _isInBattle: _isBattleStats}
																				: null"/>
					<bind name="menu" value="'DivisionHeaderRightClickBattleMenu'; _isPlayersDivision ? {_isCommander: _isCommander, _isInBattle: _isBattleStats} : null"/>
					<block type="text">
						<styleClass value="$TextHeaderWhiteBold"/>
						<bind name="class" value="_isPlayersDivision ? '$FontColorGolden': '$None'"/>
						<bind name="text" value="_newDivision	? toUpperCase(tr('IDS_NEW_DIVISION'))
												: toUpperCase(tr('IDS_DIVISION')) + ' ' + _name"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_LEAVE_DIVISION'}],
													_maxWidth: 250, _isInBattle: _isBattleStats}"/>
			<bind name="visible" value="_isPlayersDivision == true"/>
			<style>
				<position value="absolute"/>
				<right value="8px"/>
				<marginTop value="9px"/>
			</style>
			<block className="button_close" type="native">
				<bind name="name" value="'LeaveDiv'"/>
				<bind name="action" value="'buttonClick'; 'leaveDivision'"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="DynamicDivisionInvitedPlayerItem">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'name'; name; 'playerInDivisionCollection'"/>
		<bind name="watch" value="'player'; playerInDivisionCollection[0]"/>
		<bind name="watch" value="'_isCurrentPlayer'; (_selfPlayer.id == player.id)"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<style>
			<height value="27px"/>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block className="dock_submenu_item_bg" type="native">
			<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1.0}"/>
			<bind name="tooltip" value="'BattlePlayerTooltip'; {	_isInBattle: _isBattleStats, _battleType: gameInfo.battleType,
												_player: player, _selfPlayer: _selfPlayer}"/>
			<bind name="menu" value="'UIListPlayerContextMenu'; {	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
													_complaintsAvailable: true, _isBattleLoading: !(_isBattleStats), _isBattleStats: _isBattleStats}
												; null; 'contextMenuVisible'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<bind name="selected" value="contextMenuVisible"/>
		</block>
		<block className="button_cross" type="native">
			<bind name="tooltip" value="'MouseInstructionTooltip'; { _multiParagraphArray:  [{_paragraphText: 'IDS_RECALL_INVITATION'}],
													_maxWidth: 250, _isInBattle: _isBattleStats}"/>
			<bind name="visible" value="rollOver &amp;&amp; _isCurPlayerCommander"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<right value="6px"/>
			</style>
			<bind name="action" value="'buttonClick'; 'revokeInvitationToDivision'; {id: id}"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="13px"/>
				<hitTest value="false"/>
			</style>
			<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: 'division'}"/>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="1px"/>
				<width value="160px"/>
				<multiline value="false"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="text" value="name"/>
		</block>
	</block>
	<block className="DynamicDivisionPlayerItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'id'; $value; 'playerInDivisionCollection'"/>
		<bind name="watch" value="'player'; playerInDivisionCollection[0]"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'ships'; 'id'; player.shipId; 'shipsCollection'"/>
		<bind name="watch" value="'shipInfo'; shipsCollection[0]"/>
		<bind name="watch" value="'_isCurrentPlayer'; (_selfPlayer.id == player.id)"/>
		<bind name="watch" value="'_isCommander'; (_commanderId == player.id)"/>
		<style>
			<height value="27px"/>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block className="inner_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="_isCurrentPlayer"/>
			<bind name="tooltip" value="'BattlePlayerTooltip'; _isCurrentPlayer	? {	_isInBattle: _isBattleStats,
																	_player: player, _selfPlayer: _selfPlayer,
																	_battleType: gameInfo.battleType}
																: null"/>
		</block>
		<block className="dock_submenu_item_bg" type="native">
			<bind name="style" value="'hitTest'; !(_isCurrentPlayer)"/>
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<bind name="transition" value="rollOver &amp;&amp; !(_isCurrentPlayer); 0.15; {alpha: 0}; {alpha: 1.0}"/>
			<bind name="tooltip" value="'BattlePlayerTooltip'; !(_isCurrentPlayer) 	? {	_isInBattle: _isBattleStats,
																		_player: player, _selfPlayer: _selfPlayer,
																		_battleType: gameInfo.battleType}
																	: null"/>
			<bind name="menu" value="'UIListPlayerContextMenu'; {	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
													_complaintsAvailable: true, _isBattleLoading: !(_isBattleStats), _isBattleStats: _isBattleStats}
												; null; 'contextMenuVisible'"/>
			<bind name="selected" value="contextMenuVisible"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<position value="absolute"/>
				<right value="-1px"/>
			</style>
			<bind name="visible" value="_isCurPlayerCommander &amp;&amp; !(_isCurrentPlayer) &amp;&amp; rollOver"/>
			<block className="button_cross" type="native">
				<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray:  [{_paragraphText: 'IDS_EXCLUDE_PLAYER_OUT_OF_DIVISION'}],
														_maxWidth: 250, _isInBattle: _isBattleStats}"/>
				<bind name="action" value="'click'; 'kickPlayerFromDivision'; {playerId: player.id}"/>
			</block>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
				<marginLeft value="13px"/>
				<marginRight value="6px"/>
			</style>
			<block>
				<style>
					<position value="absolute"/>
					<top value="-1"/>
					<marginLeft value="-11px"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'UIListVoiceTextChatIcons'; {_playerId: player.id, _isInSameDivision: _isPlayersDivision, _selfPlayerDivisionId: _selfPlayer.divisionId,
														 _isSpeaking: player.isSpeaking, _battleType: gameInfo.battleType,
														 _isVoiceChatMuted: player.isMuted, _isInVoiceChat: player.isInVoiceChat}"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'FormationPlayerIcon'; {isCommander: _isCommander, isReady: true, isInBattle: false,
													isOtherDivision: !(_isPlayersDivision), _formationType: 'division', _isWardog: false}"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="1px"/>
					<width value="84px"/>
					<multiline value="false"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	!(player.isAlive) &amp;&amp; !(_isCurrentPlayer)	? '$FontColorAlmostBlack' :
							player.tkStatus								? '$FontColorTeamkiller' :
							_isPlayersDivision 							? '$FontColorGolden'
																		: '$None'"/>
				<bind name="class" value="(player.isAlive || _isCurrentPlayer) ? '$None' : '$FontDropShadowWhite'"/>
				<bind name="class" value="_isCurrentPlayer ? '$Bold' : '$None'"/>
				<bind name="text" value="player.name"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_ship" type="native">
					<style>
						<marginTop value="6px"/>
					</style>
					<bind name="gotoAndStop!" value="!(player.isAlive)	? shipInfo.subtype + '_U'
														: shipInfo.subtype"/>
				</block>
				<block type="text">
					<style>
						<width value="70px"/>
						<multiline value="false"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="_isCurrentPlayer ? '$Bold' : '$None'"/>
					<bind name="class" value="'$LetterSpacingSmall'"/>
					<bind name="class" value="	_isCurrentPlayer	?	'$FontColorGolden' :
								!(player.isAlive) 	?	'$FontColorAlmostBlack'
													: '$None'"/>
					<bind name="class" value="(player.isAlive || _isCurrentPlayer) ? '$None' : '$FontDropShadowWhite'"/>
					<bind name="text" value="shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="DivisionHeaderRightClickBattleMenu">
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$ContextMenuListItem"/>
			<bind name="visible" value="_isCommander"/>
			<block className="dock_submenu_item" type="native">
				<bind name="action" value="'buttonClick'; 'dismissDivision'"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<styleClass value="$Fullsize"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_DISMISS_DIVISION'"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<bind name="action" value="'buttonClick'; 'leaveDivision'"/>
				<params>
					<param name="soundSet" value="dropmenu_button"/>
				</params>
				<styleClass value="$Fullsize"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_LEAVE_DIVISION'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="QuickCommandHelpPanelVElement">
		<bind name="visible" value="_qcShortcut1 != null"/>
		<style>
			<marginTop value="1px"/>
			<width value="10px"/>
			<paddingRight value="20px"/>
		</style>
		<bind name="style" value="'paddingBottom'; _qcHelpPanelVElementPadding ? _qcHelpPanelVElementPadding : 0"/>
		<bind name="watch" value="'_qcShortcut1'; _qcShortcut1"/>
		<block>
			<block>
				<style>
					<width value="10px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<style>
						<textColor value="0xffffffff"/>
						<right value="0"/>
						<maxWidth value="180"/>
						<textAlign value="right"/>
					</style>
					<bind name="text" value="_qcText1 ? _qcText1 : 'IDS_ALL_SEASONS'"/>
				</block>
			</block>
			<block>
				<style>
					<marginTop value="1px"/>
					<left value="0"/>
					<marginLeft value="15px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="55"/>
					</style>
					<bind name="text" value="_qcShortcut1"/>
					<bind name="substitute" value="'KEYS'; 2; null; _qcShortcut1"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="BattleStats">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'battleModeInfo'; 'battleModeInfo,updateBattleModeInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'; 'initGameInfo,GameInfoUpdateFragsCount'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="controller" value="lesta.dialogs.battle_window_controllers.uss_controllers.ControllerBattleStats"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="firstEntityDH" value="'localWeatherEntity'; CC.localWeather"/>
		<bind name="watch" value="'topOffset'; (10 + (stageHeight-720)/2.2)"/>
		<bind name="watch" value="'isDynamicDivisionsEnabled'; (((gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) || (gameInfo.battleType == BattleTypes.RANDOM_BATTLE)) &amp;&amp;
												slimClientData.isFull)"/>
		<bind name="watch" value="'isVoiceChatEnabled';	(gameInfo.battleType == BattleTypes.CLAN_BATTLE) ||
										((selfPlayer.divisionId != 0) &amp;&amp; ((gameInfo.battleType == BattleTypes.RANDOM_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.PVE_BATTLE)))"/>
		<bind name="watch" value="'validTabIndex';	(gameInfo.gameModeId == GameMode.TUTORIAL) 					? 0 :
									((tabStatsTabIndex == 1) &amp;&amp; !(isDynamicDivisionsEnabled))	? 0
																								: tabStatsTabIndex"/>
		<bind name="watch" value="'tabStatsTabIndex'; (userPrefs.tabStatsTabIndex == null) ? 0 : userPrefs.tabStatsTabIndex"/>
		<bind name="var" value="{isFirstShow: true}"/>
		<bind name="catch" value="'addedToStage'; {isFirstShow: false}"/>
		<bind name="appear" value="isFirstShow ? 'addedToStage' : null; 0.1; 0.15; {alpha: 0}; {alpha: 1}"/>
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="gradient_liner_1" type="native">
				<styleClass value="$Fullsize"/>
				<style>
					<alpha value="0.8"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="style" value="'top'; topOffset"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="tab_bar_bg" type="native">
					<style>
						<position value="absolute"/>
						<marginLeft value="-2px"/>
						<marginRight value="-2px"/>
						<width value="100%"/>
						<height value="29px"/>
					</style>
				</block>
				<block>
					<block>
						<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_2', 
													_width: '160px', 
													_selected: validTabIndex == 2,
													_action: 'setUserPref', _actionParams: {value: 2, name: 'tabStatsTabIndex'}, 
													_label: 'IDS_SCENARIO_TASKS_TAB', 
													_index: 2, 
													_tooltipIDS: 'IDS_TOOLTIP_SCENARIO_TASKS_TAB', _isInBattle: true}"/>
					</block>
					<bind name="action" value="'click'; 'setUserPref' ; {value: 2, name: 'tabStatsTabIndex'}"/>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_0', 
												_width: '160px', 
												_selected: validTabIndex == 0,
												_action: 'setUserPref', _actionParams: {value: 0, name: 'tabStatsTabIndex'}, 
												_label: 'IDS_TEAM_STRUCTURE', 
												_index: 0, 
												_tooltipIDS: 'IDS_TOOLTIP_TAB_TEAM_STRUCTURE', _isInBattle: true}"/>
				</block>
				<block>
					<bind name="visible" value="isDynamicDivisionsEnabled"/>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<block>
						<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_1', 
													_width: '160px', 
													_selected: validTabIndex == 1,
													_action: 'setUserPref', _actionParams: {value: 1, name: 'tabStatsTabIndex'}, 
													_label: 'IDS_DIVISIONS', 
													_index: 1, 
													_tooltipIDS: 'IDS_TOOLTIP_TAB_DIVISIONS', _isInBattle: true}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<width value="810px"/>
				</style>
				<bind name="stageSize"/>
				<bind name="watch" value="'instructionsOffsetX'; (26 + (stageWidth - 1280) / 16)"/>
				<bind name="style" value="'marginTop'; showTabBar ? (4 + topOffset/60) : '4sh'"/>
				<block>
					<bind name="visible" value="validTabIndex == 0"/>
					<style>
						<width value="230px"/>
						<height value="290px"/>
						<position value="absolute"/>
						<top value="20px"/>
					</style>
					<bind name="style" value="'left'; -(280 + instructionsOffsetX)"/>
					<block>
						<style>
							<right value="0"/>
						</style>
						<block type="text">
							<styleClass value="$TextDefaultBold"/>
							<style>
								<marginBottom value="3px"/>
								<right value="0"/>
							</style>
							<bind name="text" value="toUpperCase(tr('IDS_QUICK_COMMANDS'))"/>
						</block>
						<bind name="watch" value="'qcDataArray1'; [ { _qcText1: 'IDS_CMD_QUICK_COMMANDS_WINDOW', _qcShortcut1: '[CMD_QUICK_COMMANDS_WINDOW]', _qcHelpPanelVElementPadding: '15px'},
													{ _qcText1: 'IDS_CMD_QUICK_NO_WAY_WINDOW', _qcShortcut1: '[CMD_QUICK_NO_WAY]'},
													{ _qcText1: 'IDS_CMD_QUICK_TACTIC_WINDOW', _qcShortcut1: '[CMD_QUICK_TACTIC]'},
													{ _qcText1: 'IDS_CMD_QUICK_AYE_AYE_WINDOW', _qcShortcut1: '[CMD_QUICK_AYE_AYE]'},
													{ _qcText1: 'IDS_CMD_QUICK_NEED_SUPPORT_WINDOW', _qcShortcut1: '[CMD_QUICK_NEED_SUPPORT]', _qcHelpPanelVElementPadding: '15px'},
													{ _qcText1: 'IDS_CMD_QUICK_NEED_AIR_DEFENCE_WINDOW', _qcShortcut1: '[CMD_QUICK_NEED_AIR_DEFENCE]'},
													{ _qcText1: 'IDS_CMD_QUICK_NEED_VISION_WINDOW', _qcShortcut1: '[CMD_QUICK_NEED_VISION]'},
													{ _qcText1: 'IDS_CMD_QUICK_NEED_SMOKE_WINDOW', _qcShortcut1: '[CMD_QUICK_NEED_SMOKE]'},
													{ _qcText1: 'IDS_CMD_QUICK_BACK_WINDOW', _qcShortcut1: '[CMD_QUICK_BACK]', _qcHelpPanelVElementPadding: '15px'},
													{ _qcText1: 'IDS_CMD_QUICK_GOOD_LUCK_WINDOW', _qcShortcut1: '[CMD_QUICK_GOOD_LUCK]'},
													{ _qcText1: 'IDS_CMD_QUICK_GOOD_GAME_WINDOW', _qcShortcut1: '[CMD_QUICK_GOOD_GAME]'},
													{ _qcText1: 'IDS_CMD_QUICK_THANK_YOU_WINDOW', _qcShortcut1: '[CMD_QUICK_THANK_YOU]'},
													{ _qcText1: 'IDS_CMD_QUICK_CARAMBA_WINDOW', _qcShortcut1: '[CMD_QUICK_CARAMBA]'} ]"/>
						<block>
							<style>
								<right value="0"/>
								<paddingTop value="10px"/>
							</style>
							<bind name="repeat" value="qcDataArray1; 'QuickCommandHelpPanelVElement'"/>
						</block>
					</block>
				</block>
				<bind name="child" value="validTabIndex; {	_isBattleStats: true, gameInfo: gameInfo, battleModeInfo: battleModeInfo,
											selfPlayer: selfPlayer, enemies: enemies, allies: allies, divisions: divisions,
											_isDynamicDivisionsEnabled: isDynamicDivisionsEnabled}
										; 'TeamBattlePage'; 'DynamicDivisions'; 'TaskBattleStats'"/>
				<block>
					<style>
						<width value="210px"/>
						<position value="absolute"/>
						<top value="20px"/>
					</style>
					<bind name="style" value="'right';	-(210 + instructionsOffsetX)"/>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<bind name="instance" value="'RightPanelInfo'; validTabIndex == 0	? {	_headerText: 'IDS_ACTIONS_WITH_PLAYERS_HEADER',
																				_infoText: 'IDS_ACTIONS_WITH_PLAYERS_HINT',
																				_isBattleStats: true}
																			: null"/>
						<bind name="instance" value="'RightPanelInfo'; validTabIndex == 1	? {	_headerText: 'IDS_DIVISIONS_IN_BATTLE_HEADER',
																				_infoText: 'IDS_DYNAMIC_DIVISIONS_INFO',
																				_isBattleStats: true}
																			: null"/>
					</block>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="2px"/>
						</style>
						<bind name="instance" value="'VoiceChatRightPanelControl'; isVoiceChatEnabled	? {_isBattleStats: true, _battleType: gameInfo.battleType}
																						: null"/>
					</block>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="2px"/>
						</style>
						<bind name="instance" value="'InvitationsToDivisionRightPanelControl'; isDynamicDivisionsEnabled	? {_selfPlayer: selfPlayer, _isBattleStats: true}
																										: null"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="watch" value="'bottomOffset'; 17+(stageHeight-720)/3"/>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'bottom'; bottomOffset"/>
			<bind name="watch" value="'isChargePointsVisible'; (	(gameInfo.gameModeId == GameMode.AWESOME) ||
												(gameInfo.gameModeId == GameMode.STANDARD_DOMINATION) ||
												(gameInfo.gameModeId == GameMode.FORTS) ||
												(gameInfo.gameModeId == GameMode.ASSAULT_DEFENSE) ||
												(gameInfo.gameModeId == GameMode.EPICENTER)) &amp;&amp; (validTabIndex == 0)"/>
			<block>
				<bind name="visible" value="(isChargePointsVisible == true)"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="9px"/>
				</style>
				<bind name="instance" value="'PointsCharge';  {_battleModeInfo: battleModeInfo}"/>
			</block>
			<block>
				<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
				<bind name="watchDH" value="'chosenOperationId'; ['']; pveStateEntity.pveState.chosenOperation"/>
				<bind name="watchDH" value="'activeOperationId'; ['']; pveStateEntity.pveState.activeOperation"/>
				<bind name="watchDH" value="'chosenDifficulty';	['']; pveStateEntity.pveState.chosenDifficulty"/>
				<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
				<bind name="watchDH" value="'operationType';	['operationEntity.operation.evStatusChanged']; operationEntity.operation.type"/>
				<bind name="watch" value="'isChosenOperationOfTheWeek'; ((chosenOperationId == activeOperationId) &amp;&amp; (chosenDifficulty == 'normal'))"/>
				<style>
					<marginTop value="16px"/>
					<width value="100%"/>
				</style>
				<block className="icon_battletypes" type="native">
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginTop value="0px"/>
					</style>
					<bind name="gotoAndStop!" value="(gameInfo.battleType == BattleTypes.PVE_BATTLE) &amp;&amp; (operationType == 'event')	? 'PVEBattle_event' 
																																	: gameInfo.battleType"/>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<bind name="class" value="'$FontSizeLargeHeader'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextAccentBold"/>
						<bind name="text" value="(gameInfo.gameModeId == GameMode.PVE	? tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME')
																		: toUpperCase(tr(battleModeInfo.mapName)))"/>
					</block>
					<block type="text">
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextHeader"/>
						<style>
							<marginTop value="-6px"/>
							<alpha value="0.8"/>
						</style>
						<bind name="text" value="(gameInfo.gameModeId == GameMode.PVE	?	tr('IDS_PVE_BATTLE_WITH_DOT') + ' ' +	(isChosenOperationOfTheWeek == true 					? tr('IDS_OPERATION_OF_THE_WEEK_OPERATION_TITLE') :
																													(chosenDifficulty == 'normal'	? tr('IDS_OPERATION_NORMAL_DIFFICULTY_TITLE')
																																									: tr('IDS_OPERATION_HARD_DIFFICULTY_TITLE')))
																		:	(toUpperCase(tr('IDS_')) + gameInfo.gameMode + toUpperCase(tr('_TITLE'))))"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<styleClass value="$BottomMenu"/>
			<block>
				<style>
					<marginLeft value="10px"/>
					<marginTop value="4px"/>
					<width value="19px"/>
					<height value="17px"/>
				</style>
				<bind name="instance" value="'VoiceChatOutgoingIcon'; {_isInBattle: true, _isSpeaking: selfPlayer.isSpeaking}"/>
			</block>
		</block>
		<block>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'invitationsToDivision'; 'InvitationsToDivision'"/>
			<bind name="style" value="'bottom'; bottomOffset"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="repeat" value="InvitationsToDivision; 'BattleDivisionInvitationItem'; {_isBattleStats: true}"/>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="TooltipWithKeyIcon">
		<block>
			<styleClass value="$DefaultTooltipBehaviour"/>
			<style>
				<width value="250px"/>
			</style>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="instance" value="'TooltipBackground'; {_isInBattle: true}"/>
			</block>
			<block type="text">
				<styleClass value="$InfoBlockIndent"/>
				<styleClass value="$TextHeaderBigDefault"/>
				<text value="IDS_SHOW_CURSOR_IN_STATS_PANEL_HINT"/>
				<bind name="substitute" value="''; 3; {'[KEY_CONTROL]':'[CONTROL]'}"/>
			</block>
		</block>
	</block>
	<block className="RightPanelInfo">
		<bind name="appear" value="_isBattleStats ? null : 'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="name" value="'RightPanelInfo'"/>
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefaultBoldNM"/>
			<bind name="text" value="toUpperCase(tr(_headerText))"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginTop value="15px"/>
				<leading value="1"/>
			</style>
			<styleClass value="$TextDefault17NM"/>
			<bind name="text" value="tr(_infoText)"/>
		</block>
	</block>
	<block className="VoiceChatOutgoingIcon">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="transition" value="VoiceChatState.outgoing; 0.15; {alpha: 0}; {alpha: 1}"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; VoiceChatState.outgoing ?	{	_multiParagraphArray:  [{_paragraphText: 'IDS_VOICE_CHAT_OUTGOING_STATE_HINT'}],
													_maxWidth: 250, _isInBattle: _isInBattle} : null"/>
		<block>
			<bind name="transition" value="_isSpeaking; 0.15; {alpha: 0.6}; {alpha: 1}"/>
			<block className="icon_voice_chat" type="native"/>
		</block>
	</block>
	<block className="BattleLoadingMinimap">
		<bind name="name" value="'BattleLoadingMinimap'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'capturePoints'; 'capturePointsCollection'"/>
		<bind name="collectionDH" value="CC.building; 'forts'"/>
		<style>
			<width value="1px"/>
			<height value="1px"/>
		</style>
		<bind name="var" value="{minimapSize: 360}"/>
		<bind name="style" value="'width'; minimapSize + 'px'"/>
		<bind name="style" value="'height'; minimapSize + 'px'"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundStretchY value="true"/>
				<backgroundStretchX value="true"/>
				<alpha value="0.7"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + _battleModeInfo.minimapWaterPath"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundStretchY value="true"/>
				<backgroundStretchX value="true"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:' + _battleModeInfo.minimapPath"/>
		</block>
		<block className="minimap_grid" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="-30px"/>
			</style>
			<bind name="repeat" value="['A','B','C','D','E','F','G','H','I','J']; 'MinimapSectorLabel'; { size: minimapSize / 10}"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="-30px"/>
				<flow value="horizontal"/>
			</style>
			<bind name="repeat" value="[1,2,3,4,5,6,7,8,9,10]; 'MinimapSectorLabel'; { size: minimapSize / 10}"/>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="repeat" value="capturePointsCollection; 'MinimapCircleItem'; { minimapSize: minimapSize}"/>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="repeat" value="capturePointsCollection; 'MinimapPointItem'; { minimapSize: minimapSize, modeId: _battleModeInfo.modeId }"/>
			<bind name="repeat" value="forts; 'MinimapFortsItem'; {minimapSize: minimapSize}"/>
		</block>
		<block>
			<style>
				<overflow value="scroll"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="repeat" value="_allies; 'MinimapShipItem'; { minimapSize: minimapSize }"/>
		</block>
	</block>
	<block className="MinimapShipItem">
		<style>
			<position value="absolute"/>
		</style>
		<bind name="visible" value="(worldPos.x + worldPos.z &gt; 0) &amp;&amp; worldPos.x &lt;= 1 &amp;&amp; worldPos.z &lt;= 1"/>
		<bind name="tooltip" value="'SimpleTooltip'; relation == 0	? {tooltipText: 'IDS_MY_SHIP'}
													: {tooltipText: tr('IDS_ALLY') + ' ' + ((shipTypeIdent == ShipTypes.Auxiliary)	?	toLowerCase(tr('IDS_SHIP'))
																																	:	toLowerCase(tr('IDS_' + toUpperCase(shipTypeIdent))))}"/>
		<bind name="left" value="worldPos.x * minimapSize"/>
		<bind name="top" value="worldPos.z * minimapSize"/>
		<block className="icon_ships_minimap" type="native">
			<bind name="gotoAndStop!" value="relation == 0 ? 'Player' 
										: isInSameDivision ? shipTypeIdent + '_division'
										: tkStatus ? shipTypeIdent + '_teamkiller' : shipTypeIdent"/>
			<bind name="rotation" value="worldYaw * 180 / 3.14"/>
		</block>
	</block>
	<block className="MinimapCircleItem">
		<style>
			<position value="absolute"/>
			<alpha value="1"/>
		</style>
		<bind name="left" value="posX * minimapSize"/>
		<bind name="top" value="posY * minimapSize"/>
		<block className="lesta.display.CapturePointShape" type="native">
			<bind name="radius" value="radius * minimapSize"/>
			<bind name="innerRadius" value="innerRadius * minimapSize"/>
			<bind name="maxRadius" value="maxRadius * minimapSize"/>
			<bind name="relation" value="ownerRelation"/>
			<bind name="visible" value="visible"/>
		</block>
	</block>
	<block className="MinimapPointItem">
		<style>
			<position value="absolute"/>
		</style>
		<bind name="left" value="posX * minimapSize"/>
		<bind name="top" value="posY * minimapSize"/>
		<bind name="visible" value="visible &amp;&amp; active"/>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; ownerRelation == 1 	? {tooltipText: 'IDS_ALLY_BASE'}
															: ownerRelation == 2 ? {tooltipText: 'IDS_ENEMY_BASE'} : null"/>
			<bind name="visible" value="(type == CapturePointType.BASE || type == CapturePointType.MEGABASE) &amp;&amp; active"/>
			<block className="icon_base_minimap" type="native">
				<bind name="gotoAndStop!" value="type == CapturePointType.BASE ? ownerRelation : ownerRelation+3"/>
			</block>
		</block>
		<block>
			<bind name="left" value="linkIndex * 40"/>
			<bind name="var" value="{ capturePointName: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'] }"/>
			<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: (type == CapturePointType.BASE_WITH_POINTS) 	? (ownerRelation == 1) ? 'IDS_ALLY_BASE' : 'IDS_ENEMY_BASE'
																									: tr('IDS_CAPTURE_POINT') + ' ' + capturePointName[id] }"/>
			<bind name="visible" value="(type == CapturePointType.CONTROL || type == CapturePointType.BASE_WITH_POINTS) &amp;&amp; active"/>
			<block className="icon_capture_point_minimap" type="native">
				<bind name="gotoAndStop!" value="type == CapturePointType.BASE_WITH_POINTS ? 11 + ownerRelation : (id + 1)"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="type == CapturePointType.BUILDING_CP"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr('IDS_CAPTURE_SECTOR') + ' ' + (id + 1)}"/>
			<block className="icon_capture_sector_minimap" type="native">
				<bind name="gotoAndStop!" value="'relation_' + ownerRelation"/>
			</block>
			<block type="text">
				<style>
					<position value="absolute"/>
					<top value="-12px"/>
					<left value="-6px"/>
				</style>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="ownerRelation == 1 ? '$FontColorComparePositive' :
						 ownerRelation == 2 ? '$FontColorCompareNegative'
											: '$FontColorWhite'"/>
				<bind name="text" value="id + 1"/>
			</block>
		</block>
	</block>
	<block className="MinimapFortsItem">
		<bind name="entityDH" value="'mapFortPoint'; id"/>
		<bind name="watchDH" value="'relation'; ['mapFortPoint.relation.evChanged']; mapFortPoint.relation.value"/>
		<bind name="watchDH" value="'mapVisible'; ['mapFortPoint.visibility.evChanged']; mapFortPoint.visibility.mapVisible"/>
		<style>
			<position value="absolute"/>
		</style>
		<bind name="visible" value="mapVisible"/>
		<bind name="left" value="mapVisible ? mapFortPoint.mapPosition.position.x * minimapSize : 0"/>
		<bind name="top" value="mapVisible ? mapFortPoint.mapPosition.position.y * minimapSize : 0"/>
		<bind name="tooltip" value="'SimpleTooltip'; { tooltipText: tr(toUpperCase('IDS_' + relation + '_' + mapFortPoint.building.type))}"/>
		<block>
			<block className="icon_forts_minimap" type="native">
				<bind name="gotoAndStop!" value="mapFortPoint.building.type + relation"/>
			</block>
		</block>
	</block>
	<block className="MinimapSectorLabel">
		<style>
			<height value="1px"/>
			<width value="1px"/>
		</style>
		<bind name="style" value="'width'; size + 'px'"/>
		<bind name="style" value="'height'; size + 'px'"/>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextSecondaryBold"/>
			<bind name="text" value="$value"/>
		</block>
	</block>
	<block className="PointsCharge">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="visible" value="_battleModeInfo.holdRewards.length &gt; 0"/>
			<style>
				<marginRight value="38px"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<text value="IDS_HOLDING_BASE"/>
			</block>
			<block>
				<bind name="repeat" value="_battleModeInfo.holdRewards; 'HoldPointReward'"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="_battleModeInfo.buildingRewardList.length &gt; 0 || _battleModeInfo.buildingPenaltyList.length &gt; 0"/>
			<style>
				<marginRight value="42px"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<text value="IDS_SUPPRESSION"/>
			</block>
			<block>
				<block>
					<bind name="repeat" value="_battleModeInfo.buildingRewardList; 'BuildingSuppressionRewardItem'"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="repeat" value="_battleModeInfo.buildingPenaltyList; 'BuildingSuppressionPenaltyItem'"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="_battleModeInfo.shipPenaltyList.length &gt; 0"/>
			<style>
				<marginRight value="42px"/>
			</style>
			<block type="text">
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<styleClass value="$MiddleAligned"/>
				<text value="IDS_ALLY_LOSS"/>
			</block>
			<block>
				<bind name="repeat" value="_battleModeInfo.shipPenaltyList; 'AllyLossItem'"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="_battleModeInfo.shipRewardList.length &gt; 0"/>
			<style>
				<height value="92px"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<text value="IDS_ENEMY_DESTROY"/>
			</block>
			<block>
				<bind name="repeat" value="_battleModeInfo.shipRewardList; 'EnemiesDestructionItem'"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="HoldPointReward">
		<style>
			<width value="100px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="visible" value="pointType != CapturePointType.BUILDING_CP"/>
			<block className="icon_hold_base" type="native">
				<bind name="gotoAndStop!" value="(pointType == CapturePointType.BASE_WITH_POINTS) ? 'flags' 
								: (pointType == CapturePointType.EPICENTER_CP) ? 'epicenter'
								: 'letters'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="pointType == CapturePointType.BUILDING_CP"/>
			<styleClass value="$MiddleAligned"/>
			<block className="icon_hold_fort_object" type="native"/>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<style>
					<maxWidth value="100"/>
					<leading value="-2"/>
					<textAlign value="center"/>
				</style>
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="message"/>
			</block>
		</block>
	</block>
	<block className="EnemiesDestructionItem">
		<style>
			<width value="38px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="44px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_ship_reward" type="native">
					<bind name="gotoAndStop!" value="shipType"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="'+' + number"/>
			</block>
		</block>
	</block>
	<block className="AllyLossItem">
		<style>
			<width value="38px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="44px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_ship_penalty" type="native">
					<bind name="gotoAndStop!" value="shipType"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="number"/>
			</block>
		</block>
	</block>
	<block className="BuildingSuppressionRewardItem">
		<style>
			<width value="38px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="44px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_building_suppress_reward" type="native">
					<bind name="gotoAndStop!" value="buildingType"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="'+' + number"/>
			</block>
		</block>
	</block>
	<block className="BuildingSuppressionPenaltyItem">
		<style>
			<width value="40px"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="44px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_building_suppress_penalty" type="native">
					<bind name="gotoAndStop!" value="buildingType"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$BattleLoadingDescriptionSmall"/>
				<bind name="text" value="number"/>
			</block>
		</block>
	</block>
	<block className="BattleLoadingPVETasks">
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'chosenOperationId'; ['']; pveStateEntity.pveState.chosenOperation"/>
		<bind name="firstEntityDH" value="'localWeatherEntity'; CC.localWeather"/>
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
		<style>
			<width value="100%"/>
			<marginRight value="80px"/>
		</style>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.4; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$TextDefaultBold23NM"/>
			<style>
				<width value="100%"/>
				<marginBottom value="12px"/>
			</style>
			<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME')"/>
		</block>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.47; {alpha: 0, top: 10}; {alpha: 0.85, top: 0}"/>
			<style>
				<width value="100%"/>
				<marginBottom value="24px"/>
				<leading value="-3"/>
				<alpha value="0.85"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_DESCRIPTION')"/>
		</block>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.54; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$TextDefaultBold23NM"/>
			<style>
				<width value="100%"/>
				<marginBottom value="12px"/>
			</style>
			<bind name="text" value="'IDS_PVE_OPERATION_GOAL'"/>
		</block>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.61; {alpha: 0, top: 10}; {alpha: 0.85, top: 0}"/>
			<style>
				<width value="100%"/>
				<marginBottom value="24px"/>
				<leading value="-3"/>
				<alpha value="0.85"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_GOAL')"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'LocalWeatherDescription'; localWeatherEntity ? {} : null"/>
		</block>
	</block>
	<block className="GalleryViewer">
		<bind name="watch" value="'currentSelectedImage'; 	_currentImageIdx"/>
		<bind name="watch" value="'nextSelectedImage'; 		(currentSelectedImage == _repeatArray.length ? 1 : currentSelectedImage + 1)"/>
		<bind name="watch" value="'previousSelectedImage';	(currentSelectedImage == 1 ? _repeatArray.length : currentSelectedImage - 1)"/>
		<bind name="dispatch" value="'imageSelectionEv'; 'changeImage'; null; 1; 0.05"/>
		<bind name="catch" value="'imageSelectionEv'"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="var" value="{ _isAutoSwitchStoped: false }"/>
		<bind name="catch" value="'nextEv'; 			{ _isAutoSwitchStoped: true }"/>
		<bind name="catch" value="'previousEv'; 		{ _isAutoSwitchStoped: true }"/>
		<bind name="catch" value="'changeImage'; 	{ _isAutoSwitchStoped: true }"/>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="var" value="{ timerTimeStamp: 0 }"/>
		<bind name="catch" value="'addedToStage'; { timerTimeStamp: serverTime - (-_autoSwitchDelay)}"/>
		<bind name="countdown" value="timerTimeStamp; 'countdownText'; 'ss'; (_isAutoSwitchStoped == true) ? null : 'timeoutEvent'"/>
		<bind name="catch" value="'timeoutEvent'; (_isAutoSwitchStoped == true) ? null : { timerTimeStamp: serverTime - (-_autoSwitchDelay), currentSelectedImage: nextSelectedImage }"/>
		<bind name="dispatch" value="'timeoutEvent'; (_isAutoSwitchStoped == true) ? null : 'timeOutEv'; {}; 1"/>
		<block>
			<bind name="visible" value="(_repeatArray.length &gt; 1) &amp;&amp; (_arrowsDisabled != true)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<bind name="transition" value="rollOver; 0.15; {alpha: 0.5}; {alpha: 1}"/>
			<bind name="dispatch" value="'click'; 'previousEv'; {}; 1"/>
			<bind name="catch" value="'click'; { currentSelectedImage: previousSelectedImage }"/>
			<bind name="soundOn" value="'mouseDown'; 'press'; 'default_button'"/>
			<style>
				<height value="100%"/>
				<width value="40px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block className="button_slide_left" type="native">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAligned"/>
			</block>
		</block>
		<block>
			<block>
				<style>
					<overflow value="scroll"/>
					<scrollbar value="ModernScrollBar"/>
					<scrollbarController value="lesta.unbound.style.UbScrollingControllerModern"/>
					<scrollArea value="ModernScrollArea"/>
					<scrollbarTrackMode value="scrollToCursor"/>
				</style>
				<bind name="style" value="'width'; _imageWidth + 'px'"/>
				<bind name="style" value="'height'; _imageHeight + 'px'"/>
				<bind name="repeat" value="_repeatArray; 'GalleryItem'; {	_currentSelectedImage	: currentSelectedImage,
															_nextSelectedImage		: nextSelectedImage,
															_previousSelectedImage	: previousSelectedImage,
															_imageWidth				: _imageWidth, 
															_imageHeight			: _imageHeight
														}; true"/>
			</block>
			<block>
				<bind name="visible" value="(_repeatArray.length &gt; 1) &amp;&amp; (_indicatorDisabled != true)"/>
				<style>
					<width value="100%"/>
					<height value="10px"/>
				</style>
				<bind name="repeat" value="_repeatArray; 'SelectedImageIndicator'; {		_currentSelectedImage	: currentSelectedImage,
																		_imageCount				: _repeatArray.length,
																		_imageWidth				: _imageWidth}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_repeatArray.length &gt; 1) &amp;&amp; (_arrowsDisabled != true)"/>
			<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
			<bind name="transition" value="rollOver; 0.15; {alpha: 0.5}; {alpha: 1}"/>
			<bind name="dispatch" value="'click'; 'nextEv'; {}; 1"/>
			<bind name="catch" value="'click'; { currentSelectedImage: nextSelectedImage }"/>
			<bind name="soundOn" value="'mouseDown'; 'press'; 'default_button'"/>
			<style>
				<height value="100%"/>
				<width value="40px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block className="button_slide_right" type="native">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MiddleAligned"/>
			</block>
		</block>
	</block>
	<block className="GalleryItem">
		<bind name="var" value="{imageIndex: $index + 1}"/>
		<bind name="appear" value="imageIndex == _nextSelectedImage		?	'timeOutEv'		: null ; 0.35; 0; 	{alpha: 1, left: _imageWidth};		{alpha: 1, left: 0}; 1"/>
		<bind name="appear" value="imageIndex == _currentSelectedImage	?	'timeOutEv'		: null ; 0.35; 0; 	{alpha: 1, left: 0};				{alpha: 1, left: -_imageWidth}; 1"/>
		<bind name="appear" value="imageIndex == _nextSelectedImage		?	'nextEv'		: null ; 0.35; 0; 	{alpha: 1, left: _imageWidth};		{alpha: 1, left: 0}; 1"/>
		<bind name="appear" value="imageIndex == _currentSelectedImage	?	'nextEv'		: null ; 0.35; 0; 	{alpha: 1, left: 0};				{alpha: 1, left: -_imageWidth}; 1"/>
		<bind name="appear" value="imageIndex == _previousSelectedImage 	?	'previousEv'	: null ; 0.35; 0; 	{alpha: 1, left: -_imageWidth};		{alpha: 1, left: 0}; 1"/>
		<bind name="appear" value="imageIndex == _currentSelectedImage 	?	'previousEv'	: null ; 0.35; 0; 	{alpha: 1, left: 0};				{alpha: 1, left: _imageWidth}; 1"/>
		<bind name="appear" value="imageIndex == _currentSelectedImage 	?	'changeImage'	: null ; 0.35; 0; 	{alpha: 1, left: 0};				{alpha: 1, left: 0}; 1"/>
		<bind name="appear" value="imageIndex != _currentSelectedImage	? 	'changeImage'	: null ; 0; 0;		{alpha: 0, left: _imageWidth};		{alpha: 0, left: _imageWidth}; 1"/>
		<styleClass value="$FullsizeAbsolute"/>
		<bind name="style" value="'alpha'; (imageIndex == _currentSelectedImage) ? 1 : 0)"/>
		<block>
			<bind name="visible" value="image == null"/>
			<bind name="instance" value="'DefaultPngViewer'; (image == null) ? { _imagePath: imagePath, _width: _imageWidth, _height: _imageHeight } : null"/>
		</block>
		<block>
			<bind name="visible" value="image != null"/>
			<bind name="instance" value="'BattleGalleryItem'; (image != null) ? { _image: image, _description: description } : null"/>
		</block>
	</block>
	<block className="SelectedImageIndicator">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="watch" value="'indicatorLength'; ((_imageWidth - ((_imageCount - 1)*2)) / _imageCount)"/>
		<bind name="watch" value="'indicatorLengthRemainder'; ((_imageWidth - ((_imageCount - 1)*2)) % _imageCount)"/>
		<bind name="style" value="'marginRight'; (($index + 1) &lt; _imageCount) ? '2px' : '0px'"/>
		<bind name="style" value="'width'; $index &lt; indicatorLengthRemainder ? ((indicatorLength + 1) + 'px') : indicatorLength + 'px'"/>
		<bind name="var" value="{ imageIndex: $index + 1 }"/>
		<bind name="dispatch" value="'click'; 'imageSelectionEv'; { currentSelectedImage: imageIndex }; 0"/>
		<bind name="soundOn" value="'mouseDown'; 'press'; 'default_button'"/>
		<bind name="style" value="'backgroundColor'; ( _currentSelectedImage == imageIndex ) ? '0xCC4CE8AA' : '0x779CBABA'"/>
		<bind name="transition" value="rollOver; 0.05; {height: 5}; {height: 10}"/>
		<style>
			<height value="5px"/>
		</style>
		<block>
			<style>
				<backgroundColor value="0x01000000"/>
				<height value="20px"/>
				<top value="-10px"/>
				<position value="absolute"/>
				<width value="100%"/>
			</style>
		</block>
	</block>
	<block className="PlayerDogTag">
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; _playerDbId"/>
		<bind name="watchDH" value="'dogTagList';['playerEntity.dogTagView.evUpdate']; playerEntity.dogTagView.components"/>
		<bind name="collectionDH" value="CC.dogTagComponent; 'dogtagview'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'dogtagview'+'ROOT'; 'dogtagview'; {'filter': dogTagList.length &amp;&amp; ((dogTagList.indexOf(toLowerCase($entity.dogTagComponent.id)) &gt; -1)), 'sort':['dogTagComponent.categoryId']}; []"/>
		<bind name="watch" value="'size';	_size == 'big' 				? 512 : 
							_size == 'medium' 			? 190 : 
							_size == 'profile' 			? 120 :
							_size == 'small' 			? 80 
														: 80"/>
		<bind name="style" value="'width'; size + 'px'"/>
		<bind name="style" value="'height'; size + 'px'"/>
		<bind name="repeat" value="dogtagview; 'PlayerDogTagItem'; {_path: _size == 'small' 		? 'url:../dogTags/small/'  :
														  _size == 'profile' 	? 'url:../dogTags/medium/' :
														  _size == 'medium' 	? 'url:../dogTags/medium/' :
														  _size == 'big' 		? 'url:../dogTags/big/'
														  						: 'url:../dogTags/big/'
														  						, _playerDbId : _playerDbId,
													_clanTagPaths: _size == 'small' 	? '../fonts/small/'  :
																   _size == 'profile' 	? '../fonts/medium/' :
																   _size == 'medium' 	? '../fonts/medium/' :
																   _size == 'big' 		? '../fonts/big/'
																				: '../fonts/big/'
																				, _size: size}"/>
	</block>
	<block className="PlayerDogTagItem">
		<bind name="entityDH" value="'dogTagEntity'; id"/>
		<bind name="watchDH" value="'iconPath'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.iconPath"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; _playerDbId"/>
		<bind name="watchDH" value="'clanId'; ['playerEntity.clanman.evClanIdChanged']; playerEntity.clanman.clanId"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanTagOffsetX';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetX"/>
		<bind name="watchDH" value="'clanTagOffsetY';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetY"/>
		<bind name="watchDH" value="'clanTagFont';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagFont"/>
		<bind name="watchDH" value="'clanTagVisible';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagVisible"/>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'top'; clanTagOffsetY + '%'"/>
			<bind name="style" value="'left'; clanTagOffsetX + '%'"/>
			<block>
				<style>
					<position value="absolute"/>
					<marginLeft value="-50%"/>
					<marginTop value="-50%"/>
				</style>
				<bind name="visible" value="clanTagVisible"/>
				<bind name="atlasText" value="clanTagVisible ?  (clanTag ? '[' + clanTag + ']' : '^') : '' ; _clanTagPaths + clanTagFont; 0"/>
			</block>
		</block>
		<styleClass value="$FullsizeAbsolute"/>
		<style>
			<backgroundStretchX value="true"/>
			<backgroundStretchY value="true"/>
		</style>
		<bind name="style" value="'backgroundImage'; _path + iconPath"/>
		<bind name="name" value="'dogTag_' + _path + '_' + $index + '_' + dogTagEntity.dogTagComponent.gpName"/>
	</block>
	<block className="PlayerDogTagItemByPK">
		<bind name="primaryEntityDH" value="'dogTagEntity'; CC.dogTagComponent; $value"/>
		<bind name="watchDH" value="'iconPath'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.iconPath"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
		<bind name="watchDH" value="'clanId'; ['selfPlayerEntity.clanman.evClanIdChanged']; selfPlayerEntity.clanman.clanId"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanTagOffsetX';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetX"/>
		<bind name="watchDH" value="'clanTagOffsetY';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetY"/>
		<bind name="watchDH" value="'clanTagFont';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagFont"/>
		<bind name="watchDH" value="'clanTagVisible';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagVisible"/>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'top'; clanTagOffsetY + '%'"/>
			<bind name="style" value="'left'; clanTagOffsetX + '%'"/>
			<block>
				<style>
					<position value="absolute"/>
					<marginLeft value="-50%"/>
					<marginTop value="-50%"/>
				</style>
				<bind name="visible" value="clanTagVisible"/>
				<bind name="atlasText" value="clanTagVisible ?  (clanTag ? '[' + clanTag + ']' : '^') : '' ; _clanTagPaths + clanTagFont; 0"/>
			</block>
		</block>
		<styleClass value="$FullsizeAbsolute"/>
		<style>
			<backgroundStretchX value="true"/>
			<backgroundStretchY value="true"/>
		</style>
		<bind name="style" value="'backgroundImage'; _path + iconPath"/>
		<bind name="name" value="'dogTag_' + _path + '_' + $index + '_' + dogTagEntity.dogTagComponent.gpName"/>
	</block>
	<block className="DogTagProgressDefault">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
			<marginBottom value="12px"/>
		</style>
		<block type="text">
			<style>
				<width value="100%"/>
			</style>
			<bind name="class" value="(_current &lt; _goal) ? '$FontColorUnready' : '$None'"/>
			<styleClass value="$TextDefault17NM"/>
			<bind name="text" value="tr(toUpperCase('IDS_DOGTAG_PARAM_' + _name))"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="8px"/>
			</style>
			<bind name="class" value="(_current &lt; _goal) ? '$FontColorUnready' : '$None'"/>
			<styleClass value="$TextDefault17NM"/>
			<bind name="text" value="_current"/>
		</block>
	</block>
	<block className="ResultBlock">
		<style>
			<width value="100%"/>
		</style>
		<bind name="child" value="_progress[$index][0];	{_name: _progress[$index][0], _goal: _progress[$index][1], _current: _progress[$index][2]};
										{	battleCount: 'DogTagProgressDefault',
											achievementCount: 'DogTagProgressDefault',
										 	damage: 'DogTagProgressDefault',
										 	clearExp: 'DogTagProgressDefault',
										 	winRate: 'DogTagProgressDefault'	}"/>
	</block>
	<block className="DogTagComponentTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
			<hitTest value="false"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="primaryEntityDH" value="'dogTagEntity'; CC.dogTagComponent; _id"/>
		<bind name="watchDH" value="'enabled'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.enabled"/>
		<bind name="watchDH" value="'iconPath'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.iconPath"/>
		<bind name="watchDH" value="'gpName'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.gpName"/>
		<bind name="watchDH" value="'categoryId'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.categoryId"/>
		<bind name="watchDH" value="'restriction'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.restriction"/>
		<bind name="watchDH" value="'data'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.data"/>
		<bind name="watchDH" value="'progress'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.progress"/>
		<bind name="watchDH" value="'description'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.description"/>
		<bind name="watchDH" value="'quest'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.quest"/>
		<bind name="watchDH" value="'unique'; ['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.unique"/>
		<bind name="watchDH" value="'clanTagOffsetX';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetX"/>
		<bind name="watchDH" value="'clanTagOffsetY';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagOffsetY"/>
		<bind name="watchDH" value="'clanTagFont';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagFont"/>
		<bind name="watchDH" value="'clanTagVisible';['dogTagEntity.dogTagComponent.evUpdate']; dogTagEntity.dogTagComponent.clanTagVisible"/>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'DogTagComponentTooltipHeader'; {_iconPath: iconPath, _categoryId: categoryId, _gpName: gpName, _unique: unique,
				_clanTagOffsetX: clanTagOffsetX, _clanTagOffsetY: clanTagOffsetY, _clanTagFont: clanTagFont, _clanTagVisible: clanTagVisible}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isNotSelf != true"/>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block className="icon_module_state" type="native">
					<bind name="gotoAndStop!" value="enabled 	? 'installed'
											: 'action'"/>
				</block>
			</block>
			<block type="text">
				<styleClass value="$TextDefault17NM"/>
				<style>
					<maxWidth value="260"/>
					<marginLeft value="4px"/>
				</style>
				<bind name="class" value="	enabled &amp;&amp; dogTagEntity.dogTagComponentSaved != null	? '$FontColorGolden' :
							enabled													? '$None'
																					: '$FontColorUnready'"/>
				<bind name="text" value="	enabled &amp;&amp; dogTagEntity.dogTagComponentSaved != null	? 'IDS_DOGTAG_COMPONENT_SET':
							enabled													? 'IDS_DOGTAG_COMPONENT_AVAILABLE'
																					: 'IDS_DOGTAG_COMPONENT_NOT_AVAILABLE'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="isNotSelf != true"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="description"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextDefault17NM"/>
					<style>
						<width value="100%"/>
						<leading value="-3"/>
					</style>
					<bind name="text" value="tr( toUpperCase('IDS_DOGTAG_' + gpName + '_DESCRIPTION'))"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="!isRewardTooltip &amp;&amp; quest"/>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<block type="text">
					<styleClass value="$TextDefault17NM"/>
					<style>
						<width value="100%"/>
						<leading value="-3"/>
					</style>
					<bind name="text" value="quest"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="inner_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<style>
						<width value="100%"/>
						<alpha value="0.7"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefault17NM"/>
						<style>
							<width value="100%"/>
							<marginTop value="3px"/>
							<marginBottom value="3px"/>
							<leading value="-3"/>
						</style>
						<bind name="text" value="restriction"/>
					</block>
				</block>
				<block>
					<styleClass value="$InfoBlockIndent"/>
					<block>
						<bind name="repeat" value="data.battleTypes; 'DogTagBattleTypeRestriction'"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<bind name="instance" value="'ShipRestrictions'; {_restrictionsEntityId: dogTagEntity.id, _withShipTypeCounters: false}"/>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="!enabled &amp;&amp; progress[0][2] != 0 &amp;&amp; isNotSelf != true"/>
				<style>
					<width value="100%"/>
					<marginTop value="9px"/>
				</style>
				<block>
					<styleClass value="$InfoBlockHorizontalIndent"/>
					<bind name="repeat" value="progress; 'ResultBlock'; {_progress: progress}"/>
				</block>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(isNotSelf != true &amp;&amp; _canInstall == 'true') || isRewardTooltip"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; isRewardTooltip ? {_type: 'left', _instructionText: 'IDS_DOGTAG_TOOLTIP_GO_TO_CONSTUCTOR', _maxWidth: 300 } :
											unique			? {_type: 'left', _instructionText: 'IDS_SELECT_DOGTAG_COMPONENT_UNIQUE', _maxWidth: 300 } 
															: {_type: 'left', _instructionText: 'IDS_SELECT_DOGTAG_COMPONENT', _maxWidth: 300 }"/>
		</block>
	</block>
	<block className="DogTagComponentTooltipHeader">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<style>
				<backgroundStretchX value="true"/>
				<backgroundStretchY value="true"/>
				<width value="80px"/>
				<height value="80px"/>
			</style>
			<bind name="style" value="'backgroundImage'; 'url:../dogTags/small/' + _iconPath"/>
			<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
			<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
			<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
			<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
			<bind name="watchDH" value="'clanId'; ['selfPlayerEntity.clanman.evClanIdChanged']; selfPlayerEntity.clanman.clanId"/>
			<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
			<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
			<block>
				<bind name="visible" value="_clanTagVisible == true"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="style" value="'top'; _clanTagOffsetY + '%'"/>
				<bind name="style" value="'left'; _clanTagOffsetX + '%'"/>
				<block>
					<style>
						<position value="absolute"/>
						<marginLeft value="-50%"/>
						<marginTop value="-50%"/>
					</style>
					<bind name="atlasText" value="_clanTagVisible ? (clanTag ? '[' + clanTag + ']' : '^') : '' ; '../fonts/small/' + _clanTagFont; 0"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="6px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderBold"/>
				<style>
					<maxWidth value="192"/>
				</style>
				<bind name="text" value="tr(toUpperCase('IDS_DOGTAG_' + _gpName + '_NAME'))"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<style>
					<maxWidth value="192"/>
				</style>
				<bind name="text" value="_unique ? tr(toUpperCase('IDS_DOGTAG_COMPONENT_TOOLTIP_CATEGORY_' + 'unique')) : tr(toUpperCase('IDS_DOGTAG_COMPONENT_TOOLTIP_CATEGORY_' + _categoryId))"/>
			</block>
		</block>
	</block>
	<block className="DogTagBattleTypeRestriction">
		<block className="icon_battletypes_small" type="native">
			<style>
				<marginRight value="6px"/>
				<width value="25px"/>
				<height value="25px"/>
			</style>
			<bind name="gotoAndStop!" value="	($value == 'PVP')			? 'RandomBattle' :
									($value == 'COOPERATIVE')	? 'CooperativeBattle':
									($value == 'RANKED')		? 'RankedBattle':
									($value == 'PVE')			? 'PVEBattle':
									($value == 'PVE_PREMADE')	? 'PVEBattle_hard':
									($value == 'CLAN')			? 'ClanBattle'
																: null "/>
		</block>
		<block className="VerticalDivider">
			<style>
				<height value="100%"/>
				<width value="3px"/>
			</style>
			<block className="divider_v" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
	</block>
	<block className="PlayerStereotype">
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; _playerDbId"/>
		<bind name="watchDH" value="'dogTagList';['playerEntity.dogTagView.evUpdate']; playerEntity.dogTagView.components"/>
		<bind name="collectionDH" value="CC.dogTagComponent; 'dogtagview'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'dogtagview'+'ROOT'; 'dogtagview'; {'filter':(dogTagList.indexOf(toLowerCase($entity.dogTagComponent.id)) &gt; -1), 'sort':['dogTagComponent.categoryId']}; []"/>
		<bind name="watchDH" value="'isSelf';			[]; playerEntity.accountSimple.isSelfPlayer"/>
		<bind name="watchDH" value="'relation'; 		['playerEntity.relation.evChanged']; playerEntity.relation.value"/>
		<bind name="watchDH" value="'clanId';			['playerEntity.clanman.evClanIdChanged']; playerEntity.clanman.clanId"/>
		<bind name="watchDH" value="'pureName';		['playerEntity.accountName.evChanged']; playerEntity.accountName.name"/>
		<bind name="watchDH" value="'accountLevel';	['playerEntity.accountLevel.evLevelChanged']; playerEntity.accountLevel.level"/>
		<bind name="watchDH" value="'rank'; 			['playerEntity.accountRank.evRankChanged']; playerEntity.accountRank.rank"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="watchDH" value="'clanTag'; 	['clanEntity.clan.evTagChanged']; _clanTag ? _clanTag : clanEntity.clan.tag"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; clanId"/>
		<bind name="watchDH" value="'clanTagColor'; 	['clanExtendedEntity.clanExtended.evColorChanged']; _clanTagColor ? _clanTagColor : clanExtendedEntity.clanExtended.color"/>
		<style>
			<width value="100%f"/>
			<marginTop value="14px"/>
		</style>
		<block>
			<style>
				<width value="100%f"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_TOOLTIP_PLAYER_STEREOTYPE_NAME'}"/>
			<bind name="instance" value="'PlayerNameAndClanTag'; {
								_isSelf: 			isSelf,
								_tkStatus: 			_tkStatus || _abuseStatus == AbuseStatus.SUSPECT, 
								_ctkStatus:			_ctkStatus || _abuseStatus == AbuseStatus.CONFIRMED, 
								_ttkStatus:			_ttkStatus, 
								_isInSameDivision:  _player.isInSameDivision,
								_fontSize:			19,
								_playerName:		pureName,
								_clanTag:			clanTag,
								_clanTagColor:		clanTagColor,
								_isDead:			false,
								_noClanTagColor:	_noClanTagColor}"/>
		</block>
		<block>
			<style>
				<width value="100%f"/>
			</style>
			<bind name="visible" value="!_isBot &amp;&amp; !_noLevel"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_TOOLTIP_PLAYER_STEREOTYPE_LEVEL'}"/>
			<block type="text">
				<styleClass value="$TextDefaultNM"/>
				<style>
					<marginTop value="7px"/>
					<marginLeft value="3px"/>
				</style>
				<bind name="text" value="subst('IDS_PLAYER_STEREOTYPE_LEVEL',[], {accountLevel: accountLevel})"/>
			</block>
		</block>
		<bind name="instance" value="'PlayerProgressBar';	rank == 0 &amp;&amp; isSelf &amp;&amp;
											accountLevel != _maxLevelEnabled &amp;&amp;
											_currentProgress != null ? {_accountLevel: accountLevel, _currentProgress: _currentProgress,
																		_levelProgress: _levelProgress} : null"/>
		<block type="text">
			<bind name="visible" value="!_noRank &amp;&amp; !_isBot &amp;&amp; rank != 0 &amp;&amp; rank != null"/>
			<styleClass value="$TextDefaultNM"/>
			<style>
				<marginTop value="8px"/>
				<marginLeft value="3px"/>
				<maxWidth value="160"/>
				<multiline value="false"/>
			</style>
			<bind name="text" value="rank == 1 	? subst('IDS_RANK_X_SEAWOLF',[], {rank: tr('IDS_RANK_SEA_WOLF')})
								: subst('IDS_RANK_X',[], {rank: rank - 1})"/>
		</block>
	</block>
	<block className="PlayerProgressBar">
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="3px"/>
			</style>
			<block>
				<block className="indicator_progress_bar_yellow" type="native">
					<bind name="value" value="(_currentProgress / _levelProgress)*10"/>
					<style>
						<width value="138px"/>
						<marginTop value="8px"/>
					</style>
				</block>
			</block>
			<block>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="(format(_currentProgress, -1)) + ' / ' + (format(_levelProgress, -1))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<css name="$TextGoldenBold">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$BattleLoadingHeader">
		<fontFamily value="$WWSDefaultFontBold"/>
		<marginBottom value="3px"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="23"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$BattleLoadingDescription">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$BattleLoadingDescriptionSmall">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TableHeaderIconSize">
		<width value="30px"/>
		<marginTop value="4px"/>
		<height value="21px"/>
	</css>
	<block className="BattleLoading">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; selfPlayer.shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'battleModeInfo'; 'updateBattleTime,battleModeInfo,updateBattleModeInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'; 'initGameInfo,GameInfoUpdateFragsCount,GameVersion'"/>
		<bind name="controller" value="lesta.dialogs.battle_window_controllers.uss_controllers.ControllerBattleStats"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="action" value="'addedToStage'; 'setUserPref' ; gameInfo.battleType == BattleTypes.EVENT_BATTLE ? {value: 0, name: 'battleLoadingTabIndex'} : null"/>
		<bind name="watch" value="'battleLoadingTabIndex';	(userPrefs.battleLoadingTabIndex == null)	? 2 : userPrefs.battleLoadingTabIndex"/>
		<bind name="watch" value="'validTabIndex'; 	gameInfo.battleType == BattleTypes.INTRO_MISSION			? 0 :
									!isDynamicDivisionsEnabled &amp;&amp; battleLoadingTabIndex == 3	? 2
																								: battleLoadingTabIndex"/>
		<bind name="watch" value="'isDynamicDivisionsEnabled'; (((gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) || (gameInfo.battleType == BattleTypes.RANDOM_BATTLE)) &amp;&amp; slimClientData.isFull)"/>
		<bind name="watch" value="'isVoiceChatEnabled';	(gameInfo.battleType == BattleTypes.CLAN_BATTLE) ||
										((selfPlayer.divisionId != 0) &amp;&amp; ((gameInfo.battleType == BattleTypes.RANDOM_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.PVE_BATTLE)))"/>
		<block className="lesta.utils.resourceLoading.BitmapDataResourceDisplay" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="display!" value="battleModeInfo.bitmapId"/>
		</block>
		<bind name="appear" value="'addedToStage'; 0.15; 0.2; {alpha: 0}; {alpha: 1}"/>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block type="text">
			<bind name="appear" value="'startShowContent'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: 10}"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextAccentBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<top value="33%"/>
				<hitTest value="false"/>
				<position value="absolute"/>
			</style>
			<bind name="text" value="toUpperCase(tr('IDS_WAITING_SCREEN_LOADING_DATA'))"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="dispatch" value="'addedToStage'; 'startShowContent'"/>
			<bind name="appear" value="'startShowContent'; 0.15; 0.35; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="action" value="'addedToStage'; 'BattleHints.refresh'; {}"/>
			<block>
				<style>
					<position value="absolute"/>
					<right value="1280:312,1920:375aw"/>
					<bottom value="67px"/>
				</style>
				<bind name="firstEntityDH" value="'battleDataEntity'; CC.battleData"/>
				<bind name="collectionDH" value="CC.clanBattleSeason; 'clanBattleSeasonCollection'+'ROOT'"/>
				<bind name="collectionDesign" value="'DES_'+'clanBattleSeasonCollection'+'ROOT'; 'clanBattleSeasonCollection'; {'filter': battleDataEntity.battleInfo.mapId == $entity.clanBattleSeason.mapId }; []"/>
				<bind name="watch" value="'winnerClanId'; clanBattleSeasonCollection[clanBattleSeasonCollection.length-1].clanBattleSeason.winnerClanId"/>
				<bind name="instance" value="'ClanSeasonWinnersClanTag'; (clanBattleSeasonCollection.length &gt; 0) &amp;&amp; winnerClanId ? {_mapName: battleModeInfo.mapName} : null"/>
			</block>
			<block>
				<bind name="visible" value="(gameInfo.gameModeId != GameMode.TUTORIAL)"/>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<style>
					<top value="40px"/>
				</style>
				<block className="tab_bar_bg" type="native">
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<marginLeft value="-2px"/>
						<marginRight value="-2px"/>
						<height value="29px"/>
					</style>
				</block>
				<block>
					<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_0', 
												_width: '160px', 
												_selected: validTabIndex == 0, 
												_action: 'setUserPref', _actionParams: {value: 0, name: 'battleLoadingTabIndex'}, 
												_label: 'IDS_TEAM_TASKS', 
												_index: 0, 
												_tooltipIDS: 'IDS_TOOLTIP_TAB_TASKS', _isInBattle: false}"/>
				</block>
				<block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_1', 
												_width: '160px', 
												_selected: validTabIndex == 1,
												_action: 'setUserPref', _actionParams: {value: 1, name: 'battleLoadingTabIndex'}, 
												_label: 'IDS_TEAM_STRUCTURE', 
												_index: 1, 
												_tooltipIDS: 'IDS_TOOLTIP_TAB_TEAM_STRUCTURE', _isInBattle: false}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_2', 
												_width: '160px', 
												_selected: validTabIndex == 2,
												_action: 'setUserPref', _actionParams: {value: 2, name: 'battleLoadingTabIndex'}, 
												_label: 'IDS_BATTLE_TIPS', 
												_index: 2, 
												_tooltipIDS: 'IDS_TOOLTIP_BATTLE_TIPS', _isInBattle: false}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="isDynamicDivisionsEnabled"/>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_3', 
												_width: '160px', 
												_selected: validTabIndex == 3, 
												_action: 'setUserPref', _actionParams: {value: 3, name: 'battleLoadingTabIndex'}, 
												_label: 'IDS_DIVISIONS', 
												_index: 3, 
												_tooltipIDS: 'IDS_TOOLTIP_TAB_DIVISIONS', _isInBattle: false}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<top value="13sh"/>
				</style>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block>
						<style>
							<maxWidth value="1280"/>
						</style>
						<bind name="style" value="'width'; (validTabIndex == 0) ? '97sw': '810px'"/>
						<bind name="child" value="validTabIndex;
									{	_isBattleLoading: true, gameInfo: gameInfo, battleModeInfo: battleModeInfo,
										selfPlayer: selfPlayer, enemies: enemies, allies: allies, divisions: divisions,
										_isDynamicDivisionsEnabled: isDynamicDivisionsEnabled };
									'Tasks'; 'TeamBattlePage'; 'BattleTipsContent'; 'DynamicDivisions'"/>
					</block>
				</block>
				<block>
					<bind name="stageSize"/>
					<bind name="style" value="'right'; (stageWidth - 1280) / 4"/>
					<style>
						<width value="1280:210,1920:260aw"/>
						<marginRight value="-50%"/>
						<position value="absolute"/>
					</style>
					<bind name="child" value="validTabIndex; {	_selfPlayer: selfPlayer, _battleType: gameInfo.battleType,
												_isDynamicDivisionsEnabled: isDynamicDivisionsEnabled, _isVoiceChatEnabled: isVoiceChatEnabled };
											'EmptyItem'; 'TeamBattleLoadingRightPanel'; 'EmptyItem'; 'DynamicDivisionsRightPanel'"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<style>
					<height value="180px"/>
					<bottom value="40px"/>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$MiddleAligned"/>
					<style>
						<width value="72px"/>
						<height value="72px"/>
					</style>
					<block className="indicator_busy_battletype" type="native">
						<style>
							<position value="absolute"/>
						</style>
						<bind name="gotoAndStop!" value="gameInfo.gameModeId == GameMode.TUTORIAL												? 'TutorialBattle' :
										(gameInfo.gameModeId == GameMode.PVE) &amp;&amp; (operationType == 'event')		? 'PVEBattle_event' :
										gameInfo.gameModeId == GameMode.PVE														? 'PVEBattle'
																																: gameInfo.battleType"/>
					</block>
				</block>
				<block>
					<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
					<bind name="watchDH" value="'chosenOperationId'; ['']; pveStateEntity.pveState.chosenOperation"/>
					<bind name="watchDH" value="'chosenDifficulty';	['']; pveStateEntity.pveState.chosenDifficulty"/>
					<bind name="watchDH" value="'activeOperationId'; ['']; pveStateEntity.pveState.activeOperation"/>
					<bind name="watch" value="'isChosenOperationOfTheWeek'; ((chosenOperationId == activeOperationId) &amp;&amp; (chosenDifficulty == 'normal'))"/>
					<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
					<bind name="watchDH" value="'operationType';	['operationEntity.operation.evStatusChanged']; operationEntity.operation.type"/>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<bind name="name" value="'mapName'"/>
						<bind name="class" value="'$FontSizeLargeHeader'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextAccentBold"/>
						<bind name="text" value="(gameInfo.gameModeId == GameMode.PVE	? tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME') : toUpperCase(tr(battleModeInfo.mapName)))"/>
					</block>
					<block type="text">
						<bind name="name" value="'battleType'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextHeader"/>
						<style>
							<marginTop value="-6px"/>
							<alpha value="0.85"/>
						</style>
						<bind name="text" value="gameInfo.gameModeId == GameMode.PVE	?  tr('IDS_PVE_BATTLE_WITH_DOT') + ' ' + 	(isChosenOperationOfTheWeek == true				? tr('IDS_OPERATION_OF_THE_WEEK_OPERATION_TITLE') :
																												(chosenDifficulty == 'normal'	? tr('IDS_OPERATION_NORMAL_DIFFICULTY_TITLE') 
																																								: tr('IDS_OPERATION_HARD_DIFFICULTY_TITLE')))
																	:	(toUpperCase(tr('IDS_')) + gameInfo.gameMode + toUpperCase(tr('_TITLE')))"/>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="fade" value="battleModeInfo.loadingProgress &lt; 1; 0.15; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -10}; 1; 0.15"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block className="indicator_progress_bar" type="native">
							<bind name="name" value="'indicator_progress_bar'"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<marginTop value="12px"/>
							</style>
							<bind name="value" value="(battleModeInfo.loadingProgress)*10"/>
						</block>
						<block>
							<style>
								<width value="100%"/>
							</style>
							<block type="text">
								<styleClass value="$MiddleAligned"/>
								<styleClass value="$BattleLoadingDescription"/>
								<style>
									<marginTop value="12px"/>
									<maxWidth value="1100"/>
									<textAlign value="center"/>
								</style>
								<bind name="text" value="battleModeInfo.helpText"/>
								<bind name="substitute" value="'KEYS'; 5; null; battleModeInfo.helpText"/>
							</block>
						</block>
					</block>
				</block>
				<block>
					<bind name="fade" value="battleModeInfo.loadingProgress == 1; 0.15; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -10}; 1; 0.15"/>
					<styleClass value="$MiddleAligned"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="visible" value="battleModeInfo.battleState == 1"/>
							<block type="text">
								<bind name="name" value="'loadingPreBattleTimer'"/>
								<style>
									<marginTop value="6px"/>
								</style>
								<bind name="class" value="'$FontSizeLargeHeader'"/>
								<styleClass value="$TextAccentBold"/>
								<bind name="text" value="battleModeInfo.battleTimeLeftText"/>
							</block>
						</block>
						<block>
							<bind name="visible" value="battleModeInfo.readyToBattle &amp;&amp; (battleModeInfo.battleState != 0)"/>
							<style>
								<width value="150px"/>
								<marginTop value="9px"/>
							</style>
							<block className="button_default" type="native">
								<style>
									<width value="100%"/>
								</style>
								<bind name="focus" value="0; true"/>
								<bind name="name" value="'btnStartBattle'"/>
								<bind name="label" value="toUpperCase(tr('IDS_STARTTRAININGBATTLEBUTTON'))"/>
								<bind name="request" value="'buttonClick'; 'showBattle'; {}"/>
								<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STARTTRAININGBATTLEBUTTON'}; 0"/>
							</block>
						</block>
						<block>
							<bind name="visible" value="!(battleModeInfo.readyToBattle) &amp;&amp; (battleModeInfo.battleState != 0)"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<marginTop value="9px"/>
							</style>
							<block type="text">
								<styleClass value="$TextHeaderBigDefault"/>
								<text value="IDS_WAITING_PLAYERS"/>
							</block>
						</block>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$BottomMenu"/>
				<block>
					<style>
						<marginLeft value="10px"/>
						<marginTop value="4px"/>
						<width value="19px"/>
						<height value="17px"/>
					</style>
					<bind name="instance" value="'VoiceChatOutgoingIcon'; {_isSpeaking: selfPlayer.isSpeaking}"/>
				</block>
			</block>
			<block>
				<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'invitationsToDivision'; 'InvitationsToDivision'"/>
				<bind name="watch" value="'invitationBottomOffset'; 17+(stageHeight-720)/3"/>
				<bind name="style" value="'bottom'; invitationBottomOffset"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="repeat" value="InvitationsToDivision; 'BattleDivisionInvitationItem'; {_isBattleLoading: true}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ClanSeasonWinnersClanTag">
		<style>
			<width value="80px"/>
			<height value="80px"/>
			<backgroundStretchX value="true"/>
			<backgroundStretchY value="true"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'url:../achievements/icons/icon_achievement_WINNER_CLAN_SEASON_' + seasonId + '.png'"/>
		<bind name="firstEntityDH" value="'battleDataEntity'; CC.battleData"/>
		<bind name="collectionDH" value="CC.clanBattleSeason; 'clanBattleSeasonCollection'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'clanBattleSeasonCollection'+'ROOT'; 'clanBattleSeasonCollection'; {'filter': battleDataEntity.battleInfo.mapId == $entity.clanBattleSeason.mapId }; []"/>
		<bind name="watch" value="'winnerClanId'; clanBattleSeasonCollection[clanBattleSeasonCollection.length-1].clanBattleSeason.winnerClanId"/>
		<bind name="watch" value="'seasonId'; clanBattleSeasonCollection[clanBattleSeasonCollection.length-1].clanBattleSeason.id"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; winnerClanId"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; winnerClanId"/>
		<bind name="watchDH" value="'clanTag'; ['']; clanEntity.clan.tag"/>
		<bind name="tooltip" value="'ClanSeasonWinnersClanTagTooltip'; {_mapName: _mapName, seasonId: seasonId}"/>
		<block>
			<style>
				<position value="absolute"/>
				<width value="300px"/>
				<left value="93px"/>
				<top value="2px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginBottom value="8px"/>
				</style>
				<bind name="style" value="'fontSize';winnersClanTagStr[realmConstants.currentRealm].length &gt; 2 ? 24 : 24"/>
				<styleClass value="$TextDefaultBoldNM"/>
				<bind name="text" value="'[' + clanTag + ']'"/>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
					<leading value="-3"/>
					<alpha value="0.85"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="subst('IDS_CLAN_BATTLES_SEASON_WINNER', [], { mapName: tr(_mapName)})"/>
			</block>
		</block>
	</block>
	<block className="ClanSeasonWinnersClanTagTooltip">
		<style>
			<width value="330px"/>
			<hitTest value="false"/>
		</style>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="firstEntityDH" value="'battleDataEntity'; CC.battleData"/>
		<bind name="collectionDH" value="CC.clanBattleSeason; 'clanBattleSeasonCollection'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'clanBattleSeasonCollection'+'ROOT'; 'clanBattleSeasonCollection'; {'filter': battleDataEntity.battleInfo.mapId == $entity.clanBattleSeason.mapId }; []"/>
		<bind name="watch" value="'winnerClanId'; clanBattleSeasonCollection[clanBattleSeasonCollection.length-1].clanBattleSeason.winnerClanId"/>
		<bind name="watch" value="'seasonId'; clanBattleSeasonCollection[clanBattleSeasonCollection.length-1].clanBattleSeason.id"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; winnerClanId"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; winnerClanId"/>
		<bind name="watchDH" value="'clanTag'; ['']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanName'; ['']; clanExtendedEntity.clanExtended.name"/>
		<block>
			<style>
				<width value="100%"/>
				<paddingLeft value="16px"/>
				<paddingRight value="16px"/>
				<paddingTop value="16px"/>
				<paddingBottom value="16px"/>
			</style>
			<block>
				<style>
					<width value="80px"/>
					<height value="80px"/>
					<backgroundStretchX value="true"/>
					<backgroundStretchY value="true"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:../achievements/icons/icon_achievement_WINNER_CLAN_SEASON_' + seasonId + '.png'"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="6px"/>
					<marginLeft value="16px"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
						<marginBottom value="8px"/>
					</style>
					<styleClass value="$TextDefaultBold17NM"/>
					<bind name="text" value="toUpperCase('[' + clanTag + ']' + ' ' + clanName )"/>
				</block>
				<block type="text">
					<style>
						<width value="100%"/>
						<leading value="-3"/>
						<alpha value="0.85"/>
					</style>
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="subst('IDS_CLAN_BATTLES_SEASON_WINNER', [], {mapName: tr(_mapName)})"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="Tasks">
		<style>
			<width value="100%"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<bind name="appear" value="'addedToStage'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<style>
				<width value="860px"/>
				<position value="absolute"/>
			</style>
			<bind name="child" value="(gameInfo.gameModeId != null ? (gameInfo.gameModeId == GameMode.PVE	? 1
																							: 2)
												 : 0); {	_battleModeInfo: battleModeInfo,
															_gameInfo: gameInfo,
															_selfPlayer: selfPlayer };	'EmptyItem';
																						'BattleLoadingPVETasks';
																						'BattleLoadingStandartTasks'"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="4px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.54; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="instance" value="'BattleLoadingMinimap';	{	_battleModeInfo		:	battleModeInfo,
													_allies				:	allies
												}"/>
		</block>
	</block>
	<block className="BattleLoadingStandartTasks">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.4; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$TextDefaultBold23NM"/>
			<style>
				<width value="100%"/>
				<marginBottom value="12px"/>
			</style>
			<bind name="text" value="_gameInfo.gameModeId == GameMode.TUTORIAL ? tr('IDS_YOUR_GOAL') : tr('IDS_TEAM_GOALS')"/>
		</block>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.47; {alpha: 0, top: 10}; {alpha: 0.85, top: 0}"/>
			<style>
				<width value="100%"/>
				<marginBottom value="24px"/>
				<leading value="-3"/>
				<alpha value="0.85"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="text" value="_gameInfo.gameModeDescription"/>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.54; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="visible" value="	(_gameInfo.gameModeId == GameMode.AWESOME) ||
						(_gameInfo.gameModeId == GameMode.STANDARD_DOMINATION) ||
						(_gameInfo.gameModeId == GameMode.FORTS) ||
						(_gameInfo.gameModeId == GameMode.ASSAULT_DEFENSE) ||
						(_gameInfo.gameModeId == GameMode.EPICENTER)"/>
			<style>
				<width value="100%"/>
				<marginTop value="14px"/>
				<marginBottom value="24px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold23NM"/>
				<style>
					<width value="100%"/>
					<marginBottom value="12px"/>
				</style>
				<bind name="text" value="tr('IDS_CHARGING_POINTS')"/>
			</block>
			<block>
				<style>
					<marginTop value="9px"/>
				</style>
				<bind name="instance" value="'PointsCharge';  {_battleModeInfo: _battleModeInfo}"/>
			</block>
		</block>
		<bind name="firstEntityDH" value="'localWeatherEntity'; CC.localWeather"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'LocalWeatherDescription'; localWeatherEntity ? {} : null"/>
		</block>
		<block type="text">
			<bind name="visible" value="_gameInfo.battleType == BattleTypes.EVENT_BATTLE"/>
			<style>
				<width value="100%"/>
				<marginTop value="8px"/>
				<leading value="-3"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="substitute" value="'KEYS'; 6; null; tr('IDS_LOCAL_WEATHER_CHECK_PARAMS_TIP'); '_bg'"/>
		</block>
		<block>
			<bind name="visible" value="_gameInfo.gameModeId == GameMode.FORTS"/>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<marginTop value="14px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold23NM"/>
				<style>
					<width value="100%"/>
					<marginBottom value="12px"/>
				</style>
				<bind name="text" value="tr('IDS_GAMEMODE_FORTS_GOAL_TITLE')"/>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginBottom value="24px"/>
					<leading value="-3"/>
					<alpha value="0.85"/>
				</style>
				<styleClass value="$TextDefault19NM"/>
				<bind name="text" value="tr('IDS_GAMEMODE_FORTS_GOAL_DESCRIPTION')"/>
				<bind name="substitute" value="''; 5; {	'[icon_1]' : 'icon_ground_artillery_type_1_ally',
										'[icon_2]' : 'icon_ground_radar_ally',
										'[icon_3]' : 'icon_ground_artillery_type_1_enemy',
										'[icon_4]' : 'icon_ground_radar_enemy'}"/>
			</block>
		</block>
	</block>
	<block className="TeamBattlePage">
		<bind name="appear" value="_isBattleStats ? null : 'addedToStage'; 0.15; 0.15; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<bind name="primaryEntityDH" value="'allyPlayerEntity'; CC.avatar; allies[0].id"/>
			<bind name="primaryEntityDH" value="'enemyPlayerEntity'; CC.avatar; enemies[0].id"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<top value="0"/>
				<marginTop value="-140%"/>
			</style>
			<bind name="instance" value="'ClanBattleVS'; gameInfo.battleType == 'ClanBattle'	? {_allyClanId: allyPlayerEntity.clanman.clanId, _enemyClanId: enemyPlayerEntity.clanman.clanId}
																			: null"/>
		</block>
		<block>
			<bind name="stageSize"/>
			<bind name="watch" value="'teamsMaxHeight'; _isBattleStats 	? (400 + (stageHeight - 720)*0.17)
														: (380 + (stageHeight - 720)*0.8)"/>
			<bind name="style" value="'height';  teamsMaxHeight+'px'"/>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<overflow value="scroll"/>
				<width value="843px"/>
				<height value="380px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="name" value="_isBattleStats ? 'TeamBattleStatsID' : 'TeamBattleLoading'"/>
				<bind name="style" value="'marginTop'; gameInfo.alliedClub.clubName ? '50px' : '0px'"/>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="instance" value="'BlurMap'; _isBattleLoading ? {} : null"/>
				</block>
				<block className="UIlistTeamStructureLeft">
					<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
					<block className="cell_background" type="native">
						<bind name="gotoAndStop!" value="1"/>
						<style>
							<flow value="horizontal"/>
							<width value="422px"/>
						</style>
						<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<block type="text">
							<style>
								<width value="100%"/>
								<marginLeft value="18px"/>
								<marginTop value="2px"/>
								<marginBottom value="2px"/>
							</style>
							<styleClass value="$TextHeaderWhiteBold"/>
							<bind name="text" value="'IDS_ALLY_TEAM'"/>
						</block>
						<block>
							<bind name="visible" value="_isBattleStats ? true : false"/>
							<styleClass value="$TableHeaderIconSize"/>
							<block className="sorting" type="native">
								<styleClass value="$MiddleAligned"/>
								<bind name="gotoAndStop!" value="'frags'"/>
							</block>
						</block>
					</block>
					<block>
						<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<style>
							<right value="0px"/>
						</style>
						<bind name="repeat" value="allies; 'SimpleUIListTeamStructureLeft'; {_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																_selfPlayer: selfPlayer, _isDynamicDivisionsEnabled: _isDynamicDivisionsEnabled}"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="gameInfo.gameModeId != GameMode.PVE"/>
					<block className="VerticalDivider">
						<style>
							<height value="100%"/>
							<width value="3px"/>
						</style>
						<block className="divider_v" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
					<block className="UIlistTeamStructureRight">
						<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
						<block className="cell_background" type="native">
							<bind name="gotoAndStop!" value="2"/>
							<style>
								<flow value="horizontal"/>
								<width value="422px"/>
							</style>
							<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
							<block>
								<bind name="visible" value="_isBattleStats ? true : false"/>
								<styleClass value="$TableHeaderIconSize"/>
								<block className="sorting" type="native">
									<styleClass value="$MiddleAligned"/>
									<bind name="gotoAndStop!" value="'frags'"/>
								</block>
							</block>
							<block type="text">
								<style>
									<width value="100%"/>
									<textAlign value="right"/>
									<marginRight value="18px"/>
									<marginTop value="2px"/>
									<marginBottom value="2px"/>
								</style>
								<styleClass value="$TextHeaderWhiteBold"/>
								<bind name="text" value="'IDS_ENEMY_TEAM'"/>
							</block>
						</block>
						<block>
							<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
							<bind name="repeat" value="enemies; 'SimpleUIListTeamStructureRight'; {	_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																	_selfPlayer: selfPlayer}"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="BattleTipsContent">
		<params>
			<param name="name" value="BattleTipsContent"/>
		</params>
		<bind name="appear" value="_isBattleStats ? null : 'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="firstEntityDH" value="'battleHintsEntity'; CC.battleHints"/>
		<bind name="watchDH" value="'hints'; ['battleHintsEntity.battleHints.refreshData']; battleHintsEntity.battleHints.hints"/>
		<bind name="watchDH" value="'currentImageIdx'; ['battleHintsEntity.battleHints.refreshData']; battleHintsEntity.battleHints.currentImageIdx"/>
		<style>
			<marginTop value="720:0,1080:37ah"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<bind name="instance" value="'GalleryViewer';	{ 	_repeatArray		: hints,
											_autoSwitchDelay	: 14,
											_imageWidth			: 900,
											_imageHeight		: 382,
											_currentImageIdx 	: (currentImageIdx + 1)
										}"/>
	</block>
	<block className="ClanBattleVS">
		<bind name="primaryEntityDH" value="'allyClanEntity'; CC.clan; _allyClanId"/>
		<bind name="primaryEntityDH" value="'enemyClanEntity'; CC.clan; _enemyClanId"/>
		<bind name="watchDH" value="'allyClanTag'; ['clanEntity.clan.evTagChanged'];		_allyClanTag	? _allyClanTag	: allyClanEntity.clan.tag"/>
		<bind name="watchDH" value="'enemyClanTag'; ['clanEntity.clan.evTagChanged'];	_enemyClanTag 	? _enemyClanTag	: enemyClanEntity.clan.tag"/>
		<block>
			<style>
				<position value="absolute"/>
				<right value="34px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="allyClanTag"/>
			</block>
		</block>
		<block type="text">
			<style>
				<width value="40px"/>
				<alpha value="0.8"/>
				<textAlign value="center"/>
			</style>
			<styleClass value="$TextDefaultBold21NM"/>
			<bind name="text" value="'vs'"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<left value="34px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="enemyClanTag"/>
			</block>
		</block>
	</block>
	<block className="TeamBattleLoadingRightPanel">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'RightPanelInfo'; {_headerText: 'IDS_SHIPS_COMPARISON', _infoText: 'IDS_SHIP_COMPARISON_HINT'}"/>
		</block>
		<block>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="appear" value="'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<marginTop value="6px"/>
				<marginLeft value="2px"/>
				<marginTop value="20px"/>
			</style>
			<bind name="watch" value=" 'showOwnShip'; (userPrefs.showOwnShipInCompare == null) ? false : userPrefs.showOwnShipInCompare"/>
			<bind name="catch" value="'switchOwnShipInCompare'; { showOwnShip: !showOwnShip }; 'saveShowOwnShip'"/>
			<bind name="action" value="'saveShowOwnShip' ; 'setUserPref' ; {value: showOwnShip, name: 'showOwnShipInCompare'}"/>
			<bind name="dispatch" value="'click'; 'switchOwnShipInCompare'"/>
			<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: [{_paragraphText: 'IDS_SHOW_OWN_SHIP_IN_COMPARE_HINT'}],	_maxWidth: 270}"/>
			<bind name="instance" value="'CheckBox'; { switchProperty: showOwnShip, label: 'IDS_SHOW_OWN_SHIP_IN_COMPARE'}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'VoiceChatRightPanelControl'; _isVoiceChatEnabled ? {_battleType: _battleType} : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'InvitationsToDivisionRightPanelControl'; _isDynamicDivisionsEnabled ? {_selfPlayer: _selfPlayer} : null"/>
		</block>
	</block>
	<block className="DynamicDivisionsRightPanel">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'RightPanelInfo'; {_headerText: 'IDS_DIVISIONS_IN_BATTLE_HEADER', _infoText: 'IDS_DYNAMIC_DIVISIONS_INFO'}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'VoiceChatRightPanelControl'; _isVoiceChatEnabled ? {_battleType: _battleType} : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'InvitationsToDivisionRightPanelControl'; _isDynamicDivisionsEnabled ? {_selfPlayer: _selfPlayer} : null"/>
		</block>
	</block>
	<block className="VoiceChatRightPanelControl">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="appear" value="_isBattleStats ?	null : 'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
			<marginTop value="16px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: VoiceChatState.enabled, label: 'IDS_ENABLE_VOICE_CHAT', _maxTfWidth: 180}"/>
		<bind name="action" value="'click'; 'setVoiceChatEnabled'; {enabled: !(VoiceChatState.enabled)}"/>
		<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: ((_battleType == BattleTypes.CLAN_BATTLE)	? [{_paragraphText: 'IDS_ENABLE_VOICE_CHAT_IN_CLUB_BATTLE_HINT'}]
																													: [{_paragraphText: 'IDS_ENABLE_VOICE_CHAT_IN_BATTLE_HINT'}]),
													_maxWidth: 270, _isInBattle: _isBattleStats}"/>
	</block>
	<block className="InvitationsToDivisionRightPanelControl">
		<bind name="appear" value="_isBattleStats ?	null : 'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
			<marginTop value="16px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: _selfPlayer.invitationsEnabled, label: 'IDS_ENABLE_INVITATIONS_TO_DIVISION', _maxTfWidth: 180}"/>
		<bind name="action" value="'click'; 'toggleInvitationsEnabled'"/>
		<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: [{_paragraphText: 'IDS_ENABLE_INVITATIONS_TO_DIVISION_IN_BATTLE_HINT'}],
													_maxWidth: 270, _isInBattle: _isBattleStats}"/>
	</block>
	<block className="UIlistTeamStructureRight">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="2"/>
			<style>
				<flow value="horizontal"/>
				<width value="422px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block>
				<bind name="visible" value="_isBattleStats ? true : false"/>
				<styleClass value="$TableHeaderIconSize"/>
				<block className="sorting" type="native">
					<styleClass value="$MiddleAligned"/>
					<bind name="gotoAndStop!" value="'frags'"/>
				</block>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="right"/>
					<marginRight value="18px"/>
					<marginTop value="2px"/>
					<marginBottom value="2px"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="'IDS_ENEMY_TEAM'"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="repeat" value="enemies; 'SimpleUIListTeamStructureRight'; {	_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																	_selfPlayer: selfPlayer}"/>
		</block>
	</block>
	<block className="UIlistTeamStructureLeft">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="1"/>
			<style>
				<flow value="horizontal"/>
				<width value="422px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginLeft value="18px"/>
					<marginTop value="2px"/>
					<marginBottom value="2px"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="'IDS_ALLY_TEAM'"/>
			</block>
			<block>
				<bind name="visible" value="_isBattleStats ? true : false"/>
				<styleClass value="$TableHeaderIconSize"/>
				<block className="sorting" type="native">
					<styleClass value="$MiddleAligned"/>
					<bind name="gotoAndStop!" value="'frags'"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<right value="0px"/>
			</style>
			<bind name="repeat" value="allies; 'SimpleUIListTeamStructureLeft'; {_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																_selfPlayer: selfPlayer, _isDynamicDivisionsEnabled: _isDynamicDivisionsEnabled}"/>
		</block>
	</block>
	<block className="SimpleUIListTeamStructureLeft">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'playersInvitationsDataCollection'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name'; name; 'playerInvitationDataCollection'"/>
		<bind name="watch" value="'playerInvitationData'; playerInvitationDataCollection[0]"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'name'; name; 'playerInCollection'"/>
		<bind name="watch" value="'player'; playerInCollection[0]"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.avatar; id"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; clanId"/>
		<bind name="watchDH" value="'pureName'; 		[]; playerEntity.avatar.pureName"/>
		<bind name="watchDH" value="'clanId'; 		['playerEntity.clanman.evClanIdChanged']; playerEntity.clanman.clanId"/>
		<bind name="watchDH" value="'hidden'; 		[]; playerEntity.avatar.hidden"/>
		<bind name="watchDH" value="'isBot'; 		[]; playerEntity.avatar.isBot"/>
		<bind name="watchDH" value="'clanTag'; 		['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="visible" value="!(hidden)"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<bind name="watch" value="'isSelf'; (relation == 0)"/>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
			<style>
				<backgroundColor value="0x15000000"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="player.isInSameDivision"/>
			<style>
				<backgroundColor value="0x40ffdc84"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<style>
				<right value="0px"/>
			</style>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="transition" value="(mouseDown || contextMenuVisible || rollOver) &amp;&amp; !(shipCompareTooltipVisible) &amp;&amp; !(isSelf); 0.1; {alpha: 0}; {alpha: 1}"/>
				<block className="dock_submenu_item_bg" type="native">
					<bind name="transition" value="contextMenuVisible; 0.1; {alpha: 1}; {alpha: 0.7}"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<bind name="tooltip" value="'BattlePlayerTooltip'; {	_isInBattle: _isBattleStats, _isBot: isBot,
													_player: player, _selfPlayer: _selfPlayer,
													_battleType: gameInfo.battleType}"/>
				<bind name="menu" value="'UIListPlayerContextMenu'; (!(isSelf) &amp;&amp; !(isBot))	?	{	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
																					_complaintsAvailable: true, _isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats}
																			: null; null; 'contextMenuVisible'"/>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<style>
						<position value="absolute"/>
						<marginLeft value="1px"/>
						<hitTest value="false"/>
					</style>
					<bind name="instance" value="'UIListVoiceTextChatIcons'; {	_playerId: id, _selfPlayerDivisionId: _selfPlayer.divisionId,
																_isInSameDivision: isInSameDivision, _battleType: gameInfo.battleType,
																_isSpeaking: isSpeaking, _isVoiceChatMuted: isMuted, _isInVoiceChat: isInVoiceChat}"/>
				</block>
				<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'dynamicDivisionsData'; 'id'; _selfPlayer.divisionId; 'selfPlayerDivisionData'"/>
				<bind name="watch" value="'isFreePlacesInDivision'; ((selfPlayerDivisionData[0].staff.length + selfPlayerDivisionData[0].inPortParticipantsCount) &lt; 3)"/>
				<bind name="watch" value="'invitationDisableReason'; !(slimClientData.isFull)											? 'YourClientIsTooSlim' :
													isSelf																? 'YouCantInviteYourself' :
													!(isAlive)															? 'IDS_INVITATION_DISABLE_REASON_DESTROYED' :
													!(_selfPlayer.isAlive)												? 'IDS_DIVISION_MANAGEMENT_LOCKED_FOR_DESTROYED' :
													player.isLeaver														? 'IDS_INVITATION_DISABLE_REASON_PLAYER_IS_OUT_OF_BATTLE':
													(division != 0)														? 'IDS_INVITATION_DISABLE_REASON_ALREADY_IN_DIVISION' :
													(playerInvitationData != null)										? 'PlayerIsAlreadyInvited' :
													isInSameDivision													? 'PlayerIsAlreadyInYourDivision' :
													(_selfPlayer.division != 0) &amp;&amp; !(_selfPlayer.isDivisionCommander)	? 'IDS_INVITATION_DISABLE_REASON_NOT_COMMANDER' :
													!(isFreePlacesInDivision)											? 'IDS_INVITATION_DISABLE_REASON_NO_FREE_PLACES' :
													!(invitationsEnabled)												? 'IDS_INVITATION_DISABLE_REASON_INVITATIONS_DISABLED' :
													player.inviteCooldownEnabled										? 'IDS_WAIT_TIMEOUT_TO_INVITE_TO_DIVISION'
																														: 'no_reason'"/>
				<block>
					<style>
						<width value="25px"/>
						<height value="100%"/>
					</style>
					<block>
						<bind name="visible" value="(player.division &gt; 0) &amp;&amp; !(player.divisionHidden)"/>
						<style>
							<top value="6px"/>
							<marginLeft value="12px"/>
							<position value="absolute"/>
						</style>
						<block className="division_item" type="native">
							<bind name="gotoAndStop!" value="player.isInSameDivision ? player.divisionSign + 1 : player.divisionSign + 1 + 10"/>
						</block>
					</block>
					<block>
						<bind name="visible" value="_isDynamicDivisionsEnabled"/>
						<styleClass value="$Fullsize"/>
						<block>
							<bind name="visible" value="(playerInvitationData != null)"/>
							<bind name="transition" value="rollOver; 0.15; {alpha: 1}; {alpha: 0}; {alpha: 1}; 1; 0.05"/>
							<style>
								<top value="6px"/>
								<marginLeft value="8px"/>
								<position value="absolute"/>
							</style>
							<block className="formation_player_status" type="native">
								<bind name="gotoAndStop!" value="'empty_slot_division'"/>
							</block>
						</block>
						<block>
							<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1.0}; {alpha: 0}; 1; 0.05"/>
							<block>
								<bind name="visible" value="(invitationDisableReason == 'no_reason')"/>
								<style>
									<marginLeft value="4px"/>
									<top value="3px"/>
									<position value="absolute"/>
								</style>
								<block className="button_division_invite" type="native">
									<bind name="action" value="'buttonClick'; 'inviteToDivision'; {playerId: id, playerName: name, inviteType: InviteType.COMMON}"/>
								</block>
								<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_INVITE_IN_DIVISION'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
							</block>
							<block>
								<bind name="visible" value="(_selfPlayer.isDivisionCommander &amp;&amp; (playerInvitationData != null))"/>
								<style>
									<marginLeft value="2px"/>
									<top value="2px"/>
									<position value="absolute"/>
								</style>
								<block className="button_cross" type="native">
									<bind name="action" value="'buttonClick'; 'revokeInvitationToDivision'; {id: playerInvitationData.id}"/>
								</block>
								<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_RECALL_INVITATION'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
							</block>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="137px"/>
						<marginTop value="10px"/>
					</style>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats ? 1 : 0.75)"/>
					<bind name="name" value="'player_tab_name_' + name"/>
					<bind name="instance" value="'PlayerNameAndClanTag'; { 	_isSelf: isSelf, _isDead: !isAlive, _ttkStatus: ttkStatus, _tkStatus: tkStatus,
															_isInSameDivision: isInSameDivision, _playerName: pureName, _clanTag: clanTag}"/>
				</block>
				<block>
					<style>
						<height value="100%"/>
						<width value="122px"/>
						<marginBottom value="-2px"/>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="style" value="'hitTest'; _isBattleLoading ? true : false"/>
					<bind name="tooltip" value="'ShipSideCompareTooltip';	_isBattleLoading	? { _shipId: shipId, _selfPlayerShipId: _selfPlayer.shipId,
																					_nonPlayerShipParams: shipParams, _isSelf: isSelf, _nickname: name}
																				: null; TooltipBehaviour.simple; null; 'shipCompareTooltipVisible'"/>
					<bind name="name" value="'player_tab_icon_' + name"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
					<block>
						<style>
							<width value="100%"/>
							<height value="100%"/>
							<hitTest value="false"/>
						</style>
						<bind name="style" value="'backgroundImage'; !isAlive 	? ('url:' + pathDeadShipIcon)
																: isSelf ? ('url:' + pathOwnShipTinyIcon) : ('url:' + pathShipTinyIcon)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="25px"/>
					</style>
					<block type="text">
						<style>
							<marginTop value="10px"/>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
							<hitTest value="false"/>
						</style>
						<bind name="class" value="	isSelf		? '$FontColorGolden' :
									!isAlive	? '$FontColorAlmostBlack'
												: '$None'"/>
						<styleClass value="$TextDefaultNM"/>
						<bind name="class" value="isSelf ? '$Bold' : '$None'"/>
						<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
						<bind name="class" value="(!(isAlive) &amp;&amp; !(isSelf)) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="shipRlevel"/>
					</block>
				</block>
				<block>
					<style>
						<width value="90px"/>
					</style>
					<block type="text">
						<bind name="name" value="'player_tab_ship_' + name"/>
						<style>
							<width value="100%"/>
							<marginTop value="10px"/>
							<textAlign value="left"/>
							<multiline value="false"/>
							<hitTest value="false"/>
						</style>
						<bind name="class" value="	isSelf		? '$FontColorGolden' :
									!isAlive 	? '$FontColorAlmostBlack'
										 		: '$None'"/>
						<styleClass value="$TextDefaultNM"/>
						<bind name="class" value="isSelf ? '$Bold' : '$None'"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
						<bind name="class" value="(!(isAlive) &amp;&amp; !(isSelf)) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="toUpperCase(tr(shipIDS))"/>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<bind name="name" value="'player_tab_state_' + name"/>
					<style>
						<width value="22px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="visible" value="_isBattleLoading ? true : false"/>
						<style>
							<width value="100%"/>
						</style>
						<block className="icon_player_status" type="native">
							<bind name="gotoAndStop!" value="isReady ? 'ready' : 'not_ready'"/>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
						</block>
					</block>
					<block>
						<bind name="visible" value="_isBattleStats &amp;&amp; fragsCount != 0"/>
						<style>
							<width value="100%"/>
						</style>
						<block type="text">
							<styleClass value="$TextHeaderBigDefault"/>
							<style>
								<textAlign value="center"/>
								<width value="100%"/>
								<multiline value="false"/>
							</style>
							<bind name="text" value="fragsCount"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="SimpleUIListTeamStructureRight">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'name'; name; 'playerInCollection'"/>
		<bind name="watch" value="'player'; playerInCollection[0]"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.avatar; id"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; clanId"/>
		<bind name="watchDH" value="'pureName'; 		[]; playerEntity.avatar.pureName"/>
		<bind name="watchDH" value="'clanId'; 		['playerEntity.clanman.evClanIdChanged']; playerEntity.clanman.clanId"/>
		<bind name="watchDH" value="'isBot'; 		[]; playerEntity.avatar.isBot"/>
		<bind name="watchDH" value="'clanTag'; 		['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
			<style>
				<backgroundColor value="0x15000000"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="transition" value="(mouseDown || contextMenuVisible || rollOver) &amp;&amp; !(shipCompareTooltipVisible); 0.1; {alpha: 0}; {alpha: 1}"/>
			<block className="dock_submenu_item_bg" type="native">
				<bind name="transition" value="contextMenuVisible; 0.1; {alpha: 1}; {alpha: 0.7}"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<bind name="tooltip" value="'BattlePlayerTooltip'; {	_isInBattle: _isBattleStats, _isBot: isBot,
												_player: player, _selfPlayer: _selfPlayer,
												_battleType: gameInfo.battleType}"/>
			<bind name="menu" value="'UIListPlayerContextMenu';	!(isBot)	? {	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
																_complaintsAvailable: true, _isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats}
															: null; null; 'contextMenuVisible'"/>
		</block>
		<block>
			<style>
				<height value="28px"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="name" value="'player_tab_state_' + name"/>
				<style>
					<width value="22px"/>
					<hitTest value="false"/>
				</style>
				<block>
					<bind name="visible" value="_isBattleLoading ? true : false"/>
					<style>
						<width value="100%"/>
					</style>
					<block className="icon_player_status" type="native">
						<bind name="gotoAndStop!" value="isReady ? 'ready' : 'not_ready'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$MiddleVAligned"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="_isBattleStats &amp;&amp; fragsCount != 0"/>
					<style>
						<width value="100%"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeaderBigDefault"/>
						<style>
							<textAlign value="center"/>
							<width value="100%"/>
							<multiline value="false"/>
						</style>
						<bind name="text" value="fragsCount"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="90px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<style>
						<marginTop value="10px"/>
						<width value="100%"/>
						<textAlign value="right"/>
						<multiline value="false"/>
						<hitTest value="false"/>
					</style>
					<bind name="name" value="'player_tab_ship_' + name"/>
					<bind name="class" value="!isAlive ? '$FontColorAlmostBlack' : '$None'"/>
					<bind name="class" value="!isAlive ? '$FontDropShadowWhite' : '$None'"/>
					<bind name="class" value="'$LetterSpacingSmall'"/>
					<bind name="text" value="toUpperCase(tr(shipIDS))"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
			</block>
			<block>
				<style>
					<width value="25px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<style>
						<marginTop value="10px"/>
						<width value="100%"/>
						<textAlign value="center"/>
						<multiline value="false"/>
						<hitTest value="false"/>
					</style>
					<bind name="class" value="!isAlive ? '$FontColorAlmostBlack' : '$None'"/>
					<bind name="class" value="!isAlive ? '$FontDropShadowWhite' : '$None'"/>
					<bind name="text" value="shipRlevel"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
			</block>
			<block>
				<bind name="name" value="'player_tab_icon_' + name"/>
				<style>
					<height value="100%"/>
					<width value="122px"/>
					<marginBottom value="-2px"/>
					<backgroundColor value="0x01000000"/>
				</style>
				<bind name="style" value="'hitTest'; _isBattleLoading ? true : false"/>
				<bind name="tooltip" value="'ShipSideCompareTooltip';	_isBattleLoading	? { _shipId: shipId, _selfPlayerShipId: _selfPlayer.shipId,
																				_nonPlayerShipParams: shipParams, _isSelf: false, _nickname: name}
																			: null; TooltipBehaviour.simple; null; 'shipCompareTooltipVisible'"/>
				<block>
					<style>
						<width value="100%"/>
						<height value="100%"/>
						<marginLeft value="0px"/>
						<hitTest value="false"/>
					</style>
					<bind name="scaleX" value="1"/>
					<bind name="style" value="'backgroundImage'; !isAlive ? ('url:' + pathDeadShipIcon) : ('url:' + pathShipTinyIcon)"/>
				</block>
				<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
			</block>
			<block>
				<style>
					<width value="137px"/>
					<marginTop value="10px"/>
				</style>
				<bind name="style" value="'alpha'; (isReady || _isBattleStats ? 1 : 0.75)"/>
				<bind name="name" value="'player_tab_name_' + name"/>
				<block>
					<style>
						<width value="100%f"/>
						<right value="0px"/>
						<position value="absolute"/>
					</style>
					<bind name="instance" value="'PlayerNameAndClanTag'; { 	_isDead: !isAlive, _ttkStatus: ttkStatus, 
															_playerName: pureName, _clanTag: clanTag}"/>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="25px"/>
					<hitTest value="false"/>
				</style>
				<block>
					<bind name="visible" value="(division &gt; 0) &amp;&amp; !(divisionHidden)"/>
					<style>
						<marginTop value="1px"/>
					</style>
					<block className="division_item" type="native">
						<bind name="gotoAndStop!" value="isInSameDivision ? divisionSign + 1 : divisionSign + 1 + 10"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<right value="12"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'UIListVoiceTextChatIcons'; {	_playerId: id, _isInSameDivision: false,
															_isSpeaking: isSpeaking, _selfPlayerDivisionId: _selfPlayer.divisionId,
															_isVoiceChatMuted: isMuted, _isInVoiceChat: isInVoiceChat}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="BattleDivisionInvitationItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="appear" value="'addedToStage'; 0.3; 0.35; {alpha: 0}; {alpha: 1}; 2"/>
		<style>
			<marginLeft value="5px"/>
			<width value="260px"/>
			<height value="123px"/>
			<marginRight value="10px"/>
			<marginBottom value="6px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<bind name="visible" value="(_isBattleStats != true) &amp;&amp; optionData.blurEnabled"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_isBattleLoading == true) || !(optionData.blurEnabled) || optionData.contrast"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="26px"/>
				<backgroundColor value="0x01000000"/>
				<marginBottom value="4px"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="1px"/>
					<marginLeft value="1px"/>
					<marginTop value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="appear" value="'addedToStage'; 0.3; 0.3; {alpha: 0.5, width: 0}; {alpha: 1, width: 260}; 2"/>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.3; 0; {alpha: 0, top: 30}; {alpha: 1, top: 0}"/>
				<style>
					<left value="3px"/>
					<top value="-4"/>
					<position value="absolute"/>
				</style>
				<block className="icon_formation" type="native">
					<bind name="gotoAndStop!" value="'seeker_division'"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'BattlePlayerContactItemSimple'; {_level: senderLevel, _rank: senderRank, _playerName: playerName, _tkStatus: tkStatus}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="button_close" type="native">
			<bind name="appear" value="'addedToStage'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<right value="8"/>
				<top value="7"/>
				<position value="absolute"/>
			</style>
			<bind name="action" value="'buttonClick'; 'rejectDivisionInvitation'; {id: id}"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_REJECT'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.48; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<style>
					<maxWidth value="260"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="'IDS_INVITES_YOU_TO_JOIN_DIVISION'"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.51; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="-3px"/>
				<marginBottom value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader4'"/>
				<bind name="countdown" value="expirationTime; 'countdownText'; 'mm:ss'"/>
				<bind name="pureText" value="'-' + countdownText"/>
			</block>
		</block>
		<block>
			<style>
				<width value="1px"/>
			</style>
			<bind name="appear" value="'addedToStage'; 0.3; 0.3; {alpha: 0, width: 0}; {alpha: 1, width: 260}; 2"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="110px"/>
				<marginTop value="6px"/>
			</style>
			<block className="button_default_small" type="native">
				<style>
					<width value="100%"/>
				</style>
				<bind name="label" value="'IDS_ACCEPT'"/>
				<bind name="action" value="'buttonClick'; 'acceptDivisionInvitation'; {id: id}"/>
			</block>
		</block>
	</block>
	<block className="BattlePlayerContactItemSimple">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<style>
				<marginTop value="3px"/>
			</style>
			<bind name="visible" value="_rank == 0"/>
			<styleClass value="$TextSecondary"/>
			<bind name="text" value="_level"/>
		</block>
		<block>
			<bind name="visible" value="_rank != 0"/>
			<bind name="instance" value="'IconRankSmall'; {_rankId: _rank}"/>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="2px"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="_tkStatus ? '$FontColorTeamkiller' : '$None'"/>
			<bind name="text" value="_playerName"/>
		</block>
	</block>
	<block className="BattlePlayerTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name'; _player.name; 'playerInvitationDataCollection'"/>
		<bind name="watch" value="'playerInvitationData'; playerInvitationDataCollection[0]"/>
		<bind name="primaryEntityDH" value="'entityAccountBattle'; CC.avatar; _player.id"/>
		<bind name="watchDH" value="'entityAccountBattleDbId'; [];  entityAccountBattle.accountSimple.dbId"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; _playerDbId ? _playerDbId : entityAccountBattleDbId"/>
		<bind name="watchDH" value="'isSelf';		[]; playerEntity.accountSimple.isSelfPlayer"/>
		<bind name="watchDH" value="'relation'; 	['playerEntity.relation.evChanged']; playerEntity.relation.value"/>
		<bind name="watchDH" value="'playerEntityDbId'; [];  playerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'ttkStatus'; 			['playerEntity.avatar.evTTKStatusChanged']; playerEntity.avatar.ttkStatus"/>
		<bind name="watchDH" value="'tkStatus'; 			['playerEntity.avatar.evTeamkillStatusChanged']; playerEntity.avatar.tkStatus"/>
		<bind name="watch" value="'isEnemyPlayer';	(relation == 2)"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="320px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; { _isInBattle: _isInBattle }"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<flow value="horizontal"/>
			</style>
			<block>
				<style>
					<marginTop value="9px"/>
					<marginBottom value="9px"/>
					<marginLeft value="9px"/>
					<marginRight value="9px"/>
				</style>
				<bind name="instance" value="'PlayerDogTag'; { _playerDbId: _playerDbId ? _playerDbId : playerEntityDbId, _size: 'small'}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="8px"/>
				</style>
				<bind name="instance" value="'PlayerStereotype'; {	_player: _player,
													_playerDbId: playerEntityDbId,
													_noClanTagColor: !_isInPostBattle,
													_noRank: !_isInPostBattle,
													_noLevel: true,
													_isBot: _isBot,
													_tkStatus: tkStatus,
													_ttkStatus: ttkStatus}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_player.isInSameDivision == true"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="4px"/>
					<marginBottom value="-4px"/>
					<marginLeft value="5px"/>
					<marginRight value="5px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: false, isCommander: _player.isDivisionCommander, isReady: true,
														isInBattle: false, _formationType: 'division'}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorGolden'"/>
					<bind name="watch" value="'playerRoleStr'; 	_player.isDivisionCommander	? tr('IDS_DIVISION_COMMANDER_C')
																			: tr('IDS_IN_DIVISION')"/>
					<bind name="text" value="playerRoleStr"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'BattlePlayerInfoTooltipVoiceChatStatus';	(!(isEnemyPlayer) &amp;&amp;
																	(_player.isInSameDivision || (_battleType == BattleTypes.CLAN_BATTLE)))	? { _isSelf: isSelf,
																																				_player: _player}
																																			: null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'PlayerTooltipInvitationCountdown'; playerInvitationData.expirationTime != null	? { _expirationTime: playerInvitationData.expirationTime,
																											_formationType: 'division',
																											_text: 'IDS_INVITED_IN_DIVISION'}
																										: null"/>
		</block>
		<block>
			<bind name="visible" value="!(isSelf) &amp;&amp; !(_isBot)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; {_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU', _maxWidth: 220}"/>
			</block>
		</block>
	</block>
	<block className="BattlePlayerInfoTooltipVoiceChatStatus">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="watch" value="'voiceChatStatusText';	_isSelf						?	VoiceChatState.enabled	? 	'IDS_VOICE_CHAT_ENABLED'
																								:	'IDS_VOICE_CHAT_DISABLED' :
										!(_player.isInVoiceChat)	?	'IDS_PLAYER_IS_NOT_AVAILABLE_IN_VOICE_CHAT'	:
										_player.isMuted				?	'IDS_PLAYER_IS_MUTED_IN_VOICE_CHAT'
																	:	'IDS_PLAYER_IS_AVAILABLE_IN_VOICE_CHAT'"/>
		<bind name="watch" value="'state';	_isSelf 					? !(VoiceChatState.enabled)	? 'disabled'
																					: 'speak' :
							!(_player.isInVoiceChat) 	? 'disabled' :
							_player.isMuted				? 'muted'
														: 'speak'"/>
		<bind name="visible" value="(_isSelf || VoiceChatState.enabled)"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="10px"/>
				<marginRight value="8px"/>
				<marginTop value="4px"/>
				<marginBottom value="5px"/>
			</style>
			<block className="icon_voice_chat_small" type="native">
				<style>
					<top value="6px"/>
					<marginRight value="4px"/>
				</style>
				<bind name="gotoAndStop!" value="state"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="(state == 'speak' ? '$FontColorWhite' : '$FontColorUnready')"/>
				<style>
					<maxWidth value="210"/>
				</style>
				<bind name="text" value="voiceChatStatusText"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PlayerTooltipInvitationCooldown">
		<bind name="countdown" value="_expirationTime; 'countdownText'; 'mm:ss'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginLeft value="7px"/>
				<marginRight value="4px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="6px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: _formationType}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
						<maxWidth value="158"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="_text"/>
				</block>
				<block type="text">
					<style>
						<top value="-4px"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<styleClass value="$AlignRight"/>
					<bind name="class" value="'$FontSizeHeader6'"/>
					<bind name="pureText" value="'-' + countdownText"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PlayerContactItemWithRollover">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="firstEntityDH" value="'dockStateEntity'; CC.dockState"/>
		<bind name="watchDH" value="'dockStateName'; ['dockStateEntity.dockState.evUpdate']; dockStateEntity.dockState.stateName"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
		<bind name="entityDH" value="'entityAccount'; _entityAccountId"/>
		<bind name="watchDH" value="'accountOnline'; ['entityAccount.accountStatus.evOnlineChanged']; entityAccount.accountStatus.online"/>
		<bind name="watchDH" value="'accountLevel'; ['entityAccount.accountLevel.evLevelChanged']; entityAccount.accountLevel.level"/>
		<bind name="watchDH" value="'groupIdsOfAccount'; ['entityAccount.elementInGroups.evGroupsChanged']; entityAccount.elementInGroups.groupIds"/>
		<bind name="watchDH" value="'isIgnored';['entityAccount.contact.evIsIgnoredChanged']; !!entityAccount.contact.isIgnored"/>
		<bind name="watchDH" value="'dogTagList';['entityAccount.dogTagView.evUpdate']; entityAccount.dogTagView.components"/>
		<bind name="collectionDH" value="CC.dogTagComponent; 'dogtagview'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'dogtagview'+'ROOT'; 'dogtagview'; {'filter':(dogTagList.indexOf(toLowerCase($entity.dogTagComponent.id)) &gt; -1), 'sort':['dogTagComponent.categoryId']}; []"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInDivision'; 'pureName'; entityAccount.accountName.name; 'playerInDivision'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name'; entityAccount.accountName.name; 'playerInvitedToDivision'"/>
		<bind name="watch" value="'isInDivision'; (playerInDivision.length == 0) ? false : true"/>
		<bind name="watchDH" value="'isSelf'; []; entityAccount.accountSimple.isSelfPlayer"/>
		<bind name="watchDH" value="'isSuspended'; ['entityAccount.accountSimple.evSuspendedChanged']; entityAccount.accountSimple.suspended"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="levelToFeature" value="accountLevel; 19; 'clubBattleFeatureUnLocked'"/>
		<bind name="watch" value="'isInYourParty'; ((divisionEntranceData.divisionType == 'party') &amp;&amp; (playerInDivision.length &gt; 0)) ? true : false"/>
		<bind name="watch" value="'isInvitedToYourParty'; ((divisionEntranceData.divisionType == 'party') &amp;&amp; (playerInvitedToDivision.length &gt; 0)) ? true : false"/>
		<bind name="contains" value="clubMembers; $item == _entityAccountId; 'isClubMember'; false; [_entityAccountId]"/>
		<bind name="collectionDH" value="CC.club; 'playersClubs'"/>
		<bind name="collectionDH" value="CC.clubsCommon; 'clubsCommonCollection'"/>
		<bind name="entityDH" value="'clubsCommonEntity'; clubsCommonCollection[0].id"/>
		<bind name="watchDH" value="'clubsVoted'; ['clubsCommonEntity.clubsCommon.evClubsVotedChanged']; clubsCommonEntity.clubsCommon.clubsVoted"/>
		<bind name="watch" value="'isVoteInCurClub';	(clubsVoted[0] == entityClub.club.id) ||
									(clubsVoted[1] == entityClub.club.id) ||
									(clubsVoted[2] == entityClub.club.id) ? true : false"/>
		<bind name="watch" value="'actionDenyReason';	(_playerContext.type == 'inviteToDivision') ?	!(accountOnline)				? 'IDS_INVITE_TO_DIVISION_ACTION_DENY_REASON_OFFLINE' :
																						isInvitedToDivision 			? 'IDS_INVITE_TO_DIVISION_ACTION_DENY_REASON_ALREADY_INVITED'
																														: 'no_reason' :
										(_playerContext.type == 'inviteToParty')	?	!(clubBattleFeatureUnLocked)	? 'IDS_INVITE_TO_PARTY_ACTION_DENY_REASON_LOW_LEVEL' :
																						!(accountOnline)				? 'IDS_INVITE_TO_PARTY_ACTION_DENY_REASON_OFFLINE' :
																						isInvitedToYourParty			? 'IDS_INVITE_TO_PARTY_ACTION_DENY_REASON_ALREADY_INVITED' :
																						isInYourParty					? 'IDS_INVITE_TO_PARTY_ACTION_DENY_REASON_ALREADY_IN_PARTY'
																														: 'no_reason'
																					: 'no_reason'"/>
		<bind name="collectionDH" value="CC.club; 'clubs'"/>
		<bind name="watch" value="'isSelfPlayerWardog';  (divisionData.creatorInfo.clubId != null )	? (	(clubs[0].club.id == divisionData.creatorInfo.clubId)	? false :
																						(clubs[1].club.id == divisionData.creatorInfo.clubId)	? false :
																						(clubs[2].club.id == divisionData.creatorInfo.clubId)	? false
																																				: true)
																					: false"/>
		<bind name="watch" value="'isWardog'; (isInYourParty &amp;&amp; !(isClubMember) &amp;&amp; !(isSelfPlayerWardog)) || (isSelf &amp;&amp; isSelfPlayerWardog)"/>
		<style>
			<width value="100%"/>
			<height value="30px"/>
		</style>
		<bind name="style" value="'alpha'; accountOnline ? 1 : 0.5"/>
		<block>
			<bind name="visible" value="isSelf"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginTop value="-1px"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<bind name="gotoAndStop!" value="'down'"/>
			</block>
		</block>
		<block className="dock_submenu_item_bg" type="native">
			<bind name="transition" value="(mouseDown &amp;&amp; !isSelf); 0.03; {alpha: 1}; {alpha: 0.7}"/>
			<bind name="transition" value="(rollOver || contactContextMenuVisible); 0.15; {alpha: 0}; {alpha: 1.0}"/>
			<bind name="style" value="'hitTest'; !(isSuspended) || ((isSuspended) &amp;&amp; (groupIdsOfAccount != null))"/>
			<styleClass value="$PxHorizontalCorrection"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="menu" value="'ContactContextMenu';	!(isSelf)	? {	_entityAccountId: _entityAccountId, _currentGroupId: _currentGroupId, _actionDenyReason: actionDenyReason,
															_playerContext: _playerContext, _inviteType: InviteType.COMMON, _isWardog: isWardog }
														: null; null; 'contactContextMenuVisible'"/>
			<bind name="tooltip" value="'ContactInfoTooltip'; !(isSuspended) ? {_entityAccountId: _entityAccountId, _playerContext: _playerContext, _actionDenyReason: actionDenyReason, _isWardog: isWardog, _dogTagView: dogtagview} : null"/>
			<bind name="clickSplit"/>
			<bind name="watch" value="'isActionEnabled'; (	!(isSelf) &amp;&amp; 
											(actionDenyReason == 'no_reason') &amp;&amp; 
											!(isSuspended)
										)"/>
			<bind name="var" value="{showBusyIndicator: false, isInvitationSent: false}"/>
			<bind name="catch" value="'evPlayerInvitationToClub'"/>
			<bind name="catch" value="'evPlayerInvitationToClubRevoked'"/>
			<bind name="dispatch" value="'left_click';	((_playerContext.type == 'inviteToClub') &amp;&amp; (actionDenyReason == 'no_reason')) ? 'evPlayerInvitationToClub' : null; {showBusyIndicator: true} "/>
			<bind name="entityDH" value="'entityClub'; _playerContext.clubEntityId"/>
			<bind name="watchDH" value="'invitedPlayers'; ['entityClub.club.evInvitedClubmansChanged']; entityClub.club.invitedClubmans"/>
			<bind name="contains" value="invitedPlayers; ($item.accountEntityId == entityAccount.id); 'isInvitationSent'"/>
			<bind name="changeDispatch" value="isInvitationSent; 'evPlayerInvitationToClub'; {showBusyIndicator: false}"/>
			<bind name="watchDH" value="'clubMembers'; ['entityClub.club.evMembersChanged']; entityClub.club.members"/>
			<bind name="watch" value="'isInvitedToDivision'; entityAccount.playerInvitedToPrebattleInfo != null"/>
			<bind name="action" value="'left_click';	(isActionEnabled == false)						? '' :
									(_playerContext.type == 'startPrivateChat')		? 'openChannelForPrivateMessages' :
									(_playerContext.type == 'inviteToChannel')		? 'sendChannelInvite' :
									(_playerContext.type == 'inviteToClub')			? 'inviteUserToClub' :
									(_playerContext.type == 'inviteToParty')		? 'inviteToDivision' :
									(_playerContext.type == 'inviteToPartyFromClubMembersList')	? 'inviteToDivision' :
									(_playerContext.type == 'inviteToDivision')		? 'inviteToDivision' :
									(_playerContext.type == 'inviteToTrainingRoom')	? 'TrainingRoomProxy.sendInvite' :
									(_playerContext.type == 'clubMembersList')		? 'openChannelForPrivateMessages' :
									(_playerContext.type == 'contactsClubMembers')	? 'openChannelForPrivateMessages' :
									(_playerContext.type == 'invitedToClubPlayers')	? 'openChannelForPrivateMessages' :
									(_playerContext.type == 'channelParticipants')	? 'openChannelForPrivateMessages'
																					: '';
									(isActionEnabled == false)						? {} :
									(_playerContext.type == 'startPrivateChat')		? {dbId: entityAccount.accountSimple.dbId} :
									(_playerContext.type == 'inviteToChannel')		? {channelId: _playerContext.channelId, inviteDbId: entityAccount.accountSimple.dbId} :
									(_playerContext.type == 'inviteToClub')			? {clubId: _playerContext.clubId, playerName: entityAccount.accountName.name, userId: entityAccount.accountSimple.dbId} :
									(_playerContext.type == 'inviteToParty')		? {playerId: entityAccount.accountSimple.dbId, playerName: entityAccount.accountName.name, inviteType: InviteType.COMMON} :
									(_playerContext.type == 'inviteToPartyFromClubMembersList')	? {playerId: entityAccount.accountSimple.dbId, playerName: entityAccount.accountName.name, inviteType: InviteType.COMMON} :
									(_playerContext.type == 'inviteToDivision')		? {playerId: entityAccount.accountSimple.dbId, playerName: entityAccount.accountName.name, inviteType: InviteType.COMMON} :
									(_playerContext.type == 'inviteToTrainingRoom')	? {newAccDBID: entityAccount.accountSimple.dbId, teamId: _teamId} :
									(_playerContext.type == 'clubMembersList')		? {dbId: entityAccount.accountSimple.dbId} :
									(_playerContext.type == 'contactsClubMembers')	? {dbId: entityAccount.accountSimple.dbId} :
									(_playerContext.type == 'invitedToClubPlayers')	? {dbId: entityAccount.accountSimple.dbId} :
									(_playerContext.type == 'channelParticipants')	? {dbId: entityAccount.accountSimple.dbId}
																					: {}"/>
			<block>
				<bind name="transition" value="(mouseDown &amp;&amp; !isSelf); 0.03; {alpha: 1}; {alpha: 0.7}"/>
				<styleClass value="$Fullsize"/>
				<bind name="style" value="'marginLeft'; _isShort ? '2px'
												: _isClubMembersList	? '6px'
																		: '16px'"/>
				<block>
					<styleClass value="$Fullsize"/>
					<bind name="instance" value="'PlayerContactItem'; {_entityAccountId: _entityAccountId, _playerContext: _playerContext, _isShort: _isShort, _isWardog: isWardog, _nickNameWidth: _nickNameWidth}"/>
				</block>
				<block>
					<styleClass value="$AlignRight"/>
					<block>
						<bind name="visible" value="	!(isSelf) &amp;&amp;
									(_playerContext.type != 'invitedToClubPlayers')"/>
						<style>
							<marginTop value="4px"/>
						</style>
						<bind name="style" value="'marginRight'; (_isShort || isLeaderMarkerVisible) ? '6px' : '10px'"/>
						<bind name="transition" value="rollOver; 0.3; {alpha: 0}; {alpha: 1.0}; {alpha: 0}; 1; 0.07"/>
						<bind name="watch" value="'isAddToContactsBtnVisible';	(_playerContext.type != 'clubMembersList') &amp;&amp;
																(groupIdsOfAccount==null) &amp;&amp;
																!(isIgnored) &amp;&amp;
																!(isSuspended)"/>
						<block>
							<style>
								<marginTop value="1px"/>
								<marginRight value="3px"/>
							</style>
							<bind name="instance" value="'BusyIndicator'; showBusyIndicator ? { _showBusyIndicator: showBusyIndicator } : null"/>
						</block>
						<block>
							<bind name="visible" value="isAddToContactsBtnVisible"/>
							<style>
								<marginRight value="4px"/>
							</style>
							<block className="button_add_contact" type="native"/>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_ADD_TO_CONTACTS'}"/>
							<bind name="action" value="'click'; 'addContact'; {dbId: entityAccount.accountSimple.dbId}"/>
						</block>
						<style>
							<marginRight value="4px"/>
						</style>
						<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInDivision'; 'playersInDivision'"/>
						<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'playersInvitedToDivision'"/>
						<bind name="watch" value="'isInTrainingRoom'; trainingRoomEntity != null"/>
						<bind name="watch" value="'freePlaces'; (divisionData.maxPlayersInDivision - playersInDivision.length - playersInvitedToDivision.length)"/>
						<bind name="watch" value="'isSelfInParty'; ((divisionEntranceData.divisionType == 'party') &amp;&amp; (divisionData.divisionExist)) ? true : false"/>
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
						<bind name="watch" value="'isInviteToDivisionBtnVisible'; (	slimClientData.isFull &amp;&amp;
																	(freePlaces &gt; 0) &amp;&amp;
																	accountOnline &amp;&amp;
																	!(_isShort) &amp;&amp;
																	!(isInDivision) &amp;&amp;
																	(dockStateName != 'balancer') &amp;&amp;
																	(_playerContext.type != 'clubMembersList') &amp;&amp;
																	(_playerContext.type != 'inviteToClub') &amp;&amp;
																	(_playerContext.type != 'inviteToTrainingRoom') &amp;&amp;
																	(_playerContext.type != 'contactsClubMembers') &amp;&amp;
																	(_playerContext.type != 'inviteToPartyFromClubMembersList') &amp;&amp;
																	!(isSelfInParty) &amp;&amp;
																	!(isInTrainingRoom) &amp;&amp;
																	!(isSuspended) )"/>
						<block>
							<bind name="visible" value="isInviteToDivisionBtnVisible"/>
							<style>
								<marginRight value="4px"/>
							</style>
							<block className="button_division_invite" type="native">
								<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name'; entityAccount.accountName.name; 'sentInvitationData'"/>
								<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'invitationsToDivision'; 'playerName'; entityAccount.accountName.name; 'receivedInvitationData'"/>
								<bind name="enabled" value="(sentInvitationData.length == 0) &amp;&amp; (receivedInvitationData.length == 0) &amp;&amp; !isInvitedToDivision"/>
								<bind name="action" value="'buttonClick'; 'inviteToDivision'; {playerId: entityAccount.accountSimple.dbId, playerName: entityAccount.accountName.name, inviteType: InviteType.COMMON}"/>
							</block>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: isInvitedToDivision ? 'IDS_INVITED_IN_DIVISION_ALREADY' : 'IDS_INVITE_IN_DIVISION'}"/>
						</block>
						<block>
							<bind name="visible" value="!(isSuspended)"/>
							<block className="button_chat_small" type="native"/>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_SEND_MESSAGE'}"/>
							<bind name="action" value="'click'; 'openChannelForPrivateMessages'; {dbId: entityAccount.accountSimple.dbId}"/>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
					<block>
						<bind name="watch" value="'isLeaderMarkerVisible';	((_playerContext.type == 'clubMembersList')
															|| (_playerContext.type == 'contactsClubMembers')
															|| (_playerContext.type == 'inviteToPartyFromClubMembersList')
															|| (_playerContext.type == 'channelParticipants' &amp;&amp; _playerContext.channelTypeIdent == 'club')) &amp;&amp;
															(entityAccount.accountSimple.dbId == _playerContext.clubLeaderDbId)"/>
						<block>
							<bind name="visible" value="isLeaderMarkerVisible"/>
							<style>
								<marginLeft value="-1px"/>
								<marginRight value="5px"/>
								<marginTop value="7px"/>
							</style>
							<block className="icon_club_leader" type="native"/>
							<bind name="tooltip" value="'MouseInstructionTooltip'; {	_multiParagraphArray: isSelf 	?	[{_paragraphText: 'IDS_YOU_ARE_CLUB_LEADER'},
																										{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_0'},
																										{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_1'},
																										{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_2'}]
																									: 	[{_paragraphText: 'IDS_CLUB_LEADER_HINT'},
																										{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_0'},
																										{_paragraphText: 'IDS_CLUB_LEADER_DESCRIPTION_1'}],
																			_marginBottom: '4px'}"/>
						</block>
						<bind name="watch" value="'isRevokeInvitationBtnVisible'; 	(_playerContext.type == 'invitedToClubPlayers') &amp;&amp;
																	(_playerContext.invatorDbId == selfPlayerDbId) &amp;&amp;
																	rollOver"/>
						<block>
							<bind name="visible" value="isRevokeInvitationBtnVisible"/>
							<bind name="dispatch" value="'buttonClick'; _playerContext.type == 'invitedToClubPlayers' ? 'evPlayerInvitationToClubRevoked' : null; {showBusyIndicator: true} "/>
							<block>
								<bind name="visible" value="!showBusyIndicator"/>
								<style>
									<marginTop value="3px"/>
									<marginRight value="7px"/>
								</style>
								<block className="button_cross" type="native">
									<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_RECALL_INVITATION'}"/>
									<bind name="action" value="'buttonClick'; 'cancelClubInvitation'; {clubId: _playerContext.clubId, userId: entityAccount.accountSimple.dbId}"/>
								</block>
							</block>
							<block>
								<bind name="fade" value="showBusyIndicator; 0.15; {alpha: 0}; {alpha: 1}"/>
								<style>
									<marginTop value="4px"/>
									<marginRight value="4px"/>
								</style>
								<bind name="instance" value="'BusyIndicator'; showBusyIndicator ? { _showBusyIndicator: showBusyIndicator } : null"/>
							</block>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ContactInfoTooltipAccountHeader">
		<bind name="entityDH" value="'playerEntity'; _entityAccountId"/>
		<bind name="watchDH" value="'playerEntityDbId'; [];  playerEntity.accountSimple.dbId"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="dock_submenu_item" type="native">
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<flow value="horizontal"/>
				</style>
				<block>
					<style>
						<width value="80px"/>
						<height value="80px"/>
						<marginTop value="4px"/>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'PlayerDogTag'; {_playerDbId: playerEntityDbId, _size: 'small'}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginRight value="8px"/>
					</style>
					<bind name="child" value="_isBot ? 1 : 0; {_playerDbId: playerEntityDbId, _entityAccountId: _entityAccountId}; 'PlayerStereotype'; 'BotStereotype'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="BotStereotype">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="watchDH" value="'isBotsAIEnabled'; ['trainingRoomEntity.trainingRoom.evUpdate']; trainingRoomEntity.trainingRoom.isBotsAIEnabled"/>
		<bind name="entityDH" value="'entityAccount'; _entityAccountId"/>
		<bind name="watchDH" value="'nickName'; ['entityAccount.accountName.evChanged']; entityAccount.accountName.nickName"/>
		<bind name="watchDH" value="'AILevel'; ['entityAccount.bot.evUpdate']; entityAccount.bot.AILevel"/>
		<bind name="watchDH" value="'canShoot'; ['entityAccount.bot.evUpdate']; entityAccount.bot.canShoot"/>
		<bind name="watchDH" value="'canMove'; ['entityAccount.bot.evUpdate']; entityAccount.bot.canMove"/>
		<bind name="watch" value="'canShootStr'; canShoot	? 'IDS_BOT_CAN_SHOOT_STATUS'
											: 'IDS_BOT_CAN_NOT_SHOOT_STATUS'"/>
		<bind name="watch" value="'canMoveStr';	canMove		? 'IDS_BOT_CAN_MOVE_STATUS'
											: 'IDS_BOT_CAN_NOT_MOVE_STATUS'"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<marginRight value="8px"/>
				<marginTop value="10px"/>
				<marginBottom value="6px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextHeaderWhite"/>
				<bind name="text" value="nickName"/>
				<bind name="class" value="'$Bold'"/>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginTop value="-3px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="!isBotsAIEnabled 	? 'IDS_DISABLED_AI_BOT_STATUS' :
						AILevel &gt; 9 		? 'IDS_HARD_LEVEL_BOT_STATUS' :
						AILevel &gt; 5 		? 'IDS_MEDIUM_LEVEL_BOT_STATUS'
											: 'IDS_LOW_LEVEL_BOT_STATUS'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isBotsAIEnabled"/>
			<style>
				<width value="100%"/>
				<marginRight value="8px"/>
				<marginBottom value="6px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="tr(canShootStr) + ' ' + tr(canMoveStr)"/>
			</block>
		</block>
	</block>
	<block className="PlayerContactItem">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInDivision'; 'pureName'; pureName; 'playerInDivision'"/>
		<bind name="entityDH" value="'entityAccount'; _entityAccountId"/>
		<bind name="watchDH" value="'nickName'; 			['entityAccount.accountName.evChanged']; entityAccount.accountName.nickName"/>
		<bind name="watchDH" value="'pureName'; 			['entityAccount.accountName.evChanged']; entityAccount.accountName.name"/>
		<bind name="watchDH" value="'clubsMembership'; 	['entityAccount.clubman.evClubsMembershipChanged']; entityAccount.clubman.clubsMembership"/>
		<bind name="watchDH" value="'accountOnline'; 	['entityAccount.accountStatus.evOnlineChanged']; entityAccount.accountStatus.online"/>
		<bind name="watchDH" value="'inBattle'; 			['entityAccount.accountStatus.evInBattleChanged']; entityAccount.accountStatus.inBattle"/>
		<bind name="watchDH" value="'accountLevel'; 		['entityAccount.accountLevel.evLevelChanged']; entityAccount.accountLevel.level"/>
		<bind name="watchDH" value="'rank'; 				['entityAccount.accountRank.evRankChanged']; entityAccount.accountRank.rank"/>
		<bind name="watchDH" value="'clanId'; 			['entityAccount.clanman.evClanIdChanged']; entityAccount.clanman.clanId"/>
		<bind name="watchDH" value="'isSelf'; 			[]; entityAccount.accountSimple.isSelfPlayer"/>
		<bind name="entityDH" value="'entityClub'; _playerContext.clubEntityId"/>
		<bind name="watchDH" value="'isSelfPlayerCurPartyMember';['entityClub.party.evUpdate']; entityClub.party.isMember"/>
		<bind name="watchDH" value="'playerPrebattleClubId'; 	['entityAccount.prebattlePlayer.evClubIdChanged']; entityAccount.prebattlePlayer.clubId"/>
		<bind name="watchDH" value="'isPartyReady'; 				['entityAccount.prebattlePlayer.evStateChanged']; entityAccount.prebattlePlayer.isReady"/>
		<bind name="watchDH" value="'isPartyCommander'; 			['entityAccount.prebattlePlayer.evIsCommanderChanged']; entityAccount.prebattlePlayer.isCommander"/>
		<bind name="watchDH" value="'inPartyBattle'; 			['entityAccount.prebattlePlayer.evIsInBattleChanged']; entityAccount.prebattlePlayer.isInBattle"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; clanId"/>
		<bind name="watchDH" value="'clanTag'; 	['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'color'; 	['clanExtendedEntity.clanExtended.evColorChanged']; clanExtendedEntity.clanExtended.color"/>
		<bind name="watchDH" value="'league'; 	['clanExtendedEntity.clanExtended.evLeagueChanged']; clanExtendedEntity.clanExtended.league"/>
		<bind name="watch" value="'clanTagColor'; ('0xff' + color)"/>
		<bind name="watch" value="'isPlayerInParty'; (entityAccount.prebattlePlayer &amp;&amp; (playerPrebattleClubId != -1))"/>
		<bind name="watch" value="'isInCurClubChannelParty'; (_playerContext.type == 'channelParticipants')			&amp;&amp;
											(_playerContext.channelTypeIdent == 'club')				&amp;&amp;
											(entityClub.club.id == playerPrebattleClubId)			&amp;&amp;
											(isSelfPlayerCurPartyMember)			? true
																					: false"/>
		<bind name="watch" value="'isInDivision'; ((divisionEntranceData.divisionType == 'division') &amp;&amp; (playerInDivision.length &gt; 0)) ? true : false"/>
		<bind name="watch" value="'isInParty'; ((divisionEntranceData.divisionType == 'party') &amp;&amp; (playerInDivision.length &gt; 0)) ? true : false"/>
		<bind name="watch" value="'isInFormation'; (playerInDivision.length &gt; 0)"/>
		<bind name="watch" value="'isReady'; isPlayerInParty				? isPartyReady :
							playerInDivision[0].isReady ? true
														: false"/>
		<bind name="watch" value="'isCommander'; isPlayerInParty					? isPartyCommander : 
								playerInDivision[0].isCommander	? true
																: false"/>
		<bind name="watch" value="'isInFormationBattle'; (isPlayerInParty || isInDivision || isInParty) &amp;&amp;
										(playerInDivision[0].isInBattle || inPartyBattle || inBattle)	? true
																										: false"/>
		<bind name="watchDH" value="'invitedPartyClubmans'; ['entityClub.party.evUpdate']; entityClub.party.invitedClubmans"/>
		<bind name="watch" value="'isInvitedToDivision'; entityAccount.playerInvitedToPrebattleInfo != null"/>
		<bind name="watchDH" value="'inviteExpirationTime'; ['entityAccount.playerInvitedToPrebattleInfo.evChanged']; entityAccount.playerInvitedToPrebattleInfo.expirationTime"/>
		<bind name="var" value="{wantedInDivision: false}"/>
		<bind name="style" value="'alpha'; _isOfflineAlpha	? accountOnline ? 1
															: 0.5
											: 1"/>
		<block>
			<style>
				<hitTest value="false"/>
			</style>
			<block>
				<bind name="visible" value="(!(accountOnline) || (inBattle &amp;&amp; !(isInFormationBattle)) || wantedInDivision || (_playerContext.type == 'invitedToClubPlayers'))"/>
				<style>
					<marginLeft value="3px"/>
					<marginTop value="5px"/>
				</style>
				<bind name="var" value="{isClubMemberLongOffline: false}"/>
				<bind name="instance" value="'CalcLongOffline'; (!(accountOnline) &amp;&amp; (_playerContext.type == 'clubMembersList') &amp;&amp; (entityAccount.accountSimple.dbId != _playerContext.clubLeaderDbId)) ? {_entityAccountId: _entityAccountId} : ''"/>
				<bind name="catch" value="'isClubMemberLongOfflineChanged'"/>
				<bind name="changeDispatch" value="accountOnline; 'isClubMemberLongOfflineChanged'; {isClubMemberLongOffline: false}"/>
				<block className="icon_player_status" type="native">
					<bind name="gotoAndStop!" value="isClubMemberLongOffline							? 'long_offline' :
									(_playerContext.type == 'invitedToClubPlayers')	? 'invited' :
									wantedInDivision								? 'wanted_in_division' :
									inBattle										? 'in_battle'
																					: 'not_ready'"/>
				</block>
			</block>
			<block>
				<bind name="visible" value="isInDivision || (isInvitedToDivision &amp;&amp; !(isSelf)) ? true : false"/>
				<style>
					<marginLeft value="10px"/>
				</style>
				<block>
					<style>
						<position value="absolute"/>
						<marginTop value="9px"/>
						<marginLeft value="-12px"/>
					</style>
					<bind name="instance" value="'VoiceChatDockIcon'; (accountOnline &amp;&amp; isInFormation)	? {_playerName: pureName, _isSelf: isSelf}
																						: null"/>
				</block>
				<block>
					<style>
						<marginTop value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon';	{_isEmptySlot: isInvitedToDivision, isCommander: isCommander, isReady: isReady, isInBattle: isInFormationBattle,
																			_formationType: divisionEntranceData.divisionType, _isWardog: _isWardog} "/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="(!(_isShort || isInDivision || (accountLevel &lt;= 0)))"/>
				<block>
					<style>
						<marginTop value="2px"/>
					</style>
					<bind name="visible" value="rank != 0"/>
					<bind name="instance" value="'IconRankSmall'; {_rankId: rank}"/>
				</block>
				<block>
					<bind name="visible" value="rank == 0"/>
					<block type="text">
						<bind name="name" value="'playerContactLevel_' + nickName"/>
						<styleClass value="$TextSmallWhite"/>
						<style>
							<marginLeft value="4px"/>
							<marginTop value="6px"/>
						</style>
						<bind name="text" value="accountLevel"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block type="text">
				<bind name="name" value="'playerContactName_' + nickName"/>
				<bind name="watch" value="'_tfWidth' ; 	_nickNameWidth	? _nickNameWidth :
										_isShort		? 132
														: 235"/>
				<bind name="style" value="'width';	_notTrancated	? 'auto' :
									(!(accountOnline) || inBattle || wantedInDivision)	? isInDivision	? _tfWidth - 37 + 'px'
																										: _tfWidth - 20 + 'px'
																						: isInDivision	? _tfWidth - 20 + 'px'
																										: _tfWidth + 'px'"/>
				<style>
					<marginTop value="2px"/>
					<marginLeft value="2px"/>
					<multiline value="false"/>
				</style>
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="class" value=" (_playerContext.channelTypeIdent == 'division' &amp;&amp; divisionEntranceData.divisionType == 'party' &amp;&amp; _isWardog) 	? '$FontColorMercenaries' :
							(isSelf || (isInDivision &amp;&amp; divisionEntranceData.divisionType == 'division'))								? '$FontColorGolden'
																																		: '$FontColorWhite'"/>
				<bind name="class" value=" isSelf ? '$Bold' : '$None'"/>
				<bind name="text" value="_playerContext.channelTypeIdent == 'clan' ? pureName : nickName"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="CalcLongOffline">
		<bind name="entityDH" value="'entityAccount'; _entityAccountId"/>
		<bind name="watchDH" value="'lastGameDate'; ['entityAccount.accountStatus.evOnlineChanged']; entityAccount.account.lastGameData"/>
		<bind name="collectionDH" value="CC.clubsCommon; 'clubsCommonCollection'"/>
		<bind name="entityDH" value="'clubsCommonEntity'; clubsCommonCollection[0].id"/>
		<bind name="serverTime" value="'serverTime'"/>
		<bind name="watch" value="'_isClubMemberLongOffline'; ((serverTime - lastGameDate) &gt; clubsCommonEntity.clubsCommon.maxOfflineTime)"/>
		<bind name="changeDispatch" value="_isClubMemberLongOffline; 'isClubMemberLongOfflineChanged'; {isClubMemberLongOffline: _isClubMemberLongOffline}"/>
	</block>
	<block className="ContactInfoTooltip">
		<bind name="entityDH" value="'entityAccount'; _entityAccountId"/>
		<bind name="watchDH" value="'inBattle'; ['entityAccount.accountStatus.evInBattleChanged']; entityAccount.accountStatus.inBattle"/>
		<bind name="watchDH" value="'accountOnline'; ['entityAccount.accountStatus.evOnlineChanged']; entityAccount.accountStatus.online"/>
		<bind name="watchDH" value="'accountLevel'; ['entityAccount.accountLevel.evLevelChanged']; entityAccount.accountLevel.level"/>
		<bind name="watchDH" value="'rank'; ['entityAccount.accountRank.evRankChanged']; entityAccount.accountRank.rank"/>
		<bind name="watchDH" value="'isSuspended'; ['entityAccount.accountSimple.evSuspendedChanged']; entityAccount.accountSimple.suspended"/>
		<bind name="watchDH" value="'pureName'; ['entityAccount.accountName.evChanged']; entityAccount.accountName.name"/>
		<bind name="watchDH" value="'nickName'; ['entityAccount.accountName.evChanged']; entityAccount.accountName.nickName"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'rankedBattlesSeason'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInDivision'; 'pureName'; entityAccount.accountName.name; 'playerInDivision'"/>
		<bind name="watch" value="'isInDivision'; ((divisionEntranceData.divisionType == 'division') &amp;&amp; (playerInDivision.length &gt; 0)) ? true : false"/>
		<bind name="watch" value="'isInFormation'; (playerInDivision.length &gt; 0)"/>
		<bind name="watchDH" value="'isSelf'; []; entityAccount.accountSimple.isSelfPlayer"/>
		<bind name="watch" value="'isBot'; entityAccount.bot != undefined"/>
		<bind name="watch" value="'playerTooltipItem';	isBot 		? 2 :
										rank == 0	? 0
													: 1"/>
		<bind name="watch" value="'isReady'; playerInDivision[0].isReady ? true
														: false"/>
		<bind name="watch" value="'isCommander'; playerInDivision[0].isCommander	? true
																: false"/>
		<bind name="watch" value="'isInFormationBattle'; isInDivision &amp;&amp;
										(playerInDivision[0].isInBattle || inBattle)	? true
																						: false"/>
		<bind name="watchDH" value="'expirationTime'; ['entityAccount.playerInvitedToPrebattleInfo.evChanged']; entityAccount.playerInvitedToPrebattleInfo.expirationTime"/>
		<bind name="watch" value="'isInvitedToDivision'; entityAccount.playerInvitedToPrebattleInfo != null"/>
		<bind name="countdown" value="expirationTime; 'countdownText'; 'mm:ss'"/>
		<bind name="var" value="{wantedInDivision: false}"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="320px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ContactInfoTooltipAccountHeader'; {_entityAccountId: _entityAccountId, _isBot: isBot}"/>
		</block>
		<block>
			<bind name="visible" value="(!(accountOnline) || (inBattle &amp;&amp; !(isInFormationBattle))) &amp;&amp; !(isBot)"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="4px"/>
					<marginBottom value="-4px"/>
					<marginLeft value="10px"/>
					<marginRight value="5px"/>
				</style>
				<block>
					<block className="icon_player_status" type="native">
						<bind name="gotoAndStop!" value=" inBattle	? 'in_battle'
													: 'not_ready'"/>
					</block>
				</block>
				<block type="text">
					<bind name="style" value="'alpha'; (!(accountOnline) || inBattle) ? 0.6 : 1"/>
					<style>
						<marginLeft value="1px"/>
					</style>
					<styleClass value="$TextDefault"/>
					<bind name="text" value=" inBattle	? tr('IDS_IN_BATTLE')
										: tr('IDS_PLAYER_IS_OFFLINE_C')"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ContactInfoTooltipWantInFormation'; _playerContext.isFormationSeeker ? {_playerContext: _playerContext} : null"/>
		</block>
		<bind name="watch" value="'isFormationStatusVisible';	isInDivision"/>
		<block>
			<bind name="visible" value="isFormationStatusVisible &amp;&amp; !(_playerContext.isInvitation)"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="4px"/>
					<marginBottom value="-4px"/>
					<marginLeft value="5px"/>
					<marginRight value="5px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: _playerContext.isInvitation, isCommander: isCommander, isReady: isReady,
														isInBattle: isInFormationBattle, _formationType: divisionEntranceData.divisionType}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="(divisionEntranceData.divisionType == 'division') 	? '$FontColorGolden'
																				: '$FontColorWhite'"/>
					<bind name="watch" value="'playerRoleStr'; 	isCommander	? tr('IDS_DIVISION_COMMANDER_C')
															: tr('IDS_IN_DIVISION')"/>
					<bind name="watch" value="'playerStatusStr'; isInFormationBattle	? tr('IDS_IN_BATTLE') :
												isReady				? tr('IDS_READY')
																	: tr('IDS_NOT_READY')"/>
					<bind name="text" value="playerRoleStr + '. ' + playerStatusStr"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'PlayerTooltipInvitationCountdown'; isInvitedToDivision &amp;&amp; !(isSelf) ? { 	_expirationTime: expirationTime, _formationType: 'division',
																									_text: 'IDS_INVITED_IN_DIVISION'} : null"/>
		</block>
		<block>
			<bind name="visible" value="isFormationStatusVisible"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ContactInfoTooltipVoiceChatStatus'; (accountOnline &amp;&amp; isInFormation)	? {_isSelf: isSelf, _playerName: pureName}
																								: null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'ContactInfoTooltipActionDenyReason'; _actionDenyReason != 'no_reason' ? {_actionDenyReason: _actionDenyReason} : null"/>
		</block>
		<block>
			<bind name="visible" value="!(isSelf)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="10px"/>
					<marginRight value="8px"/>
					<marginTop value="7px"/>
				</style>
				<block>
					<bind name="visible" value="_actionDenyReason == 'no_reason' &amp;&amp; !(isBot) &amp;&amp; !(isSuspended)"/>
					<style>
						<width value="100%"/>
						<marginBottom value="5px"/>
					</style>
					<bind name="instance" value="'MouseInstruction'; {_type: 'left',	_instructionText:	(_playerContext.type == 'startPrivateChat')		? 'IDS_HINT_LEFT_CLICK_TO_START_CHAT' :
																						(_playerContext.type == 'inviteToChannel')		? 'IDS_HINT_LEFT_CLICK_TO_IVITE_TO_CHANNEL' :
																						(_playerContext.type == 'inviteToClub')			? 'IDS_HINT_LEFT_CLICK_TO_IVITE_TO_CLUB' :
																						(_playerContext.type == 'inviteToParty')		? 'IDS_HINT_LEFT_CLICK_TO_IVITE_TO_PARTY' :
																						(_playerContext.type == 'inviteToPartyFromClubMembersList') ? 'IDS_HINT_LEFT_CLICK_TO_IVITE_TO_PARTY' :
																						(_playerContext.type == 'inviteToDivision')		? 'IDS_HINT_LEFT_CLICK_TO_IVITE_TO_DIVISION' :
																						(_playerContext.type == 'inviteToTrainingRoom')	? 'IDS_HINT_LEFT_CLICK_TO_IVITE_TO_TRAINING_ROOM' :
																						(_playerContext.type == 'clubMembersList')		? 'IDS_HINT_LEFT_CLICK_TO_START_CHAT' :
																						(_playerContext.type == 'clubMemberPartyPlayer')? 'IDS_HINT_LEFT_CLICK_TO_START_CHAT' :
																						(_playerContext.type == 'contactsClubMembers')	? 'IDS_HINT_LEFT_CLICK_TO_START_CHAT' :
																						(_playerContext.type == 'invitedToClubPlayers')	? 'IDS_HINT_LEFT_CLICK_TO_START_CHAT' :
																						(_playerContext.type == 'channelParticipants')	? 'IDS_HINT_LEFT_CLICK_TO_START_CHAT'
																																		: ('NO INSTRUCTION FOR SUCH _playerContext.type: ' + _playerContext.type),
													_maxWidth: 220}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<marginBottom value="6px"/>
					</style>
					<bind name="style" value="'marginTop'; (_actionDenyReason == 'no_reason') ? '0px' : '7px'"/>
					<bind name="instance" value="'MouseInstruction'; {_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU', _maxWidth: 220}"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ContactInfoTooltipWantInFormation">
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="6px"/>
				<marginBottom value="8px"/>
				<marginLeft value="10px"/>
				<marginRight value="5px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<marginTop value="2px"/>
					</style>
					<block className="icon_player_status" type="native">
						<bind name="gotoAndStop!" value="'wanted_in_division'"/>
					</block>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="text" value="'IDS_WANT_IN_DIVISION'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block type="text">
				<bind name="visible" value="_playerContext.seekerComment ? true : false"/>
				<style>
					<width value="100%"/>
					<marginTop value="1px"/>
				</style>
				<bind name="class" value="'$FontColorBlueish'"/>
				<styleClass value="$TextHeader"/>
				<bind name="text" value="tr('IDS_LEFT_QUOTE') + _playerContext.seekerComment + tr('IDS_RIGHT_QUOTE')"/>
			</block>
		</block>
	</block>
	<block className="ContactInfoTooltipActionDenyReason">
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="10px"/>
				<marginRight value="8px"/>
				<marginTop value="6px"/>
				<marginBottom value="5px"/>
			</style>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="5px"/>
					<marginRight value="4px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<maxWidth value="210"/>
				</style>
				<bind name="text" value="_actionDenyReason"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ContactInfoTooltipLongOffline">
		<bind name="collectionDH" value="CC.clubsCommon; 'clubsCommonCollection'"/>
		<bind name="entityDH" value="'clubsCommonEntity'; clubsCommonCollection[0].id"/>
		<bind name="timeFormat" value="clubsCommonEntity.clubsCommon.maxOfflineTime; 'HIGHEST'; 'maxOfflineTimeFormatted'; true"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginBottom value="3px"/>
				<marginLeft value="6px"/>
				<marginRight value="5px"/>
			</style>
			<block>
				<style>
					<marginLeft value="4px"/>
				</style>
				<block className="icon_player_status" type="native">
					<bind name="gotoAndStop!" value="'long_offline'"/>
				</block>
			</block>
			<block type="text">
				<style>
					<marginLeft value="1px"/>
				</style>
				<style>
					<maxWidth value="210"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<bind name="text" value="subst('IDS_PLAYER_LONG_OFFLINE', [], {maxOfflineTime: maxOfflineTimeFormatted})"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ContactInfoTooltipInvitation">
		<style>
			<width value="100%"/>
			<height value="30px"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginBottom value="-4px"/>
				<marginLeft value="6px"/>
				<marginRight value="5px"/>
			</style>
			<block>
				<style>
					<marginLeft value="4px"/>
				</style>
				<block className="icon_player_status" type="native">
					<bind name="gotoAndStop!" value="'invited'"/>
				</block>
			</block>
			<block type="text">
				<style>
					<marginLeft value="1px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorDefault'"/>
				<text value="IDS_INVITED_TO_CLUB"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ContactInfoTooltipVoiceChatStatus">
		<bind name="primaryEntityDH" value="'selfVoiceChatEntity'; CC.voiceChat; 0"/>
		<bind name="watchDH" value="'selfVoiceChatEnabled'; ['selfVoiceChatEntity.voiceChat.evEnabledChanged']; selfVoiceChatEntity.voiceChat.enabled"/>
		<bind name="primaryEntityDH" value="'playerVoiceChatEntity'; CC.playerVoiceState; _playerName"/>
		<bind name="watch" value="'playerVoiceChatIsEnabled'; (playerVoiceChatEntity != null)"/>
		<bind name="watchDH" value="'playerVoiceChatIsMuted'; ['playerVoiceChatEntity.playerVoiceState.evIsMutedChanged']; playerVoiceChatEntity.playerVoiceState.isMuted"/>
		<bind name="watch" value="'voiceChatStatusText';	_isSelf						?	selfVoiceChatEnabled	? 	'IDS_VOICE_CHAT_ENABLED'
																								:	'IDS_VOICE_CHAT_DISABLED' :
										!(playerVoiceChatIsEnabled)	?	'IDS_PLAYER_IS_NOT_AVAILABLE_IN_VOICE_CHAT'	:
										playerVoiceChatIsMuted		?	'IDS_PLAYER_IS_MUTED_IN_VOICE_CHAT'
																	:	'IDS_PLAYER_IS_AVAILABLE_IN_VOICE_CHAT'"/>
		<bind name="watch" value="'state';	_isSelf 					? !(selfVoiceChatEnabled)	? 'disabled'
																					: 'speak' :
							!(playerVoiceChatIsEnabled) ? 'disabled' :
							playerVoiceChatIsMuted		? 'muted'
														: 'speak'"/>
		<bind name="visible" value="(_isSelf || selfVoiceChatEnabled)"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="10px"/>
				<marginRight value="8px"/>
				<marginTop value="4px"/>
				<marginBottom value="2px"/>
			</style>
			<block className="icon_voice_chat_small" type="native">
				<style>
					<marginTop value="6px"/>
					<marginRight value="4px"/>
				</style>
				<bind name="gotoAndStop!" value="state"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="(state == 'speak' ? '$FontColorWhite' : '$FontColorUnready')"/>
				<style>
					<maxWidth value="210"/>
				</style>
				<bind name="text" value="voiceChatStatusText"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ContactContextMenu">
		<bind name="entityDH" value="'entityAccount'; _entityAccountId"/>
		<bind name="watchDH" value="'isSuspended'; ['entityAccount.accountSimple.evSuspendedChanged']; entityAccount.accountSimple.suspended"/>
		<bind name="childParentScope" value="isSuspended ? 0 : 1; {}; 'SuspendedContactContextMenu'; 'NormalContactContextMenu'"/>
	</block>
	<block className="SuspendedContactContextMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<bind name="dataRefDH" value="'accountDbId'; 'entityAccount.accountSimple.dbId'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<bind name="visible" value="optionData.contrast &amp;&amp; !(false)"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(false)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="false"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItemWithAction">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_REMOVE_FROM_CONTACTS'"/>
				</block>
				<bind name="action" value="'click'; 'removeContact'; {dbId: accountDbId}"/>
			</block>
		</block>
	</block>
	<block className="NormalContactContextMenu">
		<bind name="firstEntityDH" value="'trainingRoomEntity'; CC.trainingRoomWindowState"/>
		<bind name="watchDH" value="'windowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.state"/>
		<bind name="watchDH" value="'notReadyWindowState'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.notReadyWindowState"/>
		<bind name="watchDH" value="'windowInset'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.inset"/>
		<bind name="watchDH" value="'windowInsetLabel'; ['trainingRoomEntity.trainingRoomWindowState.evUpdate']; trainingRoomEntity.trainingRoomWindowState.insetLabel"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<bind name="firstEntityDH" value="'dockStateEntity'; CC.dockState"/>
		<bind name="watchDH" value="'dockStateName'; ['dockStateEntity.dockState.evUpdate']; dockStateEntity.dockState.stateName"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'isSelfPlayerCommander'; ['selfPlayerEntity.preBattlePlayerSimple.evIsCommanderChanged']; selfPlayerEntity.preBattlePlayerSimple.isCommander"/>
		<bind name="watchDH" value="'selfTeamId'; ['selfPlayerEntity.preBattlePlayerSimple.evStateChanged']; selfPlayerEntity.preBattlePlayerSimple.teamId"/>
		<bind name="watchDH" value="'selfPreBattlePlayerId'; []; selfPlayerEntity.preBattlePlayerSimple.id"/>
		<bind name="watchDH" value="'isSelfPlayerTeamCommander'; ['selfPlayerEntity.trainingRoomPlayer.evUpdate']; selfPlayerEntity.trainingRoomPlayer.isCommander"/>
		<bind name="watchDH" value="'isSelf'; []; entityAccount.accountSimple.isSelfPlayer"/>
		<bind name="watchDH" value="'prebattleInvitedPlayerId'; []; entityAccount.playerInvitedToPrebattleInfo.id"/>
		<bind name="watchDH" value="'prebattlePlayerId'; []; entityAccount.preBattlePlayerSimple.id"/>
		<bind name="watchDH" value="'prebattlePlayerTeamId'; ['entityAccount.preBattlePlayerSimple.evStateChanged']; entityAccount.preBattlePlayerSimple.teamId"/>
		<bind name="watchDH" value="'isPrebattlePlayerOwner'; ['entityAccount.preBattlePlayerSimple.evIsCommanderChanged']; entityAccount.preBattlePlayerSimple.isCommander"/>
		<bind name="watchDH" value="'isPrebattlePlayerTeamCommander'; ['entityAccount.trainingRoomPlayer.evUpdate']; entityAccount.trainingRoomPlayer.isCommander"/>
		<bind name="watch" value="'isInvitedToPrebattle'; (entityAccount.playerInvitedToPrebattleInfo != null)"/>
		<bind name="watch" value="'isInPrebattle'; (entityAccount.preBattlePlayerSimple != null &amp;&amp; !(isInvitedToPrebattle))"/>
		<bind name="watch" value="'isInTrainingRoom'; trainingRoomEntity != null"/>
		<bind name="watchDH" value="'trainingRoomOwnerId'; ['trainingRoomEntity.preBattle.evOwnerIdChanged']; trainingRoomEntity.preBattle.ownerId"/>
		<bind name="watch" value="'isSelfPlayerTrainingRoomOwner'; isInTrainingRoom &amp;&amp; (trainingRoomOwnerId == selfPreBattlePlayerId)"/>
		<bind name="watch" value="'isPrebattlePlayerTrainingRoomOwner'; isInTrainingRoom &amp;&amp; (trainingRoomOwnerId == prebattlePlayerId)"/>
		<bind name="dataRefDH" value="'accountDbId'; 'entityAccount.accountSimple.dbId'"/>
		<bind name="dataRefDH" value="'contactsGroups'; 'dataHub.chat.ref.chat.contactsGroups.ref.items'"/>
		<bind name="dataRefDH" value="'chat'; 'dataHub.chat.ref.chat'"/>
		<bind name="watchDH" value="'nickName'; ['entityAccount.accountName.evChanged']; entityAccount.accountName.nickName"/>
		<bind name="watchDH" value="'pureName'; ['entityAccount.accountName.evChanged']; entityAccount.accountName.name"/>
		<bind name="watchDH" value="'accountOnline'; ['entityAccount.accountStatus.evOnlineChanged']; entityAccount.accountStatus.online"/>
		<bind name="watchDH" value="'groupIdsOfAccount'; ['entityAccount.elementInGroups.evGroupsChanged']; entityAccount.elementInGroups.groupIds"/>
		<bind name="watchDH" value="'isIgnored';['entityAccount.contact.evIsIgnoredChanged']; !!entityAccount.contact.isIgnored"/>
		<bind name="watchDH" value="'canAddGroupEntitiesId'; ['entityAccount.elementInGroups.evCanAddGroupEntitiesChanged', 'dataHub.chat.ref.chat.evRosterChanged']; (entityAccount.elementInGroups) ? entityAccount.elementInGroups.canAddGroupEntitiesId : chat.canAddGroupEntitiesId"/>
		<bind name="watch" value="'isInFormation'; (entityAccount.preBattlePlayerSimple != null)"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name';  entityAccount.accountName.name; 'sentInvitationData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'invitationsToDivision'; 'playerName';  entityAccount.accountName.name; 'receivedInvitationData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionEntranceData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'divisionData'"/>
		<bind name="watchDH" value="'clubsMembership'; ['entityAccount.clubman.evClubsMembershipChanged']; entityAccount.clubman.clubsMembership"/>
		<bind name="entityDH" value="'entityClub'; _playerContext.clubEntityId"/>
		<bind name="watchDH" value="'clubMembers'; ['entityClub.club.evMembersChanged']; entityClub.club.members"/>
		<bind name="collectionDH" value="CC.club; 'playersClubs'"/>
		<bind name="collectionDH" value="CC.clubsCommon; 'clubsCommonCollection'"/>
		<bind name="entityDH" value="'clubsCommonEntity'; clubsCommonCollection[0].id"/>
		<bind name="watchDH" value="'clubsVoted'; ['clubsCommonEntity.clubsCommon.evClubsVotedChanged']; clubsCommonEntity.clubsCommon.clubsVoted"/>
		<bind name="watch" value="'isVoteInCurClub';	(clubsVoted[0] == entityClub.club.id) ||
									(clubsVoted[1] == entityClub.club.id) ||
									(clubsVoted[2] == entityClub.club.id) ? true : false"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<bind name="visible" value="optionData.contrast &amp;&amp; !(false)"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(false)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="false"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="(isSelfPlayerCommander || (isInTrainingRoom &amp;&amp; isSelfPlayerTeamCommander &amp;&amp; selfTeamId == prebattlePlayerTeamId)) &amp;&amp; 
					   (isInPrebattle || isInvitedToPrebattle) &amp;&amp; (dockStateName != 'balancer')"/>
			<block>
				<bind name="visible" value="(isInvitedToPrebattle == true)"/>
				<styleClass value="$ContextMenuListItem"/>
				<block className="MenuItem">
					<styleClass value="$Fullsize"/>
					<block className="dock_submenu_item" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<styleClass value="$ContextMenuListItemContent"/>
						<bind name="text" value="'IDS_RECALL_INVITATION'"/>
					</block>
				</block>
				<bind name="action" value="'click'; 'revokeInvitationToDivision'; {id: prebattlePlayerId}"/>
			</block>
			<block>
				<bind name="visible" value="(isInPrebattle == true &amp;&amp; 
							(!isInTrainingRoom ||
							(isInTrainingRoom &amp;&amp; isSelfPlayerTrainingRoomOwner &amp;&amp; !isPrebattlePlayerTrainingRoomOwner) ))"/>
				<styleClass value="$ContextMenuListItem"/>
				<block className="MenuItem">
					<styleClass value="$Fullsize"/>
					<block className="dock_submenu_item" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<styleClass value="$ContextMenuListItemContent"/>
						<bind name="text" value="isInTrainingRoom ? 'IDS_EXCLUDE_PLAYER_OUT_OF_TRAINING_ROOM' : 'IDS_EXCLUDE_PLAYER_OUT_OF_DIVISION'"/>
					</block>
				</block>
				<bind name="request" value="'buttonClick'; 'kickPlayerFromDivision'; {	playerId: prebattlePlayerId, name: nickName,
																		subtitle: isInTrainingRoom ? 	'IDS_MODAL_EXCLUDE_PLAYER_OUT_OF_TRAINING_ROOM' : 
																										'IDS_MODAL_EXCLUDE_PLAYER_OUT_OF_DIVISION'
																	}"/>
			</block>
			<block>
				<bind name="visible" value="(isSelfPlayerCommander || (isInTrainingRoom &amp;&amp; isSelfPlayerTeamCommander &amp;&amp; selfTeamId == prebattlePlayerTeamId)) &amp;&amp; 
				!(_isBot) &amp;&amp;
				((isInPrebattle == true &amp;&amp; !trainingRoomEntity) || 
				(trainingRoomEntity &amp;&amp; trainingRoomEntity.trainingRoom.commandersManagement)) &amp;&amp; 
				(prebattlePlayerTeamId != -1) &amp;&amp; !isInvitedToPrebattle &amp;&amp;
				!isPrebattlePlayerTeamCommander"/>
				<styleClass value="$ContextMenuListItem"/>
				<block className="MenuItem">
					<styleClass value="$Fullsize"/>
					<block className="dock_submenu_item" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<styleClass value="$ContextMenuListItemContent"/>
						<bind name="text" value="'IDS_APPOINT_PLAYER_TO_COMMANDER'"/>
					</block>
				</block>
				<bind name="action" value="'buttonClick'; 'changeCommander'; {playerId: prebattlePlayerId, teamId: prebattlePlayerTeamId}"/>
				<bind name="dispatch" value="'buttonClick'; _isTrainingRoom ? '' : 'Tooltip.Close'; null; 2"/>
			</block>
			<block>
				<bind name="visible" value="!(_isBot)"/>
				<style>
					<width value="100%"/>
					<marginTop value="2px"/>
					<marginBottom value="3px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_playerContext.type == 'inviteToChannel'"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItem">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_INVITE_PLAYER_TO_CHANNEL'"/>
				</block>
			</block>
			<bind name="action" value="'click'; 'sendChannelInvite'; {channelId: _playerContext.channelId, inviteDbId: accountDbId}"/>
		</block>
		<block>
			<bind name="visible" value="_playerContext.type == 'inviteToClub'"/>
			<bind name="style" value="'alpha'; (_actionDenyReason == 'no_reason') ? 1 : 0.5"/>
			<bind name="tooltip" value="'SimpleWarningTooltip'; (_actionDenyReason != 'no_reason') ? {_text: _actionDenyReason} : null"/>
			<style>
				<backgroundColor value="0x01000000"/>
			</style>
			<styleClass value="$ContextMenuListItem"/>
			<block>
				<styleClass value="$Fullsize"/>
				<bind name="style" value="'hitTest';  (_actionDenyReason == 'no_reason') ? true : false"/>
				<block className="MenuItem">
					<styleClass value="$Fullsize"/>
					<block className="dock_submenu_item" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<styleClass value="$ContextMenuListItemContent"/>
						<bind name="text" value="'IDS_INVITE_TO_CLUB'"/>
					</block>
				</block>
			</block>
			<bind name="action" value="'click'; (_actionDenyReason == 'no_reason') ? 'inviteUserToClub' : '' ; {clubId: _playerContext.clubId, playerName: pureName, userId: accountDbId}"/>
		</block>
		<block>
			<bind name="visible" value="!(_isBot)"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItem">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_SEND_MESSAGE'"/>
				</block>
			</block>
			<bind name="action" value="'click'; 'openChannelForPrivateMessages'; {dbId: accountDbId}"/>
		</block>
		<block>
			<bind name="feature" value="19;	''"/>
			<bind name="watch" value="'isInvitedToClubItemVisible';	(feature_19 != 'locked') &amp;&amp;
													(_playerContext.type != 'inviteToChannel') &amp;&amp;
													(_playerContext.type != 'inviteToClub')	&amp;&amp;
													(playersClubs.length &gt; 0)	? true
																				: false"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'InviteToClubContextMenuItem'; isInvitedToClubItemVisible ? {_entityAccountId: _entityAccountId} : null"/>
		</block>
		<block>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInDivision'; 'playersInDivision'"/>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'playersInvitedToDivision'"/>
			<bind name="watch" value="'freePlaces'; (divisionData.maxPlayersInDivision - playersInDivision.length - playersInvitedToDivision.length)"/>
			<bind name="visible" value=" slimClientData.isFull &amp;&amp;
						accountOnline &amp;&amp;
						!(isInFormation) &amp;&amp;
						(dockStateName != 'balancer') &amp;&amp;
						(_playerContext.type != 'inviteToClub') &amp;&amp;
						(_playerContext.type != 'inviteToTrainingRoom') &amp;&amp;
						!isInvitedToPrebattle &amp;&amp;
						(freePlaces &gt; 0) &amp;&amp;
						!(isInTrainingRoom)"/>
			<bind name="style" value="'alpha'; ((sentInvitationData.length == 0) &amp;&amp; (receivedInvitationData.length == 0)) ? 1 : 0.5 "/>
			<bind name="style" value="'hitTest'; ((sentInvitationData.length == 0) &amp;&amp; (receivedInvitationData.length == 0))"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItemWithAction">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_INVITE_IN_DIVISION'"/>
				</block>
				<bind name="action" value="'click'; 'inviteToDivision'; {playerId: accountDbId, playerName: pureName, inviteType: _inviteType}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	isInTrainingRoom &amp;&amp; (isSelfPlayerCommander || isSelfPlayerTeamCommander) &amp;&amp;
						accountOnline &amp;&amp;
						!(isInFormation) &amp;&amp;
						!isInvitedToPrebattle"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItemWithAction">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_INVITE_IN_TRAINING_ROOM'"/>
				</block>
				<bind name="action" value="'click'; 'TrainingRoomProxy.sendInvite'; {newAccDBID: accountDbId, teamId: _teamId}"/>
			</block>
		</block>
		<bind name="watchDH" value="'groupIdsOfAccount'; ['entityAccount.elementInGroups.evGroupsChanged']; entityAccount.elementInGroups.groupIds"/>
		<block>
			<styleClass value="$ContextMenuListItem"/>
			<bind name="visible" value="((groupIdsOfAccount==null) &amp;&amp; !(isIgnored)) &amp;&amp; !(_isBot)"/>
			<block className="MenuItem">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_ADD_TO_CONTACTS'"/>
				</block>
			</block>
			<bind name="action" value="'click'; 'addContact'; {dbId: accountDbId}"/>
		</block>
		<block>
			<bind name="visible" value="!(isIgnored) &amp;&amp; ((canAddGroupEntitiesId.length &gt; 0) &amp;&amp; (contactsGroups.length &gt; 1)) &amp;&amp; !(_isBot)"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItem">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_ADD_TO_GROUP'"/>
				</block>
			</block>
			<block className="button_expand_h" type="native">
				<style>
					<position value="absolute"/>
					<right value="6px"/>
				</style>
				<styleClass value="$MouseDisable"/>
				<styleClass value="$MiddleVAligned"/>
			</block>
			<bind name="tooltip" value="'MoveToGroupContextSubMenu'; {_entityAccountId: _entityAccountId, canAddGroupEntitiesId: canAddGroupEntitiesId, _dropDown: false}; 7"/>
		</block>
		<block>
			<bind name="visible" value="((_currentGroupId != null) &amp;&amp; !(isIgnored)) &amp;&amp; !(_isBot)"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItemWithAction">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_REMOVE_FROM_GROUP'"/>
				</block>
				<bind name="action" value="'click'; 'removeContactFromGroup'; {dbId: entityAccount.accountSimple.dbId, fromGroupId: _currentGroupId}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(_isBot)"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItem">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="(!isIgnored) ? 'IDS_IGNORE_PLAYER' : 'IDS_NOT_IGNORE_PLAYER'"/>
				</block>
			</block>
			<bind name="action" value="'click'; 'userIgnoreContact'; {dbId: accountDbId, ignore: !(isIgnored)}"/>
		</block>
		<block>
			<bind name="visible" value="((groupIdsOfAccount!=null) &amp;&amp; !(isIgnored)) &amp;&amp; !(_isBot)"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItemWithAction">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_REMOVE_FROM_CONTACTS'"/>
				</block>
				<bind name="action" value="'click'; 'removeContact'; {dbId: accountDbId}"/>
			</block>
		</block>
		<block>
			<bind name="primaryEntityDH" value="'selfVoiceChatEntity'; CC.voiceChat; 0"/>
			<bind name="watchDH" value="'selfVoiceChatEnabled'; ['selfVoiceChatEntity.voiceChat.evEnabledChanged']; selfVoiceChatEntity.voiceChat.enabled"/>
			<bind name="instance" value="'VoiceChatContextMenuItem'; ((selfVoiceChatEnabled || isSelf) &amp;&amp; isInFormation) ? {_isSelf: isSelf, _playerName: pureName, _nickName: nickName} : null"/>
		</block>
		<block>
			<bind name="visible" value="	(_playerContext.type == 'clubMembersList') ||
						(_playerContext.type == 'contactsClubMembers') ||
						(_playerContext.type == 'inviteToPartyFromClubMembersList') ||
						((_playerContext.type == 'clubMemberPartyPlayer') &amp;&amp; (!_isWardog)) ||
						(_playerContext.type == 'channelParticipants' &amp;&amp; _playerContext.channelTypeIdent == 'club')"/>
			<style>
				<width value="100%"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="tooltip" value="'SimpleWarningTooltip'; (dockStateName == 'balancer') ? {_text: tr('IDS_CONTEXT_ACTION_NOT_AVAILABLE_IN_MATCHMAKER')} : null"/>
			<block>
				<bind name="visible" value="!(_isBot)"/>
				<style>
					<width value="100%"/>
					<marginTop value="3px"/>
					<marginBottom value="2px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<bind name="style" value="'hitTest'; (dockStateName == 'balancer') ? false : true"/>
				<bind name="style" value="'alpha'; (dockStateName == 'balancer') ? 0.5 : 1"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<bind name="visible" value="accountDbId != _playerContext.clubLeaderDbId"/>
					<styleClass value="$ContextMenuListItem"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="tooltip" value="'SimpleWarningTooltip'; isVoteInCurClub ? {_text: tr('IDS_UNABLE_TO_START_VOTE_TILL_CURRENT_NOT_FINISHED')} : null"/>
					<block>
						<styleClass value="$Fullsize"/>
						<bind name="style" value="'hitTest'; !(isVoteInCurClub) ? true : false"/>
						<bind name="style" value="'alpha'; !(isVoteInCurClub) ? 1 : 0.5"/>
						<block className="MenuItemWithAction">
							<styleClass value="$Fullsize"/>
							<block className="dock_submenu_item" type="native">
								<styleClass value="$FullsizeAbsolute"/>
							</block>
							<block type="text">
								<styleClass value="$TextDefault"/>
								<styleClass value="$MiddleVAligned"/>
								<styleClass value="$ContextMenuListItemContent"/>
								<bind name="text" value="'IDS_KICK_PLAYER_FROM_CLUB'"/>
							</block>
							<bind name="action" value="'click'; 'kickClubMember'; {clubId: _playerContext.clubId, accountId: accountDbId, price: 0, playerName: pureName}"/>
						</block>
					</block>
				</block>
				<block>
					<bind name="visible" value="accountDbId == _playerContext.clubLeaderDbId"/>
					<styleClass value="$ContextMenuListItem"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="tooltip" value="'SimpleWarningTooltip';	(clubMembers.length &lt; VoteTypes.MIN_MEMBERS_TO_RIOT) ? {_text: tr('IDS_DEPOSE_CLUB_LEADER_HINT')} :
														isVoteInCurClub 									 ? {_text: tr('IDS_UNABLE_TO_START_VOTE_TILL_CURRENT_NOT_FINISHED')}
																											 : null"/>
					<block>
						<styleClass value="$Fullsize"/>
						<bind name="style" value="'hitTest'; ((clubMembers.length &gt;= VoteTypes.MIN_MEMBERS_TO_RIOT) &amp;&amp; !(isVoteInCurClub)) ? true : false"/>
						<bind name="style" value="'alpha'; ((clubMembers.length &gt;= VoteTypes.MIN_MEMBERS_TO_RIOT) &amp;&amp; !(isVoteInCurClub)) ? 1 : 0.5"/>
						<block className="MenuItemWithAction">
							<styleClass value="$Fullsize"/>
							<block className="dock_submenu_item" type="native">
								<styleClass value="$FullsizeAbsolute"/>
							</block>
							<block type="text">
								<styleClass value="$TextDefault"/>
								<styleClass value="$MiddleVAligned"/>
								<styleClass value="$ContextMenuListItemContent"/>
								<bind name="text" value="'IDS_DEPOSE_CLUB_LEADER'"/>
							</block>
							<bind name="action" value="'click'; 'kickClubLeaderWindow'; {clubEntityId: _playerContext.clubEntityId, clubId: _playerContext.clubId, accountId: accountDbId, playerName: pureName}"/>
						</block>
					</block>
				</block>
				<block>
					<bind name="visible" value="selfPlayerDbId == _playerContext.clubLeaderDbId"/>
					<styleClass value="$ContextMenuListItem"/>
					<block>
						<styleClass value="$Fullsize"/>
						<block className="MenuItemWithAction">
							<styleClass value="$Fullsize"/>
							<block className="dock_submenu_item" type="native">
								<styleClass value="$FullsizeAbsolute"/>
							</block>
							<block type="text">
								<styleClass value="$TextDefault"/>
								<styleClass value="$MiddleVAligned"/>
								<styleClass value="$ContextMenuListItemContent"/>
								<bind name="text" value="'IDS_CHANGE_CLUB_LEADER'"/>
							</block>
							<bind name="action" value="'click'; 'changeClubLeaderWindow'; {clubEntityId: _playerContext.clubEntityId, entityAccountId: _entityAccountId}"/>
						</block>
					</block>
				</block>
			</block>
		</block>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; selfPlayerEntity.clanman.clanId"/>
		<bind name="watchDH" value="'clanTag'; ['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanName'; ['clanEntity.clanExtended.evNameChanged']; clanEntity.clanExtended.name"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="firstEntityDH" value="'clanInviteeEntity'; CC.clanInvitee"/>
		<bind name="watchDH" value="'role'; ['selfPlayerEntity.clanman.evRoleChanged']; selfPlayerEntity.clanman.role"/>
		<bind name="watchDH" value="'isFull'; ['clanEntity.clanExtended.evIsFullChanged']; clanEntity.clanExtended.isFull"/>
		<bind name="watch" value="'haveOwnClan'; 			clanEntity != null"/>
		<bind name="watch" value="'canInvite'; 				(role == 'executive_officer' || role == 'recruitment_officer' || role == 'commander')"/>
		<bind name="watch" value="'notInBalancer'; 			(dockStateName != 'balancer')"/>
		<bind name="watch" value="'alreadyInYourClan'; 		(entityAccount.clanman != null) &amp;&amp; (entityAccount.clanman.clanId == selfPlayerEntity.clanman.clanId)"/>
		<bind name="watch" value="'alreadyInAnotherClan'; 	(entityAccount.clanman != null) &amp;&amp; (entityAccount.clanman.clanId != selfPlayerEntity.clanman.clanId)"/>
		<bind name="watch" value="'noFreePlacesInClan'; 		isFull"/>
		<block>
			<bind name="visible" value="(haveOwnClan &amp;&amp; canInvite &amp;&amp; notInBalancer &amp;&amp; !alreadyInYourClan &amp;&amp; !_isBot)"/>
			<bind name="action" value="'click'; 'ClanProxy.sendInvite'; { playerDBID: accountDbId }"/>
			<bind name="style" value="'alpha'; (alreadyInAnotherClan || noFreePlacesInClan) ? 0.5 : 1"/>
			<bind name="tooltip" value="'SimpleWarningTooltip'; (alreadyInAnotherClan || noFreePlacesInClan) ? { _text: 	noFreePlacesInClan 		? 'IDS_CLAN_INVITATION_DENY_REASON_CLAN_IS_FULL':
																										alreadyInAnotherClan 	? 'IDS_CLAN_INVITATION_DENY_REASON_PLAYER_ALREADY_IN_CLAN'
																																: ''}
																							: null"/>
			<style>
				<width value="100%"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<styleClass value="$ContextMenuListItem"/>
			<block>
				<styleClass value="$Fullsize"/>
				<bind name="style" value="'hitTest'; (alreadyInAnotherClan || noFreePlacesInClan) ? false : true"/>
				<block className="MenuItem">
					<styleClass value="$Fullsize"/>
					<block className="dock_submenu_item" type="native">
						<styleClass value="$FullsizeAbsolute"/>
					</block>
					<block type="text">
						<styleClass value="$TextDefault"/>
						<styleClass value="$MiddleVAligned"/>
						<styleClass value="$ContextMenuListItemContent"/>
						<bind name="text" value="'IDS_INVITATION_TO_CLAN'"/>
					</block>
				</block>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<block>
			<bind name="visible" value="realmConstants.showProfileInBrowser &amp;&amp; (dockStateName != 'balancer') &amp;&amp; !(_isBot)"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItem">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_PROFILE'"/>
				</block>
			</block>
			<bind name="request" value="'click'; 'showPlayerStats'; { playerId: accountDbId + '',  url: 'playerStats' }"/>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
	</block>
	<block className="VoiceChatContextMenuItem">
		<bind name="primaryEntityDH" value="'playerVoiceChatEntity'; CC.playerVoiceState; _playerName"/>
		<bind name="watch" value="'playerVoiceChatIsEnabled'; (playerVoiceChatEntity != null)"/>
		<bind name="watchDH" value="'playerVoiceChatIsMuted'; ['playerVoiceChatEntity.playerVoiceState.evIsMutedChanged']; playerVoiceChatEntity.playerVoiceState.isMuted"/>
		<bind name="watch" value="'voiceChatMenuText'; 	!(playerVoiceChatIsEnabled) ? 'IDS_PLAYER_IS_NOT_AVAILABLE_IN_VOICE_CHAT' :
										playerVoiceChatIsMuted		? 'IDS_UNMUTE_PLAYER_VOICE_CHAT'
																	: 'IDS_MUTE_PLAYER_VOICE_CHAT'"/>
		<bind name="watch" value="'state'; 	!(playerVoiceChatIsEnabled)	? 'disabled' :
							playerVoiceChatIsMuted		? 'muted'
														: 'speak'"/>
		<bind name="style" value="'alpha'; !(playerVoiceChatIsEnabled)	? 0.9 : 1"/>
		<bind name="style" value="'hitTest'; !(playerVoiceChatIsEnabled)	? false : true"/>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<bind name="action" value="'buttonClick'; 'toggleVoice'; {playerName: _playerName, nickName: _nickname}"/>
		</block>
		<block>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$ContextMenuListItemContent"/>
			<block className="icon_voice_chat_small" type="native">
				<style>
					<marginTop value="6px"/>
					<marginRight value="4px"/>
				</style>
				<bind name="gotoAndStop!" value="state"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	!(playerVoiceChatIsEnabled)	? '$FontColorUnready' :
							playerVoiceChatIsMuted		? '$FontColorUnready'
														: '$FontColorWhite'"/>
				<style>
					<width value="100%"/>
					<marginBottom value="3px"/>
					<hitTest value="false"/>
					<leading value="-3"/>
				</style>
				<bind name="text" value="voiceChatMenuText"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="MoveToGroupContextSubMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'MenuTooltipBackground'; { _isInBattle: _isInBattle }"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="canAddGroupEntitiesId; 'MoveToGroupContextMenuItem'; {_entityAccountId: _entityAccountId, _currentGroupId: _currentGroupId}"/>
		</block>
	</block>
	<block className="MoveToGroupContextMenuItem">
		<bind name="entityDH" value="'entityAccount'; _entityAccountId"/>
		<bind name="dataRefDH" value="'accountDbId'; 'entityAccount.accountSimple.dbId'"/>
		<bind name="entityDH" value="'group'; $value"/>
		<bind name="visible" value="(group.groupOfElements.groupId != 1)"/>
		<styleClass value="$ContextMenuListItem"/>
		<block>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItem">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="group.groupOfElements.name"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<bind name="action" value="'click'; 'addContactToGroupGroup'; {dbId: accountDbId, toGroupId: group.groupOfElements.groupId, fromGroupId: _currentGroupId}"/>
	</block>
	<block className="InviteToClubContextMenuItem">
		<bind name="firstEntityDH" value="'dockStateEntity'; CC.dockState"/>
		<bind name="watchDH" value="'dockStateName'; ['dockStateEntity.dockState.evUpdate']; dockStateEntity.dockState.stateName"/>
		<bind name="style" value="'alpha'; (dockStateName == 'balancer') ? 0.5 : 1"/>
		<bind name="tooltip" value="'SimpleWarningTooltip'; (dockStateName == 'balancer') ? {_text: tr('IDS_CONTEXT_ACTION_NOT_AVAILABLE_IN_MATCHMAKER')} : null"/>
		<styleClass value="$ContextMenuListItem"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="style" value="'hitTest';	(dockStateName == 'balancer') ? false : true"/>
			<block className="MenuItem">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="'IDS_INVITE_TO_CLUB'"/>
				</block>
			</block>
			<block className="button_expand_h" type="native">
				<bind name="visible" value="(dockStateName == 'balancer') ? false : true"/>
				<style>
					<position value="absolute"/>
					<right value="6px"/>
				</style>
				<styleClass value="$MouseDisable"/>
				<styleClass value="$MiddleVAligned"/>
			</block>
			<bind name="tooltip" value="'InviteToClubContextSubMenu'; {_entityAccountId: _entityAccountId, _dropDown: (_dropDown ? _dropDown : false)}; 7"/>
		</block>
	</block>
	<block className="InviteToClubContextSubMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="collectionDH" value="CC.club; 'clubs'"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<bind name="visible" value="optionData.contrast &amp;&amp; !(_dropDown)"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(_dropDown)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="_dropDown"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="clubs; 'InviteToClubContextSubMenuItem'; {_entityAccountId: _entityAccountId}"/>
		</block>
	</block>
	<block className="InviteToClubContextSubMenuItem">
		<bind name="collectionDH" value="CC.clubsCommon; 'clubsCommonCollection'"/>
		<bind name="entityDH" value="'clubsCommonEntity'; clubsCommonCollection[0].id"/>
		<bind name="dataRefDH" value="'maxClubsCapacity'; 'clubsCommonEntity.clubsCommon.maxClubsCapacity'"/>
		<bind name="watchDH" value="'clubsVoted'; ['clubsCommonEntity.clubsCommon.evClubsVotedChanged']; clubsCommonEntity.clubsCommon.clubsVoted"/>
		<bind name="dataRefDH" value="'entityClub'; '$dataRef.ref'"/>
		<bind name="watchDH" value="'clubName';['entityClub.club.evNameChanged']; entityClub.club.name"/>
		<bind name="watchDH" value="'leaderDbId';['entityClub.club.evleaderIdChanged']; entityClub.club.leaderId"/>
		<bind name="watchDH" value="'clubMembers'; ['entityClub.club.evMembersChanged']; entityClub.club.members"/>
		<bind name="watchDH" value="'invitedPlayers'; ['entityClub.club.evInvitedClubmansChanged']; entityClub.club.invitedClubmans"/>
		<bind name="entityDH" value="'entityAccount'; _entityAccountId"/>
		<bind name="dataRefDH" value="'accountDbId'; 'entityAccount.accountSimple.dbId'"/>
		<bind name="watchDH" value="'accountLevel'; ['entityAccount.accountLevel.evLevelChanged']; entityAccount.accountLevel.level"/>
		<bind name="contains" value="clubMembers; ($item == _entityAccountId); 'isClubMember'"/>
		<bind name="contains" value="invitedPlayers; ($item.accountEntityId == _entityAccountId); 'isInvitedToClub'"/>
		<bind name="firstEntityDH" value="'selfPlayerEntity'; CC.accountSelf"/>
		<bind name="watchDH" value="'selfPlayerDbId'; 		[]; selfPlayerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'selfPlayerName'; 		['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.name"/>
		<bind name="watchDH" value="'selfPlayerNickName'; 	['selfPlayerEntity.accountName.evChanged']; selfPlayerEntity.accountName.nickName"/>
		<bind name="levelToFeature" value="accountLevel; 19; 'clubBattleFeatureUnLocked'"/>
		<bind name="watch" value="'isVoteInCurClub';	(clubsVoted[0] == entityClub.club.id) ||
									(clubsVoted[1] == entityClub.club.id) ||
									(clubsVoted[2] == entityClub.club.id) ? true : false"/>
		<bind name="watch" value="'inviteToClubDenyReason';	(isVoteInCurClub &amp;&amp; (selfPlayerDbId != leaderDbId)) ? tr('IDS_UNABLE_TO_START_VOTE_TILL_CURRENT_NOT_FINISHED') :
											(maxClubsCapacity &lt;= (clubMembers.length + invitedPlayers.length)) ? tr('IDS_INVITE_TO_CLUB_ACTION_DENY_REASON_NO_FREE_PLACE') :
											!(clubBattleFeatureUnLocked)	? tr('IDS_INVITE_TO_CLUB_ACTION_DENY_REASON_LOW_LEVEL') :
											isClubMember					? tr('IDS_INVITE_TO_CLUB_ACTION_DENY_REASON_ALREADY_IN_CLUB') :
											isInvitedToClub					? tr('IDS_INVITE_TO_CLUB_ACTION_DENY_REASON_ALREADY_INVITED')
																			: 'no_reason'"/>
		<styleClass value="$ContextMenuListItem"/>
		<bind name="style" value="'alpha'; (inviteToClubDenyReason == 'no_reason') ? 1 : 0.5"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<bind name="style" value="'hitTest'; (inviteToClubDenyReason == 'no_reason')"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="MenuItem">
				<styleClass value="$Fullsize"/>
				<block className="dock_submenu_item" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$ContextMenuListItemContent"/>
					<bind name="text" value="clubName"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<bind name="tooltip" value="'SimpleWarningTooltip'; (inviteToClubDenyReason != 'no_reason') ? {_text: inviteToClubDenyReason} : null"/>
		<bind name="action" value="'click'; (inviteToClubDenyReason == 'no_reason') ? 'inviteUserToClub' : '' ; {clubId: entityClub.club.id, playerName: entityAccount.accountName.name, userId: accountDbId}"/>
	</block>
	<block className="VoiceChatDockIcon">
		<bind name="primaryEntityDH" value="'selfVoiceChatEntity'; CC.voiceChat; 0"/>
		<bind name="watchDH" value="'selfVoiceChatEnabled'; ['selfVoiceChatEntity.voiceChat.evEnabledChanged']; selfVoiceChatEntity.voiceChat.enabled"/>
		<bind name="primaryEntityDH" value="'playerVoiceChatEntity'; CC.playerVoiceState; _playerName"/>
		<bind name="watchDH" value="'playerVoiceChatIsMuted'; ['playerVoiceChatEntity.playerVoiceState.evIsMutedChanged']; playerVoiceChatEntity.playerVoiceState.isMuted"/>
		<bind name="watchDH" value="'playerVoiceChatIsSpeaking'; ['playerVoiceChatEntity.playerVoiceState.evIsSpeakingChanged']; playerVoiceChatEntity.playerVoiceState.isSpeaking"/>
		<bind name="watch" value="'playerVoiceChatIsEnabled'; playerVoiceChatEntity != null"/>
		<bind name="watch" value="'isChatEnabled'; _isSelf	? selfVoiceChatEnabled
											: (selfVoiceChatEnabled ? playerVoiceChatIsEnabled : true))"/>
		<bind name="watch" value="'state';	!(isChatEnabled)			? 'disabled' :
							playerVoiceChatIsMuted		? 'muted' :
							playerVoiceChatIsSpeaking	? 'speak'
														: null"/>
		<bind name="transition" value="state; 0.1; {alpha: 0}; {alpha: 1}; {alpha: 0}; 1"/>
		<block className="icon_voice_chat_small" type="native">
			<bind name="gotoAndStop!" value="state"/>
		</block>
	</block>
	<block className="MenuTooltipBackground">
		<styleClass value="$FullsizeAbsolute"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'DeclareBlurLayer'; _isInBattle ?  null : {}"/>
			<bind name="instance" value="'BlurMap'; _isInBattle ? null : {}"/>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="(optionData.contrast == true || _isInBattle == true)"/>
			<style>
				<marginTop value="-2px"/>
				<marginBottom value="-2px"/>
			</style>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="!(_isInBattle)"/>
			<style>
				<marginTop value="-1px"/>
				<marginBottom value="-1px"/>
			</style>
			<block className="hint_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
	</block>
	<css name="$MarginsBig">
		<marginBottom value="16"/>
		<marginTop value="16"/>
		<marginLeft value="16"/>
		<marginRight value="16"/>
	</css>
	<css name="$MarginsMedium">
		<marginBottom value="16"/>
		<marginTop value="16"/>
		<marginLeft value="16"/>
		<marginRight value="16"/>
	</css>
	<css name="$FontColorAvA">
		<textColor value="0xded5c6"/>
	</css>
	<block className="ArcEventTeamPresentationLogo">
		<style>
			<width value="150px"/>
			<height value="150px"/>
			<backgroundSize value="cover"/>
		</style>
		<bind name="style" value="'backgroundImage'; _side == 0 	? 'url:../events/american_event/team_logo/american_event_icon_sharks_own.png'
												: 'url:../events/american_event/team_logo/american_event_icon_eagles_own.png'"/>
	</block>
	<block className="ArcEventTeamPresentationHeaderSmall">
		<bind name="controller" value="lesta.unbound.core.UbController"/>
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sides';[]; arcEventEntity.arcEvent.sides"/>
		<bind name="watchDH" value="'sideId';['arcEventEntity.playerArcEventInfo.evSideChanged']; arcEventEntity.playerArcEventInfo.sideId"/>
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; sides[_side]"/>
		<bind name="watchDH" value="'sideDailyProgress';['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.sideDailyProgress"/>
		<bind name="catch" value="'resetDailyProgress'; {sideDailyProgressTrans: 0}"/>
		<bind name="dispatchDelayReset" value="'sideDailyProgress'+varChanged; 'startSideTransition'; {}; 2; 0.05"/>
		<bind name="dispatchDelayReset" value="'resetDailyProgress'; 'startSideTransition'; {}; 2; 0.05"/>
		<bind name="catch" value="'startSideTransition'; {sideDailyProgressTrans: sideDailyProgress}"/>
		<block>
			<style>
				<width value="150px"/>
				<height value="150px"/>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; (_side == 0) 	? 	(_side == sideId)	? 'url:../events/american_event/team_logo/american_event_icon_sharks_own.png'
																				: 'url:../events/american_event/team_logo/american_event_icon_sharks.png':
										(_side == 1) 	? 	(_side == sideId) 	? 	_isInStat 	? 'url:../events/american_event/team_logo/american_event_icon_eagles_own.png'
																								: 'url:../events/american_event/team_logo/american_event_icon_eagles_own2.png'
																				:   _isInStat 	? 'url:../events/american_event/team_logo/american_event_icon_eagles.png'
																								: 'url:../events/american_event/team_logo/american_event_icon_eagles2.png'
														: ''"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<textAlign value="center"/>
			</style>
			<styleClass value="$TextDefaultBold30NM"/>
			<bind name="transition" value="sideDailyProgressTrans; (sideDailyProgressTrans &gt; 0) ? 0.5 : 0; {intValue: 0}; {intValue: sideDailyProgressTrans}; {intValue: 0}; 3; (sideDailyProgressTrans &gt; 0) ? 0.2 : 0"/>
			<bind name="class" value="(_side == sideId) ? '$FontColorGolden' : '$FontColorAvA'"/>
		</block>
	</block>
	<block className="ArcEventPresentationHeaderBig">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'smallResolution';	(stageWidth &lt;= 1300) || (stageHeight &lt; 960)"/>
		<bind name="style" value="'width'; smallResolution ? '283px' : '424px'"/>
		<bind name="style" value="'height'; smallResolution ? '400px' : '600px'"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<backgroundSize value="cover"/>
			</style>
			<bind name="style" value="'backgroundImage'; (_side == 0)	? 'url:../events/american_event/recruiter/sharks.png'
														: 'url:../events/american_event/recruiter/eagles.png'"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="fade" value="rollOver; 0.1; {alpha: 0}; {alpha: 0.2}; {alpha: 0}"/>
			<style>
				<backgroundSize value="cover"/>
				<position value="absolute"/>
				<backgroundColor value="0xffffffff"/>
			</style>
		</block>
	</block>
	<block className="ArcEventLoyaltyInfoTooltip">
		<bind name="firstEntityDH" value="'arcEventConfigEntity'; CC.arcEventConfig"/>
		<bind name="watchDH" value="'endDayLoyalty';[]; arcEventConfigEntity.arcEventConfig.endDayLoyalty"/>
		<bind name="watchDH" value="'staySideLoyalty';[]; arcEventConfigEntity.arcEventConfig.staySideLoyalty"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<block type="text">
				<styleClass value="$TextDefaultBold19NM"/>
				<bind name="text" value="'IDS_ARC_EVENT_TEAM_LOYALTY'"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="watch" value="'loyaltyParams'; [	{ attributeIDS: 'IDS_ARC_EVENT_END_DAY_RESTRICTION', measuredValue: ('+' + endDayLoyalty),   category: 'positive' },
										{ attributeIDS: 'IDS_ARC_EVENT_LOYALTY_RESTRICTION', measuredValue: ('+' + staySideLoyalty), category: 'positive' }]"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="16"/>
					<marginRight value="16"/>
					<marginTop value="16"/>
				</style>
				<bind name="instance" value="'ParamsModifierList'; { _attributesPositive: loyaltyParams }"/>
			</block>
		</block>
	</block>
	<block className="ArcEventLoyaltyRewardTooltip">
		<bind name="primaryEntityDH" value="'arcProgressWithRewardsEntity'; CC.progressWithRewards; ('loyalty_' + _side)"/>
		<bind name="watchDH" value="'pointsArray';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsArray"/>
		<bind name="watchDH" value="'pointsCurrent';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsCurrent"/>
		<bind name="watchDH" value="'rewards';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.rewards"/>
		<bind name="watchDH" value="'activeIndex';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.activeIndex"/>
		<bind name="watch" value="'isFull'; (pointsCurrent &gt;= pointsArray[_index])"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<block>
				<bind name="instance" value="'GiftBoxIconSmall'; { _issued: isFull }"/>
			</block>
			<block type="text">
				<style>
					<width value="260px"/>
					<marginLeft value="16"/>
					<marginTop value="2"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="'IDS_ARC_EVENT_REWARD_FOR_LOYALTY_DESCRIPTION_TOOLTIP'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isFull == true"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MarginsBig"/>
				<block className="icon_check" type="native">
					<styleClass value="$MiddleVAligned"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="8"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<bind name="class" value="'$FontColorGolden'"/>
					<bind name="text" value="'IDS_ARC_EVENT_LOYALTY_REWARD_REACHED'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="isFull != true"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MarginsBig"/>
				<styleClass value="$TextDefault17NM"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="((_index == activeIndex) &amp;&amp; (pointsCurrent &gt; 0))	? subst('IDS_ARC_EVENT_LOYALTY_LEFT', [], {loyalty: (pointsArray[_index] - pointsCurrent)})
																			: subst('IDS_ARC_EVENT_LOYALTY_COST', [], {loyalty: (pointsArray[_index] - pointsCurrent)})"/>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<bind name="repeat" value="rewards[_index]; 'RewardContainerTooltipItemAdapter'"/>
		</block>
	</block>
	<block className="ArcEventPersonalDailyProgressTooltip">
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sides';[]; arcEventEntity.arcEvent.sides"/>
		<bind name="watchDH" value="'sideId';['arcEventEntity.playerArcEventInfo.evSideChanged']; arcEventEntity.playerArcEventInfo.sideId"/>
		<bind name="primaryEntityDH" value="'arcProgressWithRewardsEntity'; CC.progressWithRewards; 'progress'"/>
		<bind name="watchDH" value="'pointsArray';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsArray"/>
		<bind name="watchDH" value="'pointsCurrent';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsCurrent"/>
		<bind name="watchDH" value="'activeIndex';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.activeIndex"/>
		<bind name="watch" value="'isFull'; pointsCurrent &gt;= pointsArray[_index]"/>
		<bind name="watch" value="'isEmpty'; pointsCurrent &lt;= pointsArray[_index - 1]"/>
		<bind name="watch" value="'commonPoints'; (isFull == false) &amp;&amp; (isEmpty == false) ? pointsArray[_index] - pointsCurrent : pointsArray[_index]"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<marginLeft value="16"/>
			</style>
			<block>
				<style>
					<width value="80px"/>
					<height value="80px"/>
					<backgroundSize value="cover"/>
				</style>
				<bind name="style" value="'backgroundImage'; sideId == sides[0] 	? 'url:../reward_icons/icon_reward_lootbox_31.png'
																: 'url:../reward_icons/icon_reward_lootbox_32.png'"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="16"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold19NM"/>
					<bind name="class" value="(isFull == true) ? '$FontColorGolden' : '$FontColorWhite'"/>
					<bind name="text" value="'IDS_AVA_REWARD_LOOTBOX'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="8"/>
					</style>
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="sideId == sides[0] ? 'IDS_AVA_LOOTBOX_SHARKS' : 'IDS_AVA_LOOTBOX_EAGLES'"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="isFull == true"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MarginsBig"/>
				<block className="icon_check" type="native">
					<styleClass value="$MiddleVAligned"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="8"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<bind name="class" value="'$FontColorGolden'"/>
					<bind name="text" value="'IDS_ARC_EVENT_LOYALTY_REWARD_REACHED'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="isFull != true"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="watch" value="'pointsToReach'; (pointsArray[_index] - pointsCurrent)"/>
			<styleClass value="$MarginsBig"/>
			<block type="text">
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="((_index == activeIndex) &amp;&amp; (pointsCurrent &gt; 0))	? subst('IDS_ARC_EVENT_POINTS_LEFT', [], {points: pointsToReach}, pointsToReach)
																			: subst('IDS_ARC_EVENT_POINTS_COST', [], {points: pointsToReach}, pointsToReach)"/>
			</block>
		</block>
	</block>
	<block className="ArcEventTeamPresentationTooltip">
		<bind name="firstEntityDH" value="'playerArcEventInfoEntity'; CC.playerArcEventInfo"/>
		<bind name="watchDH" value="'hasLoyalty'; ['playerArcEventInfoEntity.playerArcEventInfo.evHasLoyaltyChanged']; playerArcEventInfoEntity.playerArcEventInfo.hasLoyalty"/>
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sideId';['arcEventEntity.playerArcEventInfo.evSideChanged']; arcEventEntity.playerArcEventInfo.sideId"/>
		<bind name="watchDH" value="'sides';[]; arcEventEntity.arcEvent.sides"/>
		<bind name="watchDH" value="'yesterdayWinnerSideId'; ['arcEventEntity.arcEvent.evChanged']; arcEventEntity.arcEvent.yesterdayWinnerSideId"/>
		<bind name="watchDH" value="'arcEventStartTime'; ['']; arcEventEntity.arcEvent.startTime"/>
		<bind name="watchDH" value="'arcEventCurrentStageAt'; ['arcEventEntity.arcEvent.evChanged']; arcEventEntity.arcEvent.currentStageAt"/>
		<bind name="watch" value="'arcEventCurrentDay'; ((arcEventCurrentStageAt-arcEventStartTime)/86400) + 1"/>
		<bind name="primaryEntityDH" value="'arcEventSideEntity'; CC.arcEventSide; sides[_side]"/>
		<bind name="watchDH" value="'sideDailyProgress';['arcEventSideEntity.arcEventSide.evProgressChanged']; arcEventSideEntity.arcEventSide.sideDailyProgress"/>
		<bind name="watchDH" value="'sideModifierPerc';['arcEventSideEntity.arcEventSide.evModifierChanged']; arcEventSideEntity.arcEventSide.sideModifierPerc"/>
		<bind name="primaryEntityDH" value="'arcProgressWithRewardsEntity'; CC.progressWithRewards; ('loyalty_' + _side)"/>
		<bind name="watchDH" value="'pointsCurrent';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsCurrent"/>
		<bind name="watchDH" value="'pointsArray';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.pointsArray"/>
		<bind name="watchDH" value="'activeIndex';['arcProgressWithRewardsEntity.progressWithRewards.evChanged']; arcProgressWithRewardsEntity.progressWithRewards.activeIndex"/>
		<bind name="watch" value="'rowArrayLoyalty';   [ { 	title: 'IDS_ARC_EVENT_TEAM_LOYALTY',
											playerPointsCounter: pointsCurrent, 
											totalPointsCounter: pointsArray[pointsArray.length - 1]}]"/>
		<bind name="watch" value="'headerBackgroundImage'; _side == 0 	? _side == sideId 	? 'url:../events/american_event/team_logo/american_event_icon_sharks_own_small.png'
																			: 'url:../events/american_event/team_logo/american_event_icon_sharks_small.png'
														: _side == sideId 	? _isInTeamPresentation == true ? 'url:../events/american_event/team_logo/american_event_icon_eagles_own2_small.png'
																											: 'url:../events/american_event/team_logo/american_event_icon_eagles_own_small.png'
																			: _isInTeamPresentation == true ? 'url:../events/american_event/team_logo/american_event_icon_eagles2_small.png'
																											: 'url:../events/american_event/team_logo/american_event_icon_eagles_small.png'"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$MarginsMedium"/>
			<block>
				<style>
					<backgroundSize value="cover"/>
					<width value="80px"/>
					<height value="80px"/>
				</style>
				<bind name="style" value="'backgroundImage'; headerBackgroundImage"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="100%"/>
					<marginLeft value="16"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold19NM"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="class" value="(_side == sideId) ? '$FontColorGolden' : '$FontColorWhite'"/>
					<bind name="text" value="tr('IDS_ARC_EVENT_SIDE_' + _side)"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<style>
						<width value="100%"/>
						<marginTop value="8"/>
					</style>
					<bind name="text" value="tr('IDS_ARC_EVENT_TEAM_' + _side)"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="(arcEventCurrentDay != 1) &amp;&amp; (yesterdayWinnerSideId == _side) &amp;&amp; _isPromo == true"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MarginsBig"/>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<bind name="text" value="'IDS_EVENT_PAST_PERIOD_WINNERS'"/>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(hasLoyalty == true)"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MarginsBig"/>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<width value="300px"/>
					</style>
					<styleClass value="$TextDefault17NM"/>
					<bind name="text" value="'IDS_ARC_EVENT_SIDE_DAILY_PROGRESS'"/>
				</block>
				<block type="text">
					<style>
						<position value="absolute"/>
						<right value="0px"/>
					</style>
					<styleClass value="$TextDefaultBold17NM"/>
					<bind name="text" value="format(sideDailyProgress)"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="sideModifierPerc &gt; 0"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$MarginsBig"/>
				<style>
					<width value="100%"/>
				</style>
				<block type="text">
					<style>
						<width value="280px"/>
					</style>
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="'IDS_ARC_EVENT_SIDE_DAILY_COEFFICIENT'"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultBoldNM"/>
					<style>
						<position value="absolute"/>
						<right value="0px"/>
					</style>
					<bind name="class" value="'$FontColorComparePositive'"/>
					<bind name="text" value="'+' + sideModifierPerc + '%'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="3px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(hasLoyalty == true)"/>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MarginsBig"/>
				<style>
					<width value="100%"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
						<marginTop value="-3px"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
							<marginLeft value="-2px"/>
						</style>
						<bind name="repeat" value="rowArrayLoyalty; 'StatRow'; {}"/>
					</block>
					<block>
						<style>
							<width value="100%"/>
							<marginTop value="-6px"/>
						</style>
						<bind name="style" value="'colorMatrixFilter'; (sideId == _side) ? '0 0 0 0' : '0 -100 0 0'"/>
						<bind name="repeat" value="pointsArray; 'StepProgressBar'; { _width: '65px', _side: _side, _showYellowBar: _side == sideId, 
																	_currValue: pointsCurrent, _arrayValues: pointsArray, _activeIndex: activeIndex }"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="('IDS_ARC_EVENT_SIDE_' + _side + '_DESCRIPTION' + (_isPromo ? '_PROMO' : ''))"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!_hideInstuction == true"/>
			<styleClass value="$MarginsMedium"/>
			<bind name="instance" value="'MouseInstruction'; {_type: 'left', _instructionText: 'IDS_ARC_EVENT_CHOOSE_SIDE', _maxWidth: 260}"/>
		</block>
	</block>
	<block className="ArcEventTeamCurrencyTooltip">
		<bind name="firstEntityDH" value="'arcEventEntity'; CC.arcEvent"/>
		<bind name="watchDH" value="'sideId';['arcEventEntity.playerArcEventInfo.evSideChanged']; arcEventEntity.playerArcEventInfo.sideId"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="360px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<styleClass value="$MarginsMedium"/>
			<block>
				<style>
					<backgroundSize value="cover"/>
					<width value="80px"/>
					<height value="80px"/>
				</style>
				<bind name="style" value="'backgroundImage'; _side == 0 	? 'url:../reward_icons/icon_reward_sharks.png'
														: 'url:../reward_icons/icon_reward_eagles.png'"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="100%"/>
					<marginLeft value="16"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultBold19NM"/>
					<style>
						<width value="100%"/>
					</style>
					<bind name="class" value="(_side == sideId) ? '$FontColorGolden' : '$FontColorWhite'"/>
					<bind name="text" value="tr('IDS_PERSONAL_TEAM_CURRENCY_' + _side)"/>
				</block>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<style>
						<width value="100%"/>
						<marginTop value="8"/>
					</style>
					<bind name="text" value="tr('IDS_PERSONAL_TEAM_CURRENCY_DESCR')"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="'IDS_PERSONAL_TEAM_CURRENCY_TEXT'"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$MarginsBig"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="-2px"/>
					<marginRight value="6px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultNM"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="text" value="'IDS_PERSONAL_TEAM_CURRENCY_WARNING'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<css name="$TextPriceDefault">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceDefaultGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceDefaultFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceDefaultDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceLarge">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceLargeGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceLargeFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceMedium">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceMediumGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceMediumFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceMediumDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceLargeDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextPriceSmall">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextPriceSmallGold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextPriceSmallFreeExp">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0xCCFF99"/>
	</css>
	<css name="$TextPriceSmallDeficit">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="13"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="PriceTag">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="visible" value="priceInfo.basePrice != null &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) &amp;&amp; (_showDiscountTag == true)"/>
			<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: priceInfo, _customLabel: _customLabel, _isExternal: _isExternal }"/>
			<bind name="name" value="'icon_discount_' + priceInfo.id"/>
			<block className="icon_discount" type="native">
				<style>
					<marginTop value="4px"/>
					<marginRight value="-3px"/>
				</style>
				<bind name="gotoAndStop!" value="_large || _medium ? 'large' : 'normal'"/>
			</block>
		</block>
		<block>
			<bind name="name" value="'price_' + priceInfo.id"/>
			<bind name="instance" value="'InvertableTextLine'; { _name: _name,
												_text: (_isNextPriceInARow ? (tr('IDS_AND') + ' ') : '') + format(priceInfo.finalPrice, -1) + (priceInfo.currency == 'money' ? ' ' + tr(priceInfo.currencyIds) : ''), 
												_invert: _deficit &gt; 0, 
												_normalClass:
															_large		?	(priceInfo.currency == 'gold' ? '$TextPriceLargeGold' : priceInfo.currency == 'freexp' ? '$TextPriceLargeFreeExp' : '$TextPriceLarge')
															: _medium 	? 	(priceInfo.currency == 'gold' ? '$TextPriceMediumGold' : priceInfo.currency == 'freexp' ? '$TextPriceMediumFreeExp' : '$TextPriceMedium')
															: _small		?	(priceInfo.currency == 'gold' ? '$TextPriceSmallGold' : priceInfo.currency == 'freexp' ? '$TextPriceSmallFreeExp' : '$TextPriceSmall')
															: (priceInfo.currency == 'gold' ? '$TextPriceDefaultGold' : priceInfo.currency == 'freexp' ? '$TextPriceDefaultFreeExp' :'$TextPriceDefault'), 
												_invertedClass:
															_large		?	'$TextPriceLargeDeficit'
															: _medium	?	'$TextPriceMediumDeficit'
															: _small	?	'$TextPriceSmallDeficit'
															: '$TextPriceDefaultDeficit' }"/>
		</block>
		<block>
			<bind name="visible" value="!_duplicateCurrency"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'Currency'; (priceInfo.currency != 'money') ? { _currency: priceInfo.currency, _large: _large, _medium: _medium } : null"/>
		</block>
		<block>
			<bind name="visible" value="_duplicateCurrency == true"/>
			<bind name="instance" value="'DuplicateCurrency'; { _large: _large }"/>
		</block>
	</block>
	<block className="Currency">
		<bind name="style" value="'marginBottom'; _large || _medium ? '1px' : '0px'"/>
		<block className="icon_currency" type="native">
			<bind name="gotoAndStop!" value="_large || _medium ? _currency + '_large' : _currency"/>
		</block>
	</block>
	<block className="DuplicateCurrency">
		<bind name="style" value="'marginTop'; _large ? '5px' : '0px'"/>
		<bind name="style" value="'backgroundImage'; 'url:../collections/duplicate_icons/duplicate_medium.png'"/>
	</block>
	<block className="AlterablePriceTag">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountGold';		['resourceEntity.accountResource.evChangedGold'];		resourceEntity.accountResource.gold"/>
		<bind name="watchDH" value="'accountCredits';	['resourceEntity.accountResource.evChangedCredit'];		resourceEntity.accountResource.credits"/>
		<bind name="watchDH" value="'accountFreeXP';		['resourceEntity.accountResource.evChangedFreeXP'];		resourceEntity.accountResource.freeXP"/>
		<bind name="watchDH" value="'eliteXP';			['resourceEntity.accountResource.evChangedEliteXP'];	resourceEntity.accountResource.eliteXP"/>
		<bind name="watch" value="'metaXP'; eliteXP + accountFreeXP"/>
		<bind name="watch" value="'curCurrency'; _prices[_selectedPriceIndex].currency"/>
		<bind name="watch" value="'curCurrencyResource'; curCurrency == 'gold'		? accountGold :
										curCurrency ==	'eliteXP'	? metaXP
																	: accountCredits"/>
		<bind name="dispatch" value="'isAlterablePriceMenuVisible' + varChanged; 'alterablePriceTagMenuVisibleChanged'; {isAlterablePriceMenuVisible: isAlterablePriceMenuVisible}; 0; isAlterablePriceMenuVisible ? 0 : 0.05"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="visible" value="(_prices[_selectedPriceIndex].basePrice != null) &amp;&amp; (_prices[_selectedPriceIndex].finalPrice != _prices[_selectedPriceIndex].basePrice) &amp;&amp; _showDiscountTag == true"/>
			<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: _prices[_selectedPriceIndex] }"/>
			<block className="icon_discount" type="native">
				<style>
					<marginRight value="-6px"/>
				</style>
				<bind name="gotoAndStop!" value="_large || _medium ? 'large' : 'normal'"/>
			</block>
		</block>
		<block className="button_dock" type="native">
			<style>
				<flow value="horizontal"/>
			</style>
			<bind name="style" value="'hitTest'; _prices.length &gt; 1"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; ( _tooltipText != null )	? { _multiParagraphArray:  [{_paragraphText: _tooltipText}],
																				_mouseInstructions:	[{_type: 'left', _instructionText: 'IDS_HINT_CURRENCY_CHOICE'} ], _maxWidth: 250 }
																			: { _mouseInstructions:	[{_type: 'left', _instructionText: 'IDS_HINT_CURRENCY_CHOICE'} ], _maxWidth: 250 }"/>
			<bind name="tooltip" value="'PriceSelectionMenu'; {_prices: _prices, _showDiscountTag: _showDiscountTag, _selectedPriceIndex: _selectedPriceIndex, _small: _small, _medium: _medium, _large: _large,}; TooltipBehaviour.verticalInfoWidget; null; 'isAlterablePriceMenuVisible'"/>
			<block>
				<style>
					<marginTop value="0px"/>
					<marginBottom value="3px"/>
					<marginLeft value="3px"/>
					<marginRight value="1px"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'AdjustablePriceTag'; { 	_prices: _prices[_selectedPriceIndex],
														_showDiscountTag: false, 
														_small: _small, _medium: _medium, _large: _large,
														_customLabel: _customLabel, _isExternal: _isExternal }"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$MouseDisable"/>
				<bind name="visible" value="_prices.length &gt; 1"/>
				<style>
					<marginRight value="3px"/>
					<hitTest value="false"/>
				</style>
				<block className="icon_navigate" type="native">
					<bind name="gotoAndStop!" value="'down'"/>
				</block>
			</block>
		</block>
	</block>
	<block className="AdjustablePriceTag">
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="watch" value="'_isMixedPrice'; _prices.mixPrice ? true : false"/>
		<bind name="instance" value="'PriceTagWithDeficit'; !_isMixedPrice 	? { priceInfo: _prices, 
																_showDiscountTag: _showDiscountTag, 
																_small: _small, _medium: _medium, _large: _large,
																_customLabel: _customLabel, _isExternal: _isExternal } 
															: null"/>
		<bind name="repeat" value="_isMixedPrice ? _prices.mixPrice : 0; 'MixedPriceTag'; {	_priceInfos: _prices.mixPrice, 
																			_large: _large, _medium: _medium, _small: _small, 
																			_showDiscountTag: _showDiscountTag, 
																			_customLabel: _customLabel, _isExternal: _isExternal } : null"/>
	</block>
	<block className="PriceTagWithDeficit">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountGold';		['resourceEntity.accountResource.evChangedGold'];		resourceEntity.accountResource.gold"/>
		<bind name="watchDH" value="'accountCredits';	['resourceEntity.accountResource.evChangedCredit'];		resourceEntity.accountResource.credits"/>
		<bind name="watchDH" value="'accountFreeXP';		['resourceEntity.accountResource.evChangedFreeXP'];		resourceEntity.accountResource.freeXP"/>
		<bind name="watchDH" value="'eliteXP';			['resourceEntity.accountResource.evChangedEliteXP'];	resourceEntity.accountResource.eliteXP"/>
		<bind name="watch" value="'metaXP'; eliteXP + accountFreeXP"/>
		<bind name="watch" value="'curCurrency'; priceInfo.currency"/>
		<bind name="watch" value="'curCurrencyResource'; curCurrency == 'gold'		? accountGold :
										curCurrency ==	'eliteXP'	? metaXP
																	: accountCredits"/>
		<bind name="watch" value="'_deficit'; (priceInfo.finalPrice - curCurrencyResource)"/>
		<block className="PriceTag">
			<style>
				<flow value="horizontal"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="visible" value="priceInfo.basePrice != null &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) &amp;&amp; (_showDiscountTag == true)"/>
				<bind name="tooltip" value="'DiscountTooltip'; { priceInfo: priceInfo, _customLabel: _customLabel, _isExternal: _isExternal }"/>
				<bind name="name" value="'icon_discount_' + priceInfo.id"/>
				<block className="icon_discount" type="native">
					<style>
						<marginTop value="4px"/>
						<marginRight value="-3px"/>
					</style>
					<bind name="gotoAndStop!" value="_large || _medium ? 'large' : 'normal'"/>
				</block>
			</block>
			<block>
				<bind name="name" value="'price_' + priceInfo.id"/>
				<bind name="instance" value="'InvertableTextLine'; { _name: _name,
												_text: (_isNextPriceInARow ? (tr('IDS_AND') + ' ') : '') + format(priceInfo.finalPrice, -1) + (priceInfo.currency == 'money' ? ' ' + tr(priceInfo.currencyIds) : ''), 
												_invert: _deficit &gt; 0, 
												_normalClass:
															_large		?	(priceInfo.currency == 'gold' ? '$TextPriceLargeGold' : priceInfo.currency == 'freexp' ? '$TextPriceLargeFreeExp' : '$TextPriceLarge')
															: _medium 	? 	(priceInfo.currency == 'gold' ? '$TextPriceMediumGold' : priceInfo.currency == 'freexp' ? '$TextPriceMediumFreeExp' : '$TextPriceMedium')
															: _small		?	(priceInfo.currency == 'gold' ? '$TextPriceSmallGold' : priceInfo.currency == 'freexp' ? '$TextPriceSmallFreeExp' : '$TextPriceSmall')
															: (priceInfo.currency == 'gold' ? '$TextPriceDefaultGold' : priceInfo.currency == 'freexp' ? '$TextPriceDefaultFreeExp' :'$TextPriceDefault'), 
												_invertedClass:
															_large		?	'$TextPriceLargeDeficit'
															: _medium	?	'$TextPriceMediumDeficit'
															: _small	?	'$TextPriceSmallDeficit'
															: '$TextPriceDefaultDeficit' }"/>
			</block>
			<block>
				<bind name="visible" value="!_duplicateCurrency"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'Currency'; (priceInfo.currency != 'money') ? { _currency: priceInfo.currency, _large: _large, _medium: _medium } : null"/>
			</block>
			<block>
				<bind name="visible" value="_duplicateCurrency == true"/>
				<bind name="instance" value="'DuplicateCurrency'; { _large: _large }"/>
			</block>
		</block>
	</block>
	<block className="MixedPriceTag">
		<bind name="instance" value="'PriceTagWithDeficit'; { priceInfo: _priceInfos[$index], 
											_showDiscountTag: _showDiscountTag, 
											_small: _small, _medium: _medium, _large: _large,
											_customLabel: _customLabel, _isExternal: _isExternal }"/>
	</block>
	<block className="PriceSelectionMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap3" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block className="dock_panel" type="native">
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-9px"/>
				<marginRight value="-14px"/>
				<marginBottom value="-19px"/>
				<marginLeft value="-14px"/>
			</style>
		</block>
		<bind name="repeat" value="_prices; 'PriceSelectionMenuItem'; {_prices: _prices, _showDiscountTag: _showDiscountTag, _selectedPriceIndex: _selectedPriceIndex, _small: _small, _medium: _medium, _large: _large, }"/>
	</block>
	<block className="PriceSelectionMenuItem">
		<bind name="style" value="'width'; _large ? '140px' : '100px'"/>
		<bind name="style" value="'height'; _large ? '36px' : '24px'"/>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<bind name="selected" value="_selectedPriceIndex == $index"/>
			<bind name="dispatch" value="'buttonClick'; 'selectedPriceChanged'; { selectedPriceIndex: $index }"/>
			<bind name="name" value="'selectablePrice_' + $index"/>
			<bind name="tooltip" value="'DiscountTooltip'; (basePrice != null) &amp;&amp; (finalPrice != basePrice) ? { priceInfo: {	currency: currency, finalPrice: finalPrice,
																											basePrice: basePrice, till: till,
																											discountEventName: discountEventName}}
																							: null"/>
		</block>
		<block>
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<right value="3px"/>
			</style>
			<bind name="instance" value="'AdjustablePriceTag'; { _prices: _prices[$index],
												_showDiscountTag: _showDiscountTag, 
												_small: _small, _medium: _medium, _large: _large,
												_customLabel: _customLabel,
												_isExternal: _isExternal }"/>
		</block>
	</block>
	<block className="PriceDeficit">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_warning_red" type="native">
				<bind name="style" value="'marginTop'; _large ? '5px' : '0px'"/>
			</block>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextDefault"/>
			<bind name="class" value="	_large ? '$FontSizeHeader6':
						_medium ? '$FontSizeLarge' :
						_small ? '$FontSizeSmall' : '$None'"/>
			<bind name="class" value="'$FontColorCompareNegative'"/>
			<text value="IDS_NOT_ENOUGH"/>
		</block>
		<block type="text">
			<bind name="style" value="'marginLeft'; _large ? '2px' : '0px'"/>
			<styleClass value="$TextDefaultBold"/>
			<bind name="class" value="'$FontColorCompareNegative'"/>
			<bind name="class" value="	_large ? '$FontSizeHeader6':
						_medium ? '$FontSizeLarge' :
						_small ? '$FontSizeSmall' : '$None'"/>
			<bind name="text" value="format(_deficit, -1)"/>
		</block>
		<block>
			<bind name="visible" value="!_duplicateCurrency"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="style" value="'marginLeft'; _large ? '-2px' : '0px'"/>
			<bind name="instance" value="'Currency'; (priceInfo.currency != 'money') ? { _currency: priceInfo.currency, _large: _large, _medium: _medium } : null"/>
		</block>
		<block>
			<bind name="visible" value="_duplicateCurrency == true"/>
			<bind name="instance" value="'DuplicateCurrency'; { large: _large }"/>
		</block>
	</block>
	<block className="PriceInLine">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	_large ? '$FontSizeHeader6':
							_medium ? '$FontSizeLarge' :
							_small ? '$FontSizeSmall' : '$None'"/>
				<bind name="text" value="	_customLabel 						? _customLabel :
							priceInfo.currency == 'credits' ||
							priceInfo.currency == 'gold' ||
							priceInfo.currency == 'eliteXP'		? 'IDS_PURCHASE_COST'
																: 'IDS_RESEARCH_COST'"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$AlignRight"/>
				<bind name="instance" value="'PriceTag'; { priceInfo: priceInfo, _deficit: _deficit, _showDiscountTag: _showDiscountTag, _medium: _medium }"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="priceInfo.finalPrice != priceInfo.basePrice "/>
			<bind name="countdown" value="priceInfo.till; 'timeLeft'; 'HIGHEST'; ''; ''; 'rawTimeLeft'"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<leading value="-3"/>
				</style>
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="priceInfo.type == 2 	? 'IDS_SHARE_FROM_CLAN_BUILDINGS_TIMING' :
										(rawTimeLeft &gt; 0) 		? tr('IDS_SHARE_ENDS_IN') + ' ' + priceInfo.timeLeft
																: tr('IDS_SHARE_IS_EXPIRING_WARNING')"/>
			</block>
			<block>
				<bind name="visible" value="priceInfo.basePrice != 0"/>
				<bind name="style" value="'marginRight'; _medium ? '23px' : '15px'"/>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="text" value="format(priceInfo.basePrice, -1)"/>
				</block>
				<block className="icon_price_strikethrough" type="native">
					<style>
						<width value="110%"/>
						<height value="40%"/>
						<top value="60%"/>
						<marginTop value="-50%"/>
						<position value="absolute"/>
					</style>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PriceTagWithLabel">
		<block>
			<style>
				<flow value="horizontal"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="	_large ? '$FontSizeHeader3':
							_medium ? '$FontSizeLarge' :
							_small ? '$FontSizeSmall' : '$None'"/>
				<bind name="class" value="_techText ? '$FontColorBlueish' : '$None'"/>
				<bind name="class" value="_bold ? '$FontFamilyDefaultBold' : '$None'"/>
				<bind name="text" value="_label"/>
			</block>
			<block>
				<style>
					<marginLeft value="4px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<bind name="instance" value="'PriceTag'; { 	priceInfo: priceInfo, _deficit: _deficit , _showDiscountTag: _showDiscountTag,
											_large: _large, _medium: _medium, _small: _small, _duplicateCurrency: _duplicateCurrency}"/>
			</block>
		</block>
	</block>
	<block className="DiscountTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<styleClass value="$DefaultTooltipWidth"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<block className="icon_discount" type="native">
				<styleClass value="$MiddleVAligned"/>
				<bind name="gotoAndStop!" value=" _large ? 'large':'normal'"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextDefaultBold"/>
				<bind name="class" value="'$FontColorGolden'"/>
				<bind name="text" value="(	priceInfo.discountEventName				? priceInfo.discountEventName : 
							priceInfo.type == 1	? 'IDS_EVENT_SHARE' : 
							priceInfo.type == 2	? 'IDS_SHARE_FROM_CLAN_BUILDINGS' : 
							priceInfo.isPrivate 					? 'IDS_PERSONAL_DISCOUNT' 
																	: 'IDS_PROMO_EVENT' )"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<style>
				<marginTop value="0px"/>
			</style>
			<bind name="instance" value="'PriceInLine'; { priceInfo: priceInfo, _showDiscountTag: _showDiscountTag, _customLabel: _customLabel }"/>
		</block>
		<block>
			<bind name="visible" value="(_isExternal == true)"/>
			<styleClass value="$InfoBlockIndent"/>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="-5px"/>
					<marginLeft value="-12px"/>
					<marginRight value="-12px"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="'IDS_HINT_REDIRECT_TO_STORE'"/>
			</block>
		</block>
	</block>
	<block className="BranchTypeLabel">
		<style>
			<position value="absolute"/>
			<width value="1px"/>
			<flow value="horizontal"/>
		</style>
		<bind name="left" value="x * $parent.blockWidth"/>
		<bind name="width" value="$parent.blocHalfWidth * 2"/>
		<styleClass value="$MiddleVAligned"/>
		<block>
			<style>
				<width value="100%f"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="watch" value="'shipType';	nameIDS == 'IDS_DESTROYER'	? 'Destroyer' :
									nameIDS == 'IDS_CARRIER'	? 'AirCarrier' :
									nameIDS == 'IDS_CRUISER'	? 'Cruiser' :
									nameIDS == 'IDS_BATTLESHIP'	? 'BattleShip'
																: 'premiumShip' "/>
			<bind name="watch" value="'shipDescriptionText'; nameIDS != 'IDS_PREMIUM' 	?	[{_paragraphText: (nameIDS + '_DESCRIPTION'), _leading: -2}] 
																		: 	
																			[{_paragraphText: (nameIDS + '_DESCRIPTION'), _leading: -2},																			
																			{_paragraphText: 'IDS_PREMIUM_SHIP_DESCRIPTION_2', _leading: -2},
																			{_paragraphText: 'IDS_PREMIUM_SHIP_DESCRIPTION_3', _leading: -2},
																			{_paragraphText: 'IDS_PREMIUM_SHIP_DESCRIPTION_4', _leading: -2},
																			{_paragraphText: 'IDS_PREMIUM_SHIP_DESCRIPTION_5', _leading: -2}]"/>
			<bind name="watch" value="'brunchTitle'; (nameIDS + 'S')"/>
			<bind name="tooltip" value="'MultiParagraphHelpTooltip'; {_tooltipHeader: brunchTitle, _multiParagraphArray: shipDescriptionText, _iconType: 'ship', _shipType: shipType}"/>
			<block className="mc_icon_ship" type="native">
				<bind name="visible" value="shipType != 'premiumShip'"/>
				<style>
					<marginRight value="8px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<bind name="gotoAndStop!" value="shipType"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefaultBoldNM"/>
				<bind name="class" value="(nameIDS == 'IDS_PREMIUM' ? '$FontColorGolden' : '$None')"/>
				<bind name="text" value="brunchTitle"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="BranchTypeLabelDark">
		<style>
			<position value="absolute"/>
			<width value="1px"/>
		</style>
		<bind name="left" value="x * $parent.blockWidth"/>
		<bind name="width" value="$parent.blocHalfWidth * 2"/>
		<styleClass value="$MiddleVAligned"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.35"/>
					<top value="1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.1"/>
					<top value="-1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.15"/>
					<left value="1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
					<alpha value="0.15"/>
					<left value="-1px"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<maxWidth value="110"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<style>
					<position value="absolute"/>
					<maxWidth value="110"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="nameIDS"/>
			</block>
		</block>
	</block>
	<block className="CurrentFreeXP">
		<styleClass value="$InfoLineBoundaries"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<params>
			<param name="name" value="upgrade_tree_CurrentFreeXP"/>
		</params>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="text" value="_label"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="class" value="'$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorFreeExp'"/>
			<bind name="text" value="format(_freeXP, -1)"/>
		</block>
		<block className="icon_exp_free" type="native">
			<style>
				<marginBottom value="-2px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
		</block>
	</block>
	<block className="CurrentXP">
		<styleClass value="$InfoLineBoundaries"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<params>
			<param name="name" value="upgrade_tree_CurrentShipXP"/>
		</params>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="class" value="_light ? '$None' : '$FontColorBlueish'"/>
			<bind name="class" value="_light ? '$None' : '$Bold'"/>
			<bind name="text" value="_label"/>
		</block>
		<block type="text">
			<styleClass value="$TextDefaultBold"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="class" value="'$FontSizeLarge'"/>
			<bind name="class" value="'$FontColorExp'"/>
			<bind name="text" value="format(_exp, -1)"/>
		</block>
		<block className="icon_exp" type="native">
			<style>
				<marginBottom value="-2px"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
		</block>
	</block>
	<block className="CurrentXPLarge">
		<styleClass value="$InfoLineBoundaries"/>
		<style>
			<marginBottom value="-6px"/>
		</style>
		<params>
			<param name="name" value="upgrade_tree_CurrentShipXP"/>
		</params>
		<block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="class" value="'$FontColorExp'"/>
				<bind name="text" value="format(_exp, -1)"/>
			</block>
			<block className="icon_exp" type="native">
				<styleClass value="$MiddleVAligned"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block type="text">
			<style>
				<marginTop value="2px"/>
				<alpha value="0.8"/>
			</style>
			<styleClass value="$TextDefaultWhite"/>
			<bind name="text" value="_label"/>
		</block>
	</block>
	<block className="StatusLineBig">
		<block>
			<block type="text">
				<style>
					<maxWidth value="300"/>
					<textAlign value="center"/>
				</style>
				<styleClass value="$TextHeader"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="class" value="_positive ? '$FontColorComparePositive' : '$FontColorUnready'"/>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="StatusLineMedium">
		<block type="text">
			<style>
				<maxWidth value="300"/>
				<textAlign value="center"/>
			</style>
			<styleClass value="$TextHeaderBigDefault"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="StatusLineWithIcon">
		<block>
			<block className="icon_warning_orange" type="native">
				<bind name="style" value="'top'; _small 	? '4'
										: _large ? '7' : '6'"/>
				<style>
					<marginRight value="2px"/>
				</style>
			</block>
			<block type="text">
				<bind name="style" value="'maxWidth'; _maxWidth ? _maxWidth : 264"/>
				<bind name="class" value="_large ? '$TextHeaderBigDefault' 
								:_small ? '$TextSecondary' : '$TextDefault'"/>
				<bind name="class" value="_positive ? '$FontColorComparePositive' : '$FontColorUnready'"/>
				<bind name="class" value="_bold ? '$Bold' : '$None'"/>
				<bind name="text" value="_text"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ModuleStatus">
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<bind name="instance" value="'ModuleStatusIcon'; _count.Installed &gt; 0																			? { _state: 'installed' } :
											!(_isExplored) &amp;&amp; !(_isStock)																	? { _state: 'action' } :
											(_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0)											 	? { _state: 'not_enough' } :
											_count.toPurchase &gt; 0 || (_unableToInstallIncompatibles.length &gt; 0 &amp;&amp; _count.toPurchase == 0)	? { _state: 'action' } :
											!(_unableToInstallIncompatibles)																? { _state: 'explored' }			
																																			: null "/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="_count.Installed &gt; 0 	? '$FontColorGolden'
												: _count.Available &gt; 0 	? '$FontColorWhite'
																		: _isExplored 	? '$FontColorUnready'
																						: _isStock 	? '$FontColorDefault'
																									: '$FontColorUnready'"/>
				<bind name="text" value="_count.Installed &gt; 0 	? 'IDS_INSTALLED'
												: _isExplored 	? 	(_count.Available &gt; 0 	? (_count.toPurchase &gt; 0 	? 'IDS_IN_STOCK_Q'
																														: 'IDS_IN_STOCK')
																							: 'IDS_NOT_PURCHASED'
																	)
																: _isStock 	? 'IDS_STOCK'
																			: 'IDS_NOT_RESEARCHED' "/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="_count.Installed &gt; 0 	? '$FontColorGolden'
												: _count.Available &gt; 0 	? '$FontColorWhite'
																		: _isExplored 	? '$FontColorDefault'
																						: '$FontColorExp'"/>
				<bind name="text" value="_count.Installed &gt; 0 	? ''
												: _isExplored	? 	((_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0) 	? _count.Available + 0
																														: ''
																	)
																: '' "/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorCompareNegative'"/>
				<style>
					<marginLeft value="3px"/>
				</style>
				<bind name="text" value="(_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0) 	? 'IDS_TO_BUY_Q'
																			: '' "/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorCompareNegative'"/>
				<bind name="text" value="(_count.Available &gt; 0) &amp;&amp; (_count.toPurchase &gt; 0) 	? _count.toPurchase
																			: '' "/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="ModuleStatusIcon">
		<block className="icon_module_state" type="native">
			<bind name="gotoAndStop!" value="_state"/>
		</block>
	</block>
	<block className="ShipHeaderModuleTree">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountFreeXP';		['resourceEntity.accountResource.evChangedFreeXP'];	resourceEntity.accountResource.freeXP"/>
		<bind name="watchDH" value="'accountGold';		['resourceEntity.accountResource.evChangedGold'];	resourceEntity.accountResource.gold"/>
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="34px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<top value="-5px"/>
			</style>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap_h_no_right" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="tooltip" value="'ShipExtendedTooltip'; { shipId: _shipId }; 0"/>
			<style>
				<marginTop value="5px"/>
				<marginLeft value="3px"/>
			</style>
			<block className="icon_wreath" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<top value="-6px"/>
				</style>
				<bind name="visible" value="_isElite || _isPremium || _uiSpecial"/>
				<bind name="gotoAndStop!" value="_uiSpecial	? 'special' :
								_isPremium 	? 'premium'
											: 'elite'"/>
			</block>
			<block className="icon_ship" type="native">
				<styleClass value="$MouseDisable"/>
				<style>
					<marginLeft value="5px"/>
					<marginTop value="2px"/>
				</style>
				<bind name="gotoAndStop!" value="_isPremium || _uiSpecial	? _subtype + '_P'
											: _unavailable 	? _subtype + '_U'
															: _subtype"/>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<marginLeft value="3px"/>
				</style>
				<bind name="class" value="_unavailable ? '$BlockGlowFilterBright' : '$GlowDisabler'"/>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<style>
						<position value="absolute"/>
						<alpha value="0.25"/>
						<top value="1px"/>
					</style>
					<bind name="visible" value="_unavailable"/>
					<bind name="class" value="'$FontGlowFilterBright'"/>
					<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
					<bind name="text" value="_levelRome + ' ' + tr(_shipName)"/>
				</block>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<style>
						<position value="absolute"/>
						<alpha value="0.15"/>
						<top value="-1px"/>
					</style>
					<bind name="visible" value="_unavailable"/>
					<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
					<bind name="text" value="_levelRome + ' ' + tr(_shipName)"/>
				</block>
				<block type="text">
					<styleClass value="$FontShipnameWhite"/>
					<bind name="style" value="'letterSpacing'; _letterSpacing ? _letterSpacing : '0'"/>
					<bind name="class" value="_isPremium || _uiSpecial 	? '$FontShipnameGolden'
										: _unavailable 	? '$FontShipnameBlack' : '$FontShipnameWhite'"/>
					<bind name="text" value="_levelRome + ' ' + tr(_shipName)"/>
				</block>
			</block>
			<block className="icon_check" type="native">
				<style>
					<marginLeft value="-2px"/>
					<marginTop value="-4px"/>
				</style>
				<bind name="visible" value="_isOwned"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="!_isDownloaded"/>
			<style>
				<marginTop value="-3px"/>
			</style>
			<bind name="instance" value="'IconSlimClient'; !_isDownloaded ? { _isEventLike: _eventShips } : null"/>
		</block>
		<block>
			<style>
				<marginLeft value="6px"/>
				<marginTop value="-1px"/>
				<right value="12"/>
				<position value="absolute"/>
			</style>
			<block>
				<style>
					<marginLeft value="6px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_SHIP_EXPERIENCE'}"/>
				<bind name="instance" value="'CurrentXP'; _isOwned ? { _exp: _shipExp} : null "/>
				<bind name="name" value="'AvailableExpBalanceModuleTreeHeader'"/>
			</block>
			<block>
				<style>
					<marginLeft value="9px"/>
				</style>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_FREE_EXPERIENCE_C'}"/>
				<bind name="feature" value="5; ''"/>
				<bind name="visible" value="feature_5 != 'locked' &amp;&amp; _isOwned"/>
				<bind name="instance" value="'CurrentFreeXP'; { _freeXP: accountFreeXP }"/>
				<bind name="name" value="'freeExpBalanceModuleTreeHeader'"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
		<bind name="watchDH" value="'isLazyLogin'; ['loginEntity.loginData.evUpdate']; (loginEntity.loginData.currentLoginType == 'DEMO')"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watch" value="'defaultButtonCostSmallData'; _isOwned 	? null
															: !(_dependencyResearched || _isExplored) ? null
															: !(_isExplored) &amp;&amp; (_expDeficit &lt;= 0) &amp;&amp; (_group == 'upgradeable' || _group == 'upgradeableExclusive') ? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (_totalCostXP == _explorePriceFinal ? _explorePrice : { finalPrice: _totalCostXP, currency: 'exp' }), _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'researchShip', _actionParams: { shipId: _shipId }, _enabled: true, _showDiscountTag:true }
															: (_isExplored) &amp;&amp; (_creditsDeficit &lt;= 0) &amp;&amp; !(_isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: _buyPrice, _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: _shipId }, _enabled: (_creditsDeficit &lt;= 0), _showDiscountTag:true }
															: _isExplored &amp;&amp; _isPremium  &amp;&amp; (accountGold - _buyPriceFinal) &gt;= 0 ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: _buyPrice, _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: _shipId }, _enabled: ((accountGold - _costGold) &gt;= 0), _showDiscountTag:true }
															: null "/>
		<bind name="watch" value="'priceTagWithLabelData'; _isOwned 	? null
													: (!(_isExplored) &amp;&amp; !(_dependencyResearched)) || (!(_isExplored) &amp;&amp; _expDeficit &gt; 0)? { priceInfo: { finalPrice: _totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _small : true}
													: _isExplored &amp;&amp; _creditsDeficit &gt; 0 &amp;&amp; !(_isPremium) ? { priceInfo: _buyPrice, _label: 'IDS_PURCHASE_COST', _small : true}
													: _isExplored &amp;&amp; _isPremium &amp;&amp; (accountGold - _buyPriceFinal) &lt; 0 ? {priceInfo: _buyPrice, _label: 'IDS_PURCHASE_COST', _small : true }
													: null"/>
		<bind name="watch" value="'priceDeficitData'; _isOwned 	? null
												: !(_dependencyResearched) ? null
												: !(_isExplored) &amp;&amp; _expDeficit &gt; 0 ? { priceInfo: { finalPrice: _totalCostXP, currency: 'exp' }, _small : true, _tooltipText: 'IDS_TOOLTIP_NO_XP', _deficit: _expDeficit}
												: _isExplored &amp;&amp; _creditsDeficit &gt; 0 &amp;&amp; !(_isPremium) ? { priceInfo: _buyPrice, _label: 'IDS_PURCHASE_COST', _small : true, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS', _deficit: _creditsDeficit}
												: _isExplored &amp;&amp; _isPremium &amp;&amp; (accountGold - _buyPriceFinal) &lt; 0 ? {priceInfo: _buyPrice, _label: 'IDS_PURCHASE_COST', _deficit: -(accountGold - _buyPriceFinal), _tooltipText: 'IDS_TOOLTIP_NO_GOLD', _small : true }
												: null"/>
		<bind name="watch" value="'statusLineWithIconData'; (_dependencyResearched || _isExplored) 	? null
																					: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false, _small: true, _maxWidth: 300}"/>
		<block>
			<bind name="visible" value="!_eventShips"/>
			<style>
				<right value="6px"/>
				<position value="absolute"/>
				<marginTop value="2px"/>
			</style>
			<block>
				<bind name="visible" value="!!defaultButtonCostSmallData"/>
				<bind name="name" value="'ButtonShipResearchOrPurchaseSmall'"/>
				<style>
					<right value="0px"/>
				</style>
				<bind name="action" value="'click'; (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? 'forceCreateAccount' : null"/>
				<bind name="instance" value="'DefaultButtonCostSmall'; !!defaultButtonCostSmallData ? defaultButtonCostSmallData : null"/>
			</block>
			<block>
				<bind name="visible" value="!defaultButtonCostSmallData"/>
				<style>
					<marginTop value="-8px"/>
				</style>
				<block>
					<bind name="visible" value="!!priceTagWithLabelData"/>
					<style>
						<right value="0px"/>
					</style>
					<bind name="instance" value="'PriceTagWithLabel'; !!priceTagWithLabelData ? priceTagWithLabelData : null"/>
				</block>
				<block>
					<bind name="visible" value="!!statusLineWithIconData"/>
					<style>
						<right value="0px"/>
						<marginTop value="-5px"/>
					</style>
					<bind name="instance" value="'StatusLineWithIcon'; !!statusLineWithIconData ? statusLineWithIconData : null"/>
				</block>
				<block>
					<bind name="visible" value="!!priceDeficitData"/>
					<style>
						<right value="0px"/>
						<marginTop value="-5px"/>
					</style>
					<bind name="instance" value="'PriceDeficit'; !!priceDeficitData ? priceDeficitData : null"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_eventShips &amp;&amp; !_isOwned"/>
			<style>
				<width value="80px"/>
				<right value="0px"/>
				<position value="absolute"/>
			</style>
			<block className="icon_issued_small" type="native">
				<style>
					<marginTop value="12px"/>
					<marginLeft value="30px"/>
				</style>
				<bind name="rotation" value="-3"/>
				<innerBind elementName="item.item" name="text" value="toUpperCase(tr('IDS_UNAVAILABLE_TO_DISPLAY_SOON'))"/>
				<bind name="gotoAndPlay!" value="'issued'"/>
			</block>
		</block>
	</block>
	<block className="LevelItem">
		<style>
			<height value="80px"/>
			<width value="100%"/>
		</style>
		<bind name="height" value="$parent.blockHeight"/>
		<bind name="style" value="'backgroundColor'; ($index + 1) % 2 == 0 ? '0x00000000' : '0x10000000'"/>
		<block className="icon_level_elite" type="native">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="35px"/>
				<alpha value="0.2"/>
			</style>
			<bind name="gotoAndStop!" value="$index + 1"/>
		</block>
	</block>
	<block className="IncompatiblesBlock">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<block className="icon_warning_orange" type="native">
				<style>
					<marginTop value="7px"/>
					<marginLeft value="12px"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorUnready'"/>
				<style>
					<marginTop value="3px"/>
					<marginBottom value="6px"/>
					<marginLeft value="2px"/>
					<marginRight value="12px"/>
				</style>
				<text value="IDS_INSTALL_COMPATIBLE_MODULE"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block>
				<block className="icon_warning_red" type="native">
					<style>
						<marginTop value="7px"/>
						<marginLeft value="12px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="class" value="'$FontColorCompareNegative'"/>
					<style>
						<marginTop value="3px"/>
						<marginLeft value="2px"/>
						<marginRight value="12px"/>
					</style>
					<text value="IDS_MODULE_INCOMPATIBLE_WITH"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="3px"/>
				</style>
				<bind name="repeat" value="_incompatibleModules; 'DependencyRepeatItem'; {_type: _type}"/>
			</block>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
	</block>
	<block className="ModuleDependenciesBlock">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<flow value="horizontal"/>
				<width value="100%"/>
				<marginLeft value="12px"/>
				<marginRight value="12px"/>
				<marginTop value="8px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<bind name="instance" value="'PriceTagWithLabel'; 	_type[1] == 'research' ? { priceInfo: _priceInfo, _label: 'IDS_RESEARCH_COST', _techText:true, _showDiscountTag:true}
													: _type[1] == 'purchase' ? { priceInfo:_priceInfo, _label: 'IDS_PURCHASE_COST', _techText:true, _showDiscountTag:true}
													: null"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="_type[1] == 'mount' ? 'IDS_HAVE_TO_BE_MOUNTED' : ''"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="visible" value="_type[1] != 'mount'"/>
				<style>
					<marginTop value="4px"/>
					<marginLeft value="12px"/>
					<marginRight value="12px"/>
				</style>
				<bind name="text" value="_type[1] == 'research' ? 'IDS_WILL_BE_ALSO_RESEARCHED' 
												: _type[1] == 'purchase' 	? 'IDS_HAVE_TO_BE_PURCHASED' 
																			: ''"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="3px"/>
				</style>
				<bind name="repeat" value="_dependentModules;  'DependencyRepeatItem' ; {_type: _type}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-1px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="DependencyRepeatItem">
		<style>
			<width value="100%"/>
			<marginLeft value="12px"/>
			<marginRight value="12px"/>
			<marginTop value="3px"/>
			<marginBottom value="3px"/>
		</style>
		<bind name="child" value="_type[0]; {dataArray:dataArray};'ResearchDependenciesListItem'; 'PurchaseDependenciesListItem'; 'MountDependenciesListItem'"/>
	</block>
	<block className="ResearchDependenciesListItem">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + dataArray[1]; 'moduleExplorePrice'"/>
		<style>
			<width value="100%"/>
			<height value="40px"/>
			<flow value="horizontal"/>
		</style>
		<block className="icon_tree_module_states" type="native">
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="44px"/>
				<height value="44px"/>
			</style>
			<bind name="gotoAndStop!" value="dataArray[3] + '_P'"/>
		</block>
		<block>
			<block type="text">
				<style>
					<marginTop value="3px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="class" value="'$FontColorExp'"/>
				<bind name="text" value="toUpperCase(dataArray[2])"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginTop value="-4px"/>
				</style>
				<bind name="text" value="dataArray[4]"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!($parent.$parent._incompatibleModules)"/>
			<styleClass value="$AlignRight"/>
			<bind name="instance" value="'PriceTag'; { priceInfo: moduleExplorePrice.prices[0], _showDiscountTag:true}"/>
		</block>
	</block>
	<block className="PurchaseDependenciesListItem">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + dataArray[2]; 'moduleBuyPrice'"/>
		<style>
			<width value="100%"/>
			<height value="40px"/>
			<flow value="horizontal"/>
		</style>
		<block className="icon_tree_module_states" type="native">
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="gotoAndStop!" value="dataArray[3] + '_P'"/>
		</block>
		<block>
			<block type="text">
				<style>
					<marginTop value="1px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="dataArray[0]"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginTop value="-5px"/>
				</style>
				<bind name="text" value="dataArray[4]"/>
			</block>
		</block>
		<block>
			<styleClass value="$AlignRight"/>
			<block>
				<bind name="visible" value="dataArray[1] &gt; 1"/>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="dataArray[1] + ' x'"/>
				</block>
			</block>
			<block>
				<bind name="instance" value="'PriceTag'; { priceInfo: moduleBuyPrice.prices[0], _showDiscountTag:true}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="MountDependenciesListItem">
		<style>
			<width value="100%"/>
			<height value="40px"/>
			<flow value="horizontal"/>
		</style>
		<block className="icon_tree_module_states" type="native">
			<styleClass value="$MouseDisable"/>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<width value="44px"/>
				<height value="44px"/>
			</style>
			<bind name="gotoAndStop!" value="dataArray[1] + '_P'"/>
		</block>
		<block>
			<block type="text">
				<style>
					<marginTop value="1px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<bind name="text" value="dataArray[0]"/>
			</block>
			<block type="text">
				<styleClass value="$TextSecondary"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<style>
					<marginTop value="-5px"/>
				</style>
				<bind name="text" value="'IDS' + toUpperCase(dataArray[1])"/>
			</block>
		</block>
	</block>
	<block className="IncompatibleListItem">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
			<height value="30px"/>
			<marginLeft value="12px"/>
			<marginRight value="12px"/>
		</style>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<styleClass value="$TextDefault"/>
			<bind name="text" value="dataArray[0]"/>
		</block>
	</block>
	<block className="PremiumShipPointsItem">
		<block type="text">
			<style>
				<maxWidth value="480"/>
			</style>
			<styleClass value="$TextDefault"/>
			<bind name="text" value="_text"/>
		</block>
	</block>
	<block className="CostSmallTransparent">
		<bind name="controller" value="lesta.unbound.core.UbController"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<styleClass value="$InfoLineBoundaries"/>
		<params>
			<param name="name" value="upgrade_tree_CostXP"/>
		</params>
		<block type="text">
			<styleClass value="$TextHeaderBigDefault"/>
			<styleClass value="$MiddleVAligned"/>
			<bind name="text" value="_label"/>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.35"/>
					<top value="1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.1"/>
					<top value="-1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.15"/>
					<left value="1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<styleClass value="$FontCostNormal"/>
				<bind name="class" value="_deficit ? '$FontColorDefault' : '$FontColorAlmostBlack'"/>
				<style>
					<position value="absolute"/>
					<alpha value="0.15"/>
					<left value="-1px"/>
				</style>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
			<block type="text">
				<bind name="class" value="_deficit ? '$FontCostBlack' : '$FontCostNormal'"/>
				<bind name="text" value="format(_costXP != null ? _costXP : _costCR, -1)"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_costXP != null"/>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_exp_small" type="native"/>
		</block>
		<block>
			<bind name="visible" value="_costCR != null"/>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_credit_small" type="native"/>
		</block>
	</block>
	<block className="ShipTreeMenu">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<bind name="visible" value="slimClientData.isFull"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<styleClass value="$ContextMenuDimentions"/>
		<bind name="feature" value="'17'; ''"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="name" value="'ShipContextMenu'"/>
		<block>
			<bind name="visible" value="isOwned"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Primary'"/>
				<bind name="request" value="'buttonClick'; 'primaryThisShip'; {shipId: shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="text" value="playerShipInfo.isPrimary ? 'IDS_REMOVE_PRIMARY' : 'IDS_ASSIGN_PRIMARY'"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	feature_17 != 'locked' &amp;&amp;
						!_disableShipActions"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Modules'"/>
				<bind name="action" value="'buttonClick'; 'selectShipUpgrade'; {shipId : shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_MODULES"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	feature_17 != 'locked' &amp;&amp;
						isOwned &amp;&amp;
						playerShipInfo.sellable &amp;&amp;
						(playerShipInfo.timeRent == 0) &amp;&amp;
						!(playerShipInfo.isLocked || playerShipInfo.isNeedRepair || playerShipInfo.isInFormation) &amp;&amp;
						!_disableShipActions"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Sell'"/>
				<bind name="request" value="'buttonClick'; 'sellShipWindow'; {shipName: shipInfo.fullName, shipId: shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_SELL"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="	feature_17 != 'locked' &amp;&amp;
						(!isOwned || (playerShipInfo.timeRent != 0)) &amp;&amp;
						upgradableShipInfo.isExplored &amp;&amp;
						shipInfo.canBuy &amp;&amp;
						!_disableShipActions"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Purchase'"/>
				<bind name="action" value="'buttonClick'; 'purchaseShip'; { shipId: shipId}"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_DO_PURCHASE"/>
			</block>
		</block>
		<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
		<bind name="watchDH" value="'isLazyLogin'; ['loginEntity.loginData.evUpdate']; (loginEntity.loginData.currentLoginType == 'DEMO')"/>
		<block>
			<bind name="visible" value="	feature_17 != 'locked'&amp;&amp;
						!(upgradableShipInfo.isExplored) 
						&amp;&amp; upgradableShipInfo.dependencyResearched 
						&amp;&amp; upgradableShipInfo.expDeficit &lt;= 0 
						&amp;&amp; !shipInfo.isEventLike"/>
			<styleClass value="$ContextMenuListItem"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="name" value="'ShipContextMenu_Research'"/>
				<bind name="action" value="'buttonClick'; isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier) ? null : 'researchShip'; { shipId: shipId }"/>
				<bind name="action" value="'click'; (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? 'forceCreateAccount' : null"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<text value="IDS_DO_RESEARCH"/>
			</block>
		</block>
	</block>
	<block className="ShipInfoArmourBlock">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<style>
			<width value="100%"/>
			<height value="0px"/>
		</style>
		<bind name="transition" value="dockDefaultValues.armourVisibility; 0.15; {height: 0, alpha: 0}; {height: 110, alpha: 1}; {height: 0, alpha: 0}"/>
		<block>
			<style>
				<position value="absolute"/>
				<top value="-3px"/>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'ArmourPickerControls'; dockDefaultValues.armourVisibility ? {shipId: shipId} : null"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="0"/>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipInfoCrewBlock">
		<bind name="feature" value="13; 'click'"/>
		<style>
			<width value="100%"/>
			<height value="80px"/>
		</style>
		<block>
			<style>
				<marginLeft value="2px"/>
				<marginRight value="2px"/>
			</style>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'CrewShipPanelBlock';		(_crewId &gt; 0)	? {_crewId: _crewId} : null"/>
			<bind name="instance" value="'CrewHireShipPanelBlock';	(_crewId == 0)	? {} : null "/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<marginTop value="-6px"/>
			</style>
			<block className="icon_sticker_new" type="native">
				<bind name="fade" value="feature_13 == 'new'; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}; {alpha: 0, top: -10}; 2"/>
				<style>
					<hitTest value="false"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<bottom value="0"/>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<css name="$TextShipLineNormal">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextShipLinePremium">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLineBlack">
		<fontFamily value="$WWSDefaultFont"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextMetaHeader">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextMetaInfo">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFont"/>
		<fontSize value="15"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$ShipParamTitleWidth">
		<width value="160px"/>
	</css>
	<css name="$ShipParamOnePieceTitleWidth">
		<maxWidth value="160"/>
	</css>
	<css name="$TextShipLinePremiumAccentBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLineBoldAccent">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextShipLinePremiumBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipLineBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TextShipLineBlackAccentBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="25"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextShipLineBlackBold">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="15"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<css name="$TextShipHeaderNameGolden21">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="21"/>
		<selectable value="false"/>
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$TextShipHeaderNameNormal21">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="21"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TextShipHeaderNameBlack21">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<selectable value="false"/>
		<textColor value="0x08222a"/>
	</css>
	<block className="ShipLineItem">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'notInvertable'; (playerShipInfo != null) || _notInvertable"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block>
			<bind name="style" value="'marginTop'; _large ? '7px' : '1px'"/>
			<block className="icon_wreath" type="native">
				<style>
					<position value="absolute"/>
					<left value="-5px"/>
					<top value="-8px"/>
				</style>
				<bind name="visible" value="upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
								shipInfo.isPremium 	? 'premium'
													: 'elite'"/>
			</block>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="shipInfo.subtype + (!notInvertable ? '_U' : (shipInfo.isPremium || shipInfo.uiSpecial ? '_P' : '')) "/>
			</block>
		</block>
		<block>
			<style>
				<marginTop value="-5px"/>
				<marginLeft value="3px"/>
			</style>
			<bind name="instance" value="'InvertableTextLine'; { _text: shipInfo.levelRome + ' ' + toUpperCase(tr(shipInfo.nameIDS)),
												_invert: !notInvertable, 
												_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial ? (_large ? '$TextShipLinePremiumAccentBold' : '$TextShipLinePremiumBold') 
																										: (_large ? '$TextShipLineBoldAccent' : '$TextShipLineBold')), 
												_invertedClass: (_large ? '$TextShipLineBlackAccentBold': '$TextShipLineBlackBold'),
												_width: _width ? _width : '110px',
												_letterSpacing: 0.8}"/>
		</block>
	</block>
	<block className="ShipInfoTabHeader">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="instance" value="'NationFlagsBig'; {_width: '300px', _height: '184px', _alpha: 0.5, shipCountry: shipInfo.flagName}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<style>
				<marginTop value="12px"/>
				<marginBottom value="12px"/>
			</style>
			<block>
				<block>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_CLASS'}; 0"/>
					<style>
						<height value="20px"/>
					</style>
					<block className="icon_wreath" type="native">
						<styleClass value="$MiddleVAligned"/>
						<style>
							<position value="absolute"/>
							<left value="-3px"/>
						</style>
						<bind name="visible" value="(upgradableShipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip"/>
						<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
										shipInfo.isPremium 	? 'premium'
															: 'elite'"/>
					</block>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<marginLeft value="2px"/>
						</style>
						<block className="icon_ship" type="native">
							<style>
								<marginBottom value="2px"/>
							</style>
							<bind name="gotoAndStop!" value="_fromCrew 	? (isOwned ? ((shipInfo.isPremium || shipInfo.uiSpecial) ? shipInfo.subtype + '_P' : shipInfo.subtype) : shipInfo.subtype + '_U')
														: _inSideCompare &amp;&amp; _isNotMyShip ? shipInfo.subtype
														: ((shipInfo.isPremium || shipInfo.uiSpecial) ? shipInfo.subtype + '_P' : shipInfo.subtype)"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_LEVEL'}; 0"/>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="3px"/>
					</style>
					<bind name="instance" value="'InvertableTextLine'; { _text: (shipInfo.levelRome) + ' ' + toUpperCase(tr(shipInfo.nameIDS + '_FULL')),
														_invert: _fromCrew ? !isOwned : false, 
														_normalClass: (shipInfo.isPremium || shipInfo.uiSpecial) &amp;&amp; !_isNotMyShip ? '$TextShipHeaderNameGolden21' : '$TextShipHeaderNameNormal21',
														_invertedClass: '$TextShipHeaderNameBlack21' }"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<style>
					<alpha value="0.8"/>
				</style>
				<bind name="watch" value="'shipClass';	(shipInfo.subtype == 'Cruiser') 	? tr('IDS_CRUISER') :
										(shipInfo.subtype == 'AirCarrier')	? tr('IDS_AIRCARRIER') :
										(shipInfo.subtype == 'Battleship') 	? tr('IDS_BATTLESHIP') : 
										(shipInfo.subtype == 'Auxiliary') 	? tr('IDS_AUXILIARY')
																			: tr('IDS_DESTROYER')"/>
				<bind name="instance" value="'InvertableTextLine'; { _text: subst('IDS_SHIP_LEVEL', [], {_shipClass: shipClass, _shipLevel: shipInfo.levelRome}),
													_invert: _fromCrew ? !isOwned : false, 
													_normalClass: shipInfo.isPremium &amp;&amp; !_isNotMyShip ? '$TextShipLinePremium' : '$TextShipLineNormal', 
													_invertedClass: '$TextShipLineBlack' }"/>
			</block>
		</block>
	</block>
	<block className="TitleDefaultMockup">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<leading value="-4"/>
				<maxWidth value="184"/>
				<marginRight value="9px"/>
			</style>
			<bind name="class" value="meta ? '$TextMetaHeader' : '$TextMetaInfo'"/>
			<bind name="style" value="'alpha'; meta ? 1 : 0.7"/>
			<bind name="text" value="tr(nameIDS) + ' ' + (title.data.items ? tr(title.data.items[0].textValue) : '')"/>
		</block>
	</block>
	<block className="TitleVertMockup">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<styleClass value="$TextMetaInfo"/>
			<style>
				<leading value="-4"/>
				<width value="184px"/>
				<marginRight value="9px"/>
			</style>
			<bind name="style" value="'alpha'; meta ? 1 : 0.7"/>
			<bind name="text" value="nameIDS"/>
		</block>
		<block type="text">
			<style>
				<leading value="-4"/>
				<maxWidth value="184"/>
				<marginRight value="9px"/>
			</style>
			<styleClass value="$TextMetaInfo"/>
			<style>
				<alpha value="0.7"/>
				<marginTop value="-7px"/>
			</style>
			<bind name="text" value="title.data.items[0].textValue"/>
		</block>
	</block>
	<block className="ShipInfoTabRow">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'dockDefaultValues'; 'dockInitData,dockUpdateData'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="watch" value="'id'; id"/>
		<bind name="name" value="'param_' + id"/>
		<bind name="dispatch" value="'click'; dockDefaultValues.armourVisibility &amp;&amp; !(excursionOff) ? null : 'onParamRowClicked'; index"/>
		<bind name="action" value="'click'; (id == 'armour') &amp;&amp; (_armourOff != true) ? (dockDefaultValues.armourVisibility ? 'hideArmour' : 'showArmour') : null"/>
		<bind name="fade" value="!empty &amp;&amp; (state &amp;&amp; isRoot || (!(parent.empty) &amp;&amp; parent.state.active)); 0.15; {alpha: 0, ubScaleY: 0.0}; {alpha: 1, ubScaleY: 1.0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="tooltip" value="'ShipParamTooltip';{	id: id, meta: meta, secondLevel: secondLevel, tooltipIDS: tooltipIDS, nameIDS: nameIDS,
											_hasExcursion: (!excursionOff &amp;&amp; !(dockDefaultValues.armourVisibility)),
											_isArmour: id == 'armour', _armourOff: _armourOff, _torpedoId: aviations.params.ammoNameRaw, 
											_deepWaterTorpedoBombers: deepWaterTorpedoBombers }"/>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="visible" value="!(isRoot)"/>
			</block>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="style" value="'alpha'; (!(isRoot) &amp;&amp; !(excursionOff) &amp;&amp; !(dockDefaultValues.armourVisibility)) || ((id == 'armour') &amp;&amp; (_armourOff != true)) ? 1 : 0"/>
				<bind name="selected" value="state.selected"/>
			</block>
			<block>
				<styleClass value="$Fullsize"/>
				<styleClass value="$MouseDisable"/>
				<style>
					<position value="absolute"/>
					<left value="1px"/>
				</style>
				<bind name="instance" value="'StatValueBar'; meta ? {_width: 310,	 						_hasDiff: root.hasDiff,
													_currentValue: root.values[0], 			_diffValue: root.diffData[0].value,
													_isGood: root.diffData[0].isGood, 		_expand: state.active,
													_invert: ident == 'visibility',			rollOver: rollOver,
													viewParams: viewParams} : null"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<position value="absolute"/>
					<bottom value="-1px"/>
				</style>
				<styleClass value="$MouseDisable"/>
				<bind name="visible" value="meta"/>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$MouseDisable"/>
				<style>
					<width value="100%"/>
					<marginRight value="12px"/>
				</style>
				<bind name="style" value="'marginLeft'; secondLevelTooltip ? '12px' : '32px'"/>
				<bind name="style" value="'marginTop'; (viewParams.list[$index - 1].meta || viewParams.list[$index - 1] == null) &amp;&amp; !(meta) ? '5px' : '1px'"/>
				<bind name="style" value="'marginBottom'; viewParams.list[$index + 1].meta || viewParams.list[$index + 1] == null ? '8px' : '3px'"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'TitleDefaultMockup';(title == null || titleMockup == 0) ? { meta: meta, isRoot: isRoot, nameIDS: nameIDS, title: title } : null"/>
					<bind name="instance" value="'TitleVertMockup'; (title != null &amp;&amp; titleMockup == 1) ? { meta: meta, isRoot: isRoot, nameIDS: nameIDS, title: title } : null"/>
				</block>
				<block>
					<block>
						<style>
							<right value="0"/>
							<position value="absolute"/>
						</style>
						<block>
							<bind name="visible" value="secondLevel.hasDiff ? true : false"/>
							<block type="text">
								<styleClass value="$TextParams"/>
								<style>
									<marginTop value="-1px"/>
									<alpha value="0.55"/>
								</style>
								<text value="("/>
							</block>
							<block className="icon_warning_orange" type="native">
								<styleClass value="$MiddleVAligned"/>
								<style>
									<marginLeft value="-2px"/>
									<marginRight value="-2px"/>
								</style>
							</block>
							<block type="text">
								<styleClass value="$TextParams_tight_left"/>
								<style>
									<marginTop value="-1"/>
								</style>
								<text value=")"/>
							</block>
							<style>
								<flow value="horizontal"/>
							</style>
						</block>
						<bind name="instance" value="'ParamElement'; value"/>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
				<block>
					<bind name="fade" value="!(isRoot) &amp;&amp; !(excursionOff) &amp;&amp; !(dockDefaultValues.armourVisibility); 0.3; {alpha: 0}; {alpha: 1}"/>
					<style>
						<position value="absolute"/>
						<left value="-22px"/>
						<top value="7px"/>
					</style>
					<block className="icon_camera_off" type="native">
						<style>
							<position value="absolute"/>
						</style>
						<bind name="fade" value="!(state.selected); 0.3; {alpha: 0}; {alpha: 1}"/>
					</block>
					<block className="icon_camera_on" type="native">
						<style>
							<position value="absolute"/>
						</style>
						<bind name="fade" value="state.selected; 0.3; {alpha: 0}; {alpha: 1}"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="((id == 'armour') &amp;&amp; (_armourOff != true))"/>
					<style>
						<position value="absolute"/>
						<left value="-22px"/>
						<top value="6px"/>
					</style>
					<block className="button_armour_switcher_small" type="native">
						<bind name="selected" value="dockDefaultValues.armourVisibility"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerModernizations"/>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'weaponsInfo'; deepWaterTorpedoRow ? torpedoSlotsList[0].itemsInSlot[0].id : null; 'torpedoes'"/>
			<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'weaponsInfo'; deepWaterBomberRow  ? planesSlotsList[2].itemsInSlot[0].id : null;  'aviations'"/>
			<bind name="watch" value="'deepWaterTorpedoRow'; (parent.nameIDS == 'IDS_SHIP_PARAM_TORPEDY') &amp;&amp; (id == 'listTorpedoes0')"/>
			<bind name="watch" value="'deepWaterBomberRow'; 	(parent.nameIDS == 'IDS_SHIP_PARAM_AVIATION') &amp;&amp; (id == 'tbomber_squadrons')"/>
			<bind name="watch" value="'deepWaterTorpedoes'; 		(parent.nameIDS == 'IDS_SHIP_PARAM_TORPEDY') &amp;&amp; (id == 'listTorpedoes0') &amp;&amp; (torpedoes.params.torpedoes.isDeepWater == true)"/>
			<bind name="watch" value="'deepWaterTorpedoBombers'; (parent.nameIDS == 'IDS_SHIP_PARAM_AVIATION') &amp;&amp; (id == 'tbomber_squadrons') &amp;&amp; (aviations.params.torpedoIsDeepWater == true)"/>
			<bind name="visible" value="deepWaterTorpedoes == true"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="inner_panel" type="native">
				<styleClass value="$Fullsize"/>
				<styleClass value="$MouseDisable"/>
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="visible" value="!(isRoot)"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginLeft value="32px"/>
					<marginRight value="12px"/>
					<marginTop value="1px"/>
					<marginBottom value="3px"/>
				</style>
				<bind name="instance" value="'TorpedoAffectedShipsParamRow'; (deepWaterTorpedoes == true) ? { _torpedoId: torpedoes.params.torpedoes.ammoName, _isTooltip: true } : null"/>
			</block>
		</block>
		<block className="button_expand" type="native">
			<bind name="selected" value="state.active"/>
			<bind name="visible" value="expandable"/>
			<params>
				<param name="toggle" value="true"/>
				<param name="soundSet" value="dropmenu_button"/>
				<param name="focusable" value="false"/>
			</params>
			<style>
				<position value="absolute"/>
				<height value="24px"/>
				<width value="100%"/>
				<marginLeft value="8px"/>
			</style>
		</block>
	</block>
	<block className="ShipDescription">
		<styleClass value="$InfoBlockIndent"/>
		<block>
			<bind name="visible" value="_peculiarity == 'default' &amp;&amp; _needShowProjectYear == true"/>
			<style>
				<width value="100%"/>
				<marginTop value="-3px"/>
			</style>
			<block>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="(_isPaperShip ? tr('IDS_PROJECT_YEAR') : tr('IDS_RELEASE_YEAR')) + tr('IDS_COLON')"/>
				</block>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="text" value="_shipNameIDS + '_YEAR'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<bind name="visible" value="_isPaperShip != true"/>
				<block type="text">
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="tr('IDS_SHIPS_IN_SERIES') + tr('IDS_COLON')"/>
				</block>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="text" value="_shipNameIDS + '_NUMBER'"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block type="text">
			<bind name="style" value="'marginTop'; (_peculiarity == 'default') ? '3px' : '-2px' "/>
			<styleClass value="$TextSecondaryBold"/>
			<style>
				<width value="100%"/>
			</style>
			<bind name="text" value="_shipNameIDS + '_DESCR'"/>
		</block>
	</block>
	<block className="ShipParamsList">
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="viewParams.list; 'ShipInfoTabRow'; {secondLevelTooltip: secondLevelTooltip, viewParams: viewParams, _excursionOff: _excursionOff}"/>
	</block>
	<block className="ShipParamsListView">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$Fullsize"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="appear" value="'hideParams'; 0.45; 0.0; {alpha: 1.0}; {alpha: 0.0}"/>
			<bind name="appear" value="'showParams'; 0.3; 0.10; {alpha: 0.0}; {alpha: 1.0}"/>
			<block className="stat_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="appear" value="'hideParams'; 0.45; 0.0; {alpha: 1.0, top: 0}; {alpha: 0.0, top: -10}"/>
			<bind name="appear" value="'showParams'; 0.3; 0.10; {alpha: 0.0, top: 10}; {alpha: 1.0, top: 0}"/>
			<bind name="repeat" value="viewParams.list; 'ShipInfoTabRow'; {secondLevelTooltip: secondLevelTooltip, viewParams: viewParams, _armourOff: _armourOff}"/>
		</block>
	</block>
	<block className="ShipSilhouetteRightAligned">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _shipID; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<style>
			<width value="122px"/>
			<height value="22px"/>
		</style>
		<bind name="style" value="'right'; (shipInfo.subtype == ShipTypes.Destroyer)	? '-26px'
																		:	(shipInfo.subtype ==  ShipTypes.Cruiser)	? '-12px'
																														: '0px'"/>
		<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathTinyIcon"/>
	</block>
	<block className="ShipPanel">
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="primaryEntityDH" value="'compareItemEntity'; CC.compareItem; 'testShipParams'"/>
		<bind name="watchDH" value="'testShipParams'; ['compareItemEntity.compareItem.evUpdate']; compareItemEntity.dataComponent.data"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="primaryEntityDH" value="'crewEntity'; CC.crew; playerShipInfo.crewId"/>
		<bind name="watchDH" value="'crew'; ['crewEntity.crew.evBasketChanged', 'crewEntity.crew.evLevelUp', 'crewEntity.crew.evExpChanged', 'crewEntity.crew.evShipChanged', 'crewEntity.crew.evSkillsChanged', 'crewEntity.crew.evResetCostChanged', 'crewEntity.crew.evAdaptationUpdated', 'crewEntity.crew.evChanged', 'crewEntity.crew.evRecentnessUpdated']; crewEntity.crew"/>
		<bind name="watchDH" value="'crew'+'Retraining'; ['crewEntity.crew.evRetrainingUpdated']; crewEntity.retraining"/>
		<bind name="watchDH" value="'upgradableShipInfo'; ['shipEntity.upgradableShipInfo.evUpdate']; shipEntity.upgradableShipInfo"/>
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="controller" value="lesta.dialogs.dock.controllers.ControllerParams; 450.0; shipId; 'fullShipParams'; playerShipInfo != null ? playerShipInfo.params : shipInfo.params; testShipParams; 1; 0; null; 0; 1; 1; excursionOff"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_EXPLORE + shipId; 'shipExplorePrice'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'pricesAll'; PriceInfoSet.OP_BUY + shipId; 'shipBuyPrice'"/>
		<bind name="watch" value="'isOwned'; playerShipInfo != null"/>
		<bind name="watch" value="'showPanel'; _crewInset != 1 &amp;&amp; ((isOwned &amp;&amp; (_dockInset == LobbyConstants.DOCK)) || _dockInset == LobbyConstants.SHIP_MODULES || _dockInset == LobbyConstants.SHIP_EXTERIOR)"/>
		<bind name="watch" value="'carouselRows'; (userPrefs.curRowCountIndex == null) ? 0 : userPrefs.curRowCountIndex"/>
		<bind name="watch" value="'isSmallCarouselView'; (userPrefs.isSmallCarouselView == null) ? false : userPrefs.isSmallCarouselView"/>
		<bind name="watch" value="'excursionOff'; (testShipParams != null || (isOwned &amp;&amp; playerShipInfo.isLocked) || !(shipInfoSlim.isDownloaded))"/>
		<bind name="fade" value="showPanel; showPanel ? 0.3 : 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="appear" value="'addedToStage'; 0.3; 0.2; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<bind name="updateAllStates!" value="showPanel"/>
		<params>
			<param name="name" value="panelShipStats"/>
		</params>
		<styleClass value="$ShipTechStats"/>
		<style>
			<top value="92px"/>
		</style>
		<bind name="style" value="'marginBottom'; isSmallCarouselView	?	(carouselRows == 1) ? '353px' :
															(carouselRows == 2) ? '416px'
																				: '290px'
														: '290px'"/>
		<block>
			<style>
				<height value="100%f"/>
				<width value="100%"/>
			</style>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block className="notification_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="optionData.contrast"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<block className="stat_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ShipInfoTabHeader'; { shipId: shipId }"/>
				</block>
				<block>
					<bind name="visible" value="!isOwned"/>
					<styleClass value="$MiddleAligned"/>
					<style>
						<marginTop value="-40px"/>
						<marginBottom value="-20px"/>
						<width value="214px"/>
						<height value="126px"/>
					</style>
					<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
				</block>
				<block>
					<bind name="style" value="'marginTop'; isOwned ? '-15px' : '0px'"/>
					<style>
						<width value="100%"/>
					</style>
					<block className="ShipResearchBlock">
						<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
						<bind name="watchDH" value="'accountGold';	['resourceEntity.accountResource.evChangedGold'];	resourceEntity.accountResource.gold"/>
						<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
						<styleClass value="$InfoBlockIndent"/>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'PriceTagWithLabel'; isOwned ? null
														: (!(upgradableShipInfo.isExplored) &amp;&amp; !(upgradableShipInfo.dependencyResearched)) || (!(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0)? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice &lt; 0) ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true }
														: null"/>
						</block>
						<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
						<bind name="watchDH" value="'isLazyLogin'; ['loginEntity.loginData.evUpdate']; (loginEntity.loginData.currentLoginType == 'DEMO')"/>
						<block>
							<style>
								<width value="220px"/>
							</style>
							<styleClass value="$MiddleAligned"/>
							<bind name="action" value="'click'; (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? 'forceCreateAccount' : null"/>
							<bind name="instance" value="'DefaultButtonCostMedium'; isOwned ? null
													: !(upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0) &amp;&amp; ((shipInfo.group == 'upgradeable') || (shipInfo.group == 'upgradeableExclusive')) ? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (upgradableShipInfo.totalCostXP == shipExplorePrice.prices[0].finalPrice ? shipExplorePrice.prices[0] : { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }), _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'researchShip', _actionParams: { shipId: shipInfo.id}, _enabled: ( upgradableShipInfo.dependencyResearched &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0)), _showDiscountTag:true, _name: 'ButtonShipResearch' }
													: (upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.creditsDeficit &lt;= 0) &amp;&amp; !(shipInfo.isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: (upgradableShipInfo.creditsDeficit &lt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium  &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice &gt;= 0) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: ((accountGold - shipBuyPrice.prices[0].finalPrice) &gt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: null "/>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'StatusLineWithIcon'; upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored 	? null
																												: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false} "/>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="instance" value="'PriceDeficit'; isOwned 	? null
													: !(upgradableShipInfo.dependencyResearched) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0 ? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _deficit: upgradableShipInfo.expDeficit,  _tooltipText: 'IDS_TOOLTIP_NO_XP'}
													: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: upgradableShipInfo.creditsDeficit, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS'}
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice)  &lt; 0 ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: -(accountGold - shipBuyPrice.prices[0].finalPrice), _tooltipText: 'IDS_TOOLTIP_NO_GOLD' }
													: null"/>
						</block>
						<block>
							<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_EXPERIENCE_USAGE'}; 0"/>
							<bind name="instance" value="'CurrentXPLarge'; isOwned ? { _exp: playerShipInfo.exp, _label: 'IDS_SHIP_EXPERIENCE'} : null "/>
						</block>
					</block>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
				<bind name="feature" value="13; ''"/>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ShipInfoCrewBlock'; isOwned &amp;&amp; (feature_13 != 'locked') ? {_crewId: playerShipInfo.crewId}	: null"/>
				</block>
				<block>
					<bind name="visible" value="crew.isUnique == true"/>
					<style>
						<position value="absolute"/>
						<right value="0px"/>
					</style>
					<bind name="instance" value="'UniqueCrewIcon'; {}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
						<height value="31px"/>
					</style>
					<bind name="instance" value="'ArmourDisplaySwitcher'; {}"/>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="instance" value="'ShipInfoArmourBlock'; {shipId: shipId}"/>
				</block>
				<block>
					<style>
						<position value="absolute"/>
						<bottom value="0"/>
						<width value="100%"/>
					</style>
					<block className="HorizontalDivider">
						<styleClass value="$PxHorizontalCorrection"/>
						<style>
							<width value="100%"/>
							<height value="3px"/>
						</style>
						<block className="divider_h" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
				</block>
			</block>
			<bind name="watch" value="'showStats'; !(shipInfo.isEventLike) || isOwned)"/>
			<bind name="watch" value="'showLabelComingSoon'; shipInfo.isEventLike &amp;&amp; (shipInfo.group != 'event')"/>
			<block>
				<style>
					<height value="100%f"/>
					<width value="100%"/>
					<overflow value="scroll"/>
				</style>
				<styleClass value="$DefaultScrollBar"/>
				<bind name="instance" value="'ShipParamsListView'; showStats ? { viewParams: viewParams } : null"/>
			</block>
			<block>
				<bind name="visible" value="showLabelComingSoon"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'LabelComingSoon'; { _showTestSampleLabel: showStats }"/>
			</block>
		</block>
	</block>
	<block className="LabelComingSoon">
		<block>
			<style>
				<width value="100%"/>
				<height value="80px"/>
			</style>
			<block className="icon_issued" type="native">
				<style>
					<marginLeft value="150px"/>
					<marginTop value="40px"/>
				</style>
				<bind name="rotation" value="-3"/>
				<innerBind elementName="item.item" name="text" value="_showTestSampleLabel ? toUpperCase(tr('IDS_TEST_SAMPLE')) : toUpperCase(tr('IDS_UNAVAILABLE_TO_DISPLAY_SOON')) : "/>
				<bind name="gotoAndPlay!" value="'issued'"/>
			</block>
		</block>
	</block>
	<block className="ShipResearchBlock">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'accountGold';	['resourceEntity.accountResource.evChangedGold'];	resourceEntity.accountResource.gold"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'realmConstants'"/>
		<styleClass value="$InfoBlockIndent"/>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'PriceTagWithLabel'; isOwned ? null
														: (!(upgradableShipInfo.isExplored) &amp;&amp; !(upgradableShipInfo.dependencyResearched)) || (!(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0)? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _label: 'IDS_RESEARCH_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true}
														: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice &lt; 0) ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _medium : true }
														: null"/>
		</block>
		<bind name="firstEntityDH" value="'loginEntity'; CC.loginData"/>
		<bind name="watchDH" value="'isLazyLogin'; ['loginEntity.loginData.evUpdate']; (loginEntity.loginData.currentLoginType == 'DEMO')"/>
		<block>
			<style>
				<width value="220px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="action" value="'click'; (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? 'forceCreateAccount' : null"/>
			<bind name="instance" value="'DefaultButtonCostMedium'; isOwned ? null
													: !(upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0) &amp;&amp; ((shipInfo.group == 'upgradeable') || (shipInfo.group == 'upgradeableExclusive')) ? { _label: toUpperCase(tr('IDS_DO_RESEARCH')), priceInfo: (upgradableShipInfo.totalCostXP == shipExplorePrice.prices[0].finalPrice ? shipExplorePrice.prices[0] : { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }), _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'researchShip', _actionParams: { shipId: shipInfo.id}, _enabled: ( upgradableShipInfo.dependencyResearched &amp;&amp; (upgradableShipInfo.expDeficit &lt;= 0)), _showDiscountTag:true, _name: 'ButtonShipResearch' }
													: (upgradableShipInfo.isExplored) &amp;&amp; (upgradableShipInfo.creditsDeficit &lt;= 0) &amp;&amp; !(shipInfo.isPremium) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: (upgradableShipInfo.creditsDeficit &lt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium  &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice &gt;= 0) ? { _label: toUpperCase(tr('IDS_DO_PURCHASE')), priceInfo: shipBuyPrice.prices[0], _action: (isLazyLogin &amp;&amp; (shipInfo.level &gt; realmConstants.lazyAccountMaxShipTier)) ? null : 'purchaseShip', _actionParams: { shipId: shipInfo.id}, _enabled: ((accountGold - shipBuyPrice.prices[0].finalPrice) &gt;= 0), _showDiscountTag:true, _name: 'ButtonShipPurchase' }
													: null "/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'StatusLineWithIcon'; upgradableShipInfo.dependencyResearched || upgradableShipInfo.isExplored 	? null
																												: { _text: 'IDS_RESEARCH_PREVIOUS_SHIPS', _positive: false} "/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="instance" value="'PriceDeficit'; isOwned 	? null
													: !(upgradableShipInfo.dependencyResearched) ? null
													: !(upgradableShipInfo.isExplored) &amp;&amp; upgradableShipInfo.expDeficit &gt; 0 ? { priceInfo: { finalPrice: upgradableShipInfo.totalCostXP, currency: 'exp' }, _deficit: upgradableShipInfo.expDeficit,  _tooltipText: 'IDS_TOOLTIP_NO_XP'}
													: upgradableShipInfo.isExplored &amp;&amp; upgradableShipInfo.creditsDeficit &gt; 0 &amp;&amp; !(shipInfo.isPremium) ? { priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: upgradableShipInfo.creditsDeficit, _tooltipText: 'IDS_TOOLTIP_NO_CREDITS'}
													: upgradableShipInfo.isExplored &amp;&amp; shipInfo.isPremium &amp;&amp; (accountGold - shipBuyPrice.prices[0].finalPrice)  &lt; 0 ? {priceInfo: shipBuyPrice.prices[0], _label: 'IDS_PURCHASE_COST', _deficit: -(accountGold - shipBuyPrice.prices[0].finalPrice), _tooltipText: 'IDS_TOOLTIP_NO_GOLD' }
													: null"/>
		</block>
		<block>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_HINT_SHIP_EXPERIENCE_USAGE'}; 0"/>
			<bind name="instance" value="'CurrentXPLarge'; isOwned ? { _exp: playerShipInfo.exp, _label: 'IDS_SHIP_EXPERIENCE'} : null "/>
		</block>
	</block>
	<block className="TaskBattleStats">
		<bind name="appear" value="'addedToStage'; 0.15; 0.15; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<bind name="style" value="'width'; localWeatherEntity  ? '1000px' : '500px'"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<block>
			<block>
				<bind name="instance" value="(gameInfo.gameModeId == GameMode.PVE) ? 'PVEBattleGoal' : 'PVPBattleGoal'; { _gameInfo: gameInfo }"/>
			</block>
			<block>
				<bind name="instance" value="'TasksList'; { _gameInfo: gameInfo }"/>
			</block>
		</block>
		<block>
			<style>
				<marginLeft value="50px"/>
				<width value="450px"/>
			</style>
			<bind name="firstEntityDH" value="'localWeatherEntity'; CC.localWeather"/>
			<bind name="instance" value="'LocalWeatherDescription'; localWeatherEntity ? {} : null"/>
		</block>
	</block>
	<block className="PVEBattleGoal">
		<style>
			<width value="500px"/>
			<marginBottom value="24px"/>
		</style>
		<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
		<bind name="watchDH" value="'chosenOperationId'; ['']; pveStateEntity.pveState.chosenOperation"/>
		<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
		<block type="text">
			<style>
				<marginBottom value="12px"/>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefaultBold23NM"/>
			<bind name="text" value="'IDS_PVE_OPERATION_GOAL'"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<leading value="-3"/>
				<alpha value="0.85"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="text" value="tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_GOAL')"/>
		</block>
	</block>
	<block className="PVPBattleGoal">
		<style>
			<width value="500px"/>
			<marginBottom value="24px"/>
		</style>
		<block type="text">
			<styleClass value="$TextDefaultBold23NM"/>
			<style>
				<width value="100%"/>
				<marginBottom value="12px"/>
			</style>
			<bind name="text" value="_gameInfo.gameModeId == GameMode.TUTORIAL ? tr('IDS_YOUR_GOAL') : tr('IDS_TEAM_GOALS')"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginBottom value="24px"/>
				<leading value="-3"/>
				<alpha value="0.85"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="text" value="_gameInfo.gameModeDescription"/>
		</block>
	</block>
	<block className="LocalWeatherDescription">
		<style>
			<width value="100%"/>
		</style>
		<bind name="firstEntityDH" value="'localWeatherEntity'; CC.localWeather"/>
		<bind name="watchDH" value="'gpName'; ['localWeatherEntity.localWeather.evChanged']; localWeatherEntity.localWeather.gpName"/>
		<bind name="watch" value="'weatherBulletsCount'; gpName == 'PCOW012_Night_Logic'			? 3 :
										gpName == 'PCOW013_1April_Hailstorm'	? 3 :
										gpName == 'PCOW014_1April_Cloudburst'	? 3 :
										gpName == 'PCOW015_1April_IceCrumbs'	? 0
																				: 0"/>
		<block type="text">
			<style>
				<marginBottom value="12px"/>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefaultBold23NM"/>
			<bind name="text" value="tr(toUpperCase('IDS_LOCAL_WEATHER_SHIP_PARAM_HEADER_' + gpName))"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginBottom value="14px"/>
				<leading value="-3"/>
				<alpha value="0.85"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="text" value="tr(toUpperCase('IDS_LOCAL_WEATHER_DESCRIPTION_' + gpName))"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<alpha value="0.85"/>
			</style>
			<bind name="repeat" value="weatherBulletsCount; 'ListWithBulletsElement'; {_marginBottom: '12px', _bulletType: '-', _textClass: '$TextDefault19NM', _text: ('IDS_LOCAL_WEATHER_DESCRIPTION_ITEM_' + toUpperCase(gpName) + '_'), _bulletIndex: true}"/>
		</block>
	</block>
	<block className="TasksList">
		<style>
			<width value="500px"/>
		</style>
		<bind name="collectionDH" value="CC.task; 'primaryTasksCollection'; 'category.primary'"/>
		<bind name="collectionDH" value="CC.task; 'secondaryTasksCollection'; 'category.secondary'"/>
		<bind name="watch" value="'headerTextPrimary'; 	(_gameInfo.gameModeId == GameMode.PVE) ? 'IDS_PRIMARYHEADER' 	: 'IDS_PVP_PERSONAL_TASK'"/>
		<bind name="watch" value="'headerTextSecondary'; (_gameInfo.gameModeId == GameMode.PVE) ? 'IDS_SECONDARYHEADER' 	: 'IDS_PVP_PERSONAL_TASK'"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="primaryTasksCollection.length &gt; 0"/>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="4px"/>
				</style>
				<bind name="instance" value="'TasksHeader'; {_headerText: headerTextPrimary}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="12px"/>
				</style>
				<bind name="collectionRepeatDH" value="CC.task; 'TaskItemScenario'; 'category.primary'; {}"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="visible" value="secondaryTasksCollection.length &gt; 0"/>
			<block>
				<style>
					<width value="100%"/>
					<marginBottom value="4px"/>
				</style>
				<bind name="instance" value="'TasksHeader'; {_headerText: headerTextSecondary}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="collectionRepeatDH" value="CC.task; 'TaskItemScenario'; 'category.secondary'; {}"/>
			</block>
		</block>
	</block>
	<block className="TasksHeader">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<style>
				<marginBottom value="12px"/>
				<width value="100%"/>
			</style>
			<styleClass value="$TextDefaultBold23NM"/>
			<bind name="text" value="_headerText"/>
		</block>
	</block>
	<block className="TaskItemScenario">
		<bind name="watchDH" value="'name'; []; $dataRef.ref.task ? $dataRef.ref.task.name : name"/>
		<bind name="watchDH" value="'type'; []; $dataRef.ref.task ? $dataRef.ref.task.progressType : type"/>
		<bind name="watchDH" value="'status'; ['$dataRef.ref.task.evStatusChanged']; $dataRef.ref.task ? $dataRef.ref.task.status : status"/>
		<bind name="dataRefDH" value="'progress'; '$dataRef.ref.progress'"/>
		<bind name="watchDH" value="'progressValue'; ['progress.evChanged']; $dataRef.ref.progress ? progress.value : progressValue"/>
		<bind name="watchDH" value="'progressMax'; ['progress.evChanged']; $dataRef.ref.progress ?  progress.max : progressMax"/>
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
			<marginBottom value="12px"/>
		</style>
		<bind name="watch" value="'taskText'; '&lt;body&gt;' + tr('IDS_BATTLE_TASK_TEXT_' + name) + ((type != null &amp;&amp; type == 1)	? ('&lt;h3&gt; ('+ progressValue + '/' + progressMax + ')&lt;/h3&gt;&lt;/body&gt;')
																																: '&lt;/body&gt;')"/>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_task_status" type="native">
				<bind name="gotoAndStop!" value="status == 2		? 'success' :
								status == 0 ? 'not_started' :
								status == 1	? 'not_started'
																		: 'fail'"/>
			</block>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginLeft value="24px"/>
				<leading value="-3"/>
				<styleSheet value="h3{color: #9CBABA}"/>
			</style>
			<bind name="style" value="'alpha'; status == 3 || status == 2  ? 0.5 : 0.85"/>
			<styleClass value="$TextDefault19NM"/>
			<bind name="text" value="taskText"/>
		</block>
	</block>
	<block className="ListWithBullets">
		<style>
			<width value="100%"/>
		</style>
		<bind name="repeat" value="_bulletsArr; 'ListWithBulletsElement'; {_width: _width, _bulletType: _bulletType, _textClass: _textClass}"/>
	</block>
	<block className="ListWithBulletsElement">
		<bind name="watch" value="'bulletIndex'; _bulletIndex ? _bulletIndex : false"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="style" value="'marginBottom'; _marginBottom ? _marginBottom : '12px'"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<bind name="visible" value="_bulletType != 'none'"/>
				<style>
					<marginRight value="10px"/>
					<width value="100%f"/>
				</style>
				<bind name="class" value=" _textClass ? _textClass : '$TextDefaultNM'"/>
				<bind name="text" value="_bulletType ? _bulletType : '•'"/>
			</block>
			<block type="text">
				<style>
					<leading value="-3"/>
					<width value="100%"/>
				</style>
				<bind name="class" value=" _textClass ? _textClass : '$TextDefaultNM'"/>
				<bind name="text" value="_text	? bulletIndex == true	? _text + ($index + 1) 
														: _text
								: $value"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="BattleGalleryItem">
		<block>
			<bind name="child" value="_image.type; { _image 	: _image, 
									_width	: '900px', 
									_height	: '382px' }; {	Default 	: 'DefaultPngViewer',
															Hotkey 		: 'HotkeyViewer',
															Indicator	: 'IndicatorViewer'
														}"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="0px"/>
			</style>
			<bind name="instance" value="'TextRenderer'; { _description: _description }"/>
		</block>
	</block>
	<block className="DefaultPngViewer">
		<bind name="style" value="'width'; _width"/>
		<bind name="style" value="'height'; _height"/>
		<bind name="style" value="'backgroundImage'; (_image != null) ? _image.imagePath : _imagePath"/>
	</block>
	<block className="HotkeyViewer">
		<block>
			<bind name="instance" value="'DefaultPngViewer'; { _width: _width, _height: _height, _image: _image }"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<left value="108px"/>
				<bottom value="42px"/>
			</style>
			<block type="text">
				<style>
					<marginLeft value="-50%"/>
				</style>
				<bind name="text" value="tr(_image.hotkey)"/>
				<bind name="substitute" value="'KEYS'; 5; null; tr(_image.hotkey); '_bg'"/>
			</block>
		</block>
	</block>
	<block className="IndicatorViewer">
		<block>
			<bind name="instance" value="'DefaultPngViewer'; { _width: _width, _height: _height, _image: _image }"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="377px"/>
				<top value="46px"/>
				<width value="150px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<backgroundImage value="symbol:icon_visibility_ship"/>
				</style>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="27px"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="150"/>
						<textAlign value="center"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorUnready'"/>
					<bind name="text" value="toUpperCase(tr(_image.indicatorText))"/>
				</block>
			</block>
		</block>
	</block>
	<block className="TextRenderer">
		<style>
			<width value="360px"/>
			<height value="382px"/>
			<backgroundColor value="0x50000000"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="30px"/>
				<marginLeft value="20px"/>
				<marginRight value="20px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<style>
						<maxWidth value="320"/>
						<textAlign value="center"/>
					</style>
					<styleClass value="$TextHeaderWhiteBold"/>
					<bind name="text" value="toUpperCase(tr(_description.textHeader))"/>
				</block>
			</block>
			<block>
				<styleClass value="$DefaultScrollBar"/>
				<style>
					<width value="100%"/>
					<height value="290px"/>
					<marginTop value="15px"/>
					<overflow value="scroll"/>
				</style>
				<block type="text">
					<style>
						<maxWidth value="320"/>
						<leading value="2.5"/>
					</style>
					<styleClass value="$TextHeader"/>
					<bind name="substitute" value="'KEYS'; 6; null; tr(_description.text); '_bg'"/>
				</block>
			</block>
		</block>
	</block>
	<css name="$ConfirmationWindowWidth">
		<width value="472px"/>
	</css>
	<css name="$ModalWindowDefaultWidth">
		<width value="472px"/>
	</css>
	<css name="$ModalWindowLargeCostMargins">
		<marginLeft value="5px"/>
		<marginRight value="4px"/>
	</css>
	<css name="$SelectTypeListItem">
		<width value="100%"/>
		<height value="74px"/>
	</css>
	<css name="$SelectTypeListItemIndent">
		<marginBottom value="15px"/>
		<marginTop value="15px"/>
		<marginLeft value="21px"/>
		<marginRight value="21px"/>
	</css>
	<block className="ModalWindowOkCancelRequest">
		<style>
			<flow value="horizontal"/>
			<marginTop value="15px"/>
		</style>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.60; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<styleClass value="$InfoLineBoundaries"/>
			<style>
				<width value="129px"/>
				<marginRight value="20px"/>
			</style>
			<bind name="instance" value="'DefaultButton'; {	_width: '129px', _request: _request, _requestParams: _requestParams, _enabled: true, _isTransactionBtn: true,
											_containerName: ('Modal_window_action_Button' + _okLabel), _label: _okLabel,
											_focusIndex: 1, _defaultFocused: true,
											_name: 'btn_ok'}"/>
		</block>
		<block>
			<style>
				<width value="129px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
			<bind name="appear" value="'startHide'; 0.15; 0.45; {alpha: 1, top: 0}; {alpha: 0, top: -10}"/>
			<block className="DefaultButtonModal">
				<styleClass value="$InfoLineBoundaries"/>
				<style>
					<width value="100%"/>
				</style>
				<bind name="name" value="'Modal_window_action_Button' + _cancelLabel"/>
				<block className="button_default" type="native">
					<style>
						<width value="100%"/>
					</style>
					<bind name="label" value="_cancelLabel"/>
					<params>
						<param name="name" value="btn_cancel"/>
					</params>
					<bind name="input"/>
					<bind name="focus" value="2;false"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowUniversalHeader">
		<style>
			<marginBottom value="720:32,1080:64ah"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '100%'"/>
		<block>
			<bind name="visible" value="_header != null"/>
			<style>
				<width value="100%"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="center"/>
					<marginTop value="12px"/>
				</style>
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="720:9,1080:11ah"/>
				</style>
				<block className="HorizontalDivider">
					<styleClass value="$PxHorizontalCorrection"/>
					<style>
						<width value="100%"/>
						<height value="3px"/>
					</style>
					<block className="divider_h" type="native">
						<styleClass value="$Fullsize"/>
					</block>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="!_hideBackButton"/>
			<style>
				<position value="absolute"/>
				<top value="7px"/>
			</style>
			<bind name="instance" value="'BackButton'; {_text: 'IDS_RETURN_TO_DOCK', _action: 'btn_cancel'}"/>
		</block>
		<block>
			<bind name="visible" value="!_hideCloseButton"/>
			<style>
				<position value="absolute"/>
			</style>
			<bind name="style" value="'right'; _innerCloseButton ? '60px' : '8px'"/>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="0px"/>
					<top value="13px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
					<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
					<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
					<block>
						<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
						<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
						<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
						<style>
							<alpha value="0.8"/>
						</style>
						<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
						<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<block className="button_close" type="native">
							<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
							<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
							<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
							<params>
								<param name="focusable" value="false"/>
							</params>
							<bind name="gotoAndPlay!" value="CrossButtonStates"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeader">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
			<block>
				<styleClass value="$AlignRight"/>
				<bind name="style" value="'right'; _innerCloseButton ? '60px' : '0px'"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<position value="absolute"/>
				<bottom value="-3"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderConfirmation">
		<style>
			<marginBottom value="3px"/>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icon_warning_grey_big" type="native">
					<style>
						<marginTop value="6px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<text value="IDS_CONFIRMATION"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="-70px"/>
					<top value="9px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
					<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
					<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
					<block>
						<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
						<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
						<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
						<style>
							<alpha value="0.8"/>
						</style>
						<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
						<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<block className="button_close" type="native">
							<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
							<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
							<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
							<params>
								<param name="focusable" value="false"/>
							</params>
							<bind name="gotoAndPlay!" value="CrossButtonStates"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderNoEsc">
		<style>
			<marginBottom value="3px"/>
			<width value="450px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader5'"/>
				<bind name="class" value="'$Bold'"/>
				<bind name="class" value="'$FontColorWhite'"/>
				<bind name="text" value="toUpperCase(tr(_header))"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginRight value="-12px"/>
				<marginLeft value="-12px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderWithIcon">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '450px'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icons_modal_window_heading" type="native">
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginRight value="3px"/>
					</style>
					<bind name="gotoAndStop!" value="_type"/>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="toUpperCase(tr(_header))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="_showInnerCloseButton"/>
				<styleClass value="$AlignRight"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderOptionalIcon">
		<style>
			<marginBottom value="3px"/>
		</style>
		<bind name="style" value="'width'; _headerWidth ? _headerWidth : '100%'"/>
		<block>
			<style>
				<marginBottom value="9px"/>
				<width value="100%"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block className="icon_warning_grey_big" type="native">
					<bind name="visible" value="_showIcon"/>
					<style>
						<marginTop value="6px"/>
					</style>
				</block>
				<block type="text">
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="text" value="toUpperCase(tr(_header))"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="_showInnerCloseButton"/>
				<styleClass value="$AlignRight"/>
				<block className="ModalWindowCloseIcon">
					<style>
						<position value="absolute"/>
						<right value="-50px"/>
						<top value="9px"/>
						<flow value="horizontal"/>
					</style>
					<bind name="name" value="'btn_cancel'"/>
					<bind name="input"/>
					<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
					<block>
						<styleClass value="$MiddleVAligned"/>
						<style>
							<backgroundColor value="0x01000000"/>
						</style>
						<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
						<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
						<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
						<block>
							<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
							<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
							<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
							<style>
								<alpha value="0.8"/>
							</style>
							<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
							<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
						</block>
						<block>
							<style>
								<marginTop value="3px"/>
							</style>
							<block className="button_close" type="native">
								<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
								<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
								<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
								<params>
									<param name="focusable" value="false"/>
								</params>
								<bind name="gotoAndPlay!" value="CrossButtonStates"/>
							</block>
						</block>
						<style>
							<flow value="horizontal"/>
						</style>
					</block>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ModalWindowHeaderFullSize">
		<style>
			<width value="100%"/>
			<paddingRight value="1280:20,1920:46aw"/>
			<paddingLeft value="1280:20,1920:46aw"/>
			<paddingTop value="720:20,2160:100ah"/>
		</style>
		<block>
			<bind name="visible" value="_hideBackButton != true"/>
			<style>
				<position value="absolute"/>
				<marginTop value="-3px"/>
			</style>
			<bind name="instance" value="'BackButton'; { _text: _backButtonText,
										_event: _event, _eventData: _eventData,
										_action: _action, _actionParams: _actionParams,
										_request: _request, _requestParams: _requestParams }"/>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="toUpperCase(tr(_windowName))"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_hideCloseIcon != true"/>
			<style>
				<position value="absolute"/>
				<right value="4"/>
				<top value="2"/>
			</style>
			<block className="ModalWindowCloseIcon">
				<style>
					<position value="absolute"/>
					<right value="0px"/>
					<top value="0px"/>
					<flow value="horizontal"/>
				</style>
				<bind name="name" value="'btn_cancel'"/>
				<bind name="input"/>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_CLOSE'}; 0"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="dispatch" value="'mouseOver'; 'overEscapeButton'"/>
					<bind name="dispatch" value="'mouseOut'; 'upEscapeButton'"/>
					<bind name="dispatch" value="'mouseDown'; 'downEscapeButton'"/>
					<block>
						<bind name="catch" value="'overEscapeButton'; {EscapeButtonOverAlpha: 1}"/>
						<bind name="catch" value="'upEscapeButton'; {EscapeButtonOverAlpha: 0.8}"/>
						<bind name="catch" value="'downEscapeButton'; {EscapeButtonOverAlpha: 0.4}"/>
						<style>
							<alpha value="0.8"/>
						</style>
						<bind name="style" value="'alpha'; EscapeButtonOverAlpha"/>
						<bind name="instance" value="'HotkeyWithText'; {_text: 'ESC'}"/>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<block className="button_close" type="native">
							<bind name="catch" value="'overEscapeButton'; {CrossButtonStates: 'over'}"/>
							<bind name="catch" value="'upEscapeButton'; {CrossButtonStates: 'up'}"/>
							<bind name="catch" value="'downEscapeButton'; {CrossButtonStates: 'down'}"/>
							<params>
								<param name="focusable" value="false"/>
							</params>
							<bind name="gotoAndPlay!" value="CrossButtonStates"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="_hideDivider != true"/>
			<style>
				<width value="100%"/>
				<marginTop value="720:12,1080:16ah"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="LootboxesBanner">
		<params>
			<param name="name" value="LootboxesBanner"/>
		</params>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="firstEntityDH" value="'lootboxEntity'; CC.lootboxConfigComponent"/>
		<bind name="watchDH" value="'maxBought';				['lootboxEntity.lootboxConfigComponent.evUpdate'];	lootboxEntity.lootboxConfigComponent.maxBought"/>
		<bind name="watchDH" value="'lootboxExp';			['lootboxEntity.lootboxStorageComponent.evUpdate'];	lootboxEntity.lootboxStorageComponent.lootExp"/>
		<bind name="watchDH" value="'boughtToday';			['lootboxEntity.lootboxStorageComponent.evUpdate'];	lootboxEntity.lootboxStorageComponent.boughtToday"/>
		<bind name="watchDH" value="'lootboxesInStorage';	['lootboxEntity.lootboxStorageComponent.evUpdate'];	lootboxEntity.lootboxStorageComponent.inStorage"/>
		<bind name="watch" value="'allBoxesBought'; (maxBought == boughtToday)"/>
		<bind name="watch" value="'canBuyLootbox'; (lootboxExp &gt;= lootboxEntity.lootboxConfigComponent.prices[boughtToday])"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0.3; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<style>
			<width value="223px"/>
			<height value="36px"/>
		</style>
		<bind name="style" value="'height'; allBoxesBought ? '36px' : '72px'"/>
		<bind name="action" value="'click'; 'moveToBarge'; {}"/>
		<bind name="feature" value="21; 'click'"/>
		<bind name="soundSet" value="'lootbox_banner'"/>
		<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_GO_TO_LOOTBOXES'}], _maxWidth: 250 }; 0"/>
		<block>
			<styleClass value="$Fullsize"/>
			<block className="quest_thumb_title" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="transition" value="rollOver &amp;&amp; !(mouseDown); 0.15; {alpha: 0.75}; {alpha: 1.0}"/>
			</block>
			<block>
				<bind name="visible" value="!(allBoxesBought)"/>
				<styleClass value="$Fullsize"/>
				<bind name="instance" value="'LootboxesBannerProgress'; {}"/>
			</block>
			<block>
				<bind name="visible" value="allBoxesBought"/>
				<styleClass value="$Fullsize"/>
				<bind name="instance" value="'LootboxesBannerTimer'; {}"/>
			</block>
			<block>
				<style>
					<marginRight value="3px"/>
					<width value="71px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
				<block>
					<bind name="visible" value="canBuyLootbox == true"/>
					<styleClass value="$MiddleVAligned"/>
					<styleClass value="$MiddleAlignedAbsolutely"/>
					<block className="icon_lootbox_glow_animation" type="native">
						<style>
							<position value="absolute"/>
						</style>
					</block>
				</block>
				<block className="icon_lootbox" type="native">
					<bind name="transition" value="rollOver &amp;&amp; !(mouseDown); 0.15; {alpha: 0.95}; {alpha: 1}"/>
					<bind name="gotoAndStop!" value="'normal'"/>
				</block>
				<block type="text">
					<bind name="visible" value="(lootboxesInStorage &gt; 0)"/>
					<bind name="style" value="'bottom'; allBoxesBought ? '-6px' : '-9px'"/>
					<style>
						<right value="0px"/>
						<position value="absolute"/>
					</style>
					<styleClass value="$TextLargeHeaderBold"/>
					<bind name="class" value="'$FontSizeHeader3'"/>
					<bind name="text" value="'x'+lootboxesInStorage"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="LootboxesBannerProgress">
		<bind name="firstEntityDH" value="'lootboxEntity'; CC.lootboxConfigComponent"/>
		<bind name="watchDH" value="'lootboxExp'; ['lootboxEntity.lootboxStorageComponent.evUpdate']; lootboxEntity.lootboxStorageComponent.lootExp"/>
		<bind name="watchDH" value="'boughtToday'; ['lootboxEntity.lootboxStorageComponent.evUpdate']; lootboxEntity.lootboxStorageComponent.boughtToday"/>
		<bind name="watchDH" value="'lootboxesInStorage'; ['lootboxEntity.lootboxStorageComponent.evUpdate']; lootboxEntity.lootboxStorageComponent.inStorage"/>
		<bind name="watch" value="'curLootboxPrice'; lootboxEntity.lootboxConfigComponent.prices[boughtToday]"/>
		<bind name="watch" value="'expToCurLootbox'; (lootboxExp &gt;= curLootboxPrice)	? 0
																	: (curLootboxPrice - lootboxExp)"/>
		<bind name="watch" value="'nextLootboxProgress'; ((expToCurLootbox &gt; 0) ? ( lootboxExp / curLootboxPrice) : 1)"/>
		<styleClass value="$Fullsize"/>
		<style>
			<marginLeft value="9px"/>
		</style>
		<block>
			<style>
				<marginTop value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextLargeHeaderBold"/>
				<bind name="text" value="format(lootboxExp, -1)"/>
			</block>
			<block className="icon_exp" type="native">
				<style>
					<marginLeft value="-3px"/>
				</style>
				<styleClass value="$MiddleVAligned"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<top value="32px"/>
			</style>
			<bind name="instance" value="'LootboxProgressBar'; {_width: 132, _height: 9, _curValue: (nextLootboxProgress*10)}"/>
		</block>
		<block type="text">
			<style>
				<marginTop value="12px"/>
			</style>
			<styleClass value="$TextDefaultBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="class" value="'$FontSizeSmall'"/>
			<bind name="text" value="(expToCurLootbox &gt; 0 ? (toUpperCase(tr('IDS_MORE')) + ' ' + expToCurLootbox)
										 : toUpperCase(tr('IDS_YOU_SHOULD_PURCHASE_LOOTBOX')))"/>
		</block>
	</block>
	<block className="LootboxesBannerTimer">
		<bind name="firstEntityDH" value="'lootboxEntity'; CC.lootboxConfigComponent"/>
		<bind name="watchDH" value="'dropTimeStamp';	['lootboxEntity.lootboxStorageComponent.evUpdate'];	lootboxEntity.lootboxStorageComponent.dropAt"/>
		<bind name="countdown" value="dropTimeStamp; 'countdownText'; 'hh:mm:ss'"/>
		<styleClass value="$MiddleVAligned"/>
		<styleClass value="$MiddleAligned"/>
		<block type="text">
			<styleClass value="$TextHeaderWhiteBold"/>
			<bind name="class" value="'$FontColorUnready'"/>
			<bind name="pureText" value="'-' + countdownText"/>
		</block>
	</block>
	<block className="LootboxProgressBar">
		<bind name="style" value="'width'; _width+'px'"/>
		<bind name="style" value="'height'; _height+'px'"/>
		<block className="indicator_progress_bar_yellow" type="native">
			<styleClass value="$Fullsize"/>
			<bind name="value" value="_curValue"/>
		</block>
	</block>
	<block className="ParamsModifierItem">
		<style>
			<width value="100%"/>
			<flow value="horizontal"/>
			<marginBottom value="16px"/>
		</style>
		<bind name="style" value="'paddingTop'; (_shrinkHeight == true) ? '-8px' : '0'"/>
		<block type="text">
			<styleClass value="$TextDefaultNM"/>
			<style>
				<leading value="-3"/>
				<alpha value="0.8"/>
				<width value="100%"/>
			</style>
			<bind name="text" value="attributeIDS"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="12px"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="class" value="category == 'positive' ? '$FontColorComparePositive' : 
					 category == 'negative'	? '$FontColorCompareNegative'
					 						: '$FontColorDefault'"/>
			<bind name="text" value="measuredValue"/>
		</block>
		<block type="text">
			<style>
				<marginLeft value="4px"/>
			</style>
			<styleClass value="$TextDefaultNM"/>
			<bind name="style" value="'alpha'; category == 'positive' ? 0.65 : 0.8"/>
			<bind name="class" value="category == 'positive' ? '$FontColorComparePositive' : 
					 category == 'negative'	? '$FontColorCompareNegative'
					 						: '$FontColorDefault'"/>
			<bind name="text" value="measure"/>
		</block>
	</block>
	<block className="ParamsModifierList">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_attributesPositive; 'ParamsModifierItem'; {_shrinkHeight: _shrinkHeight}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_attributesNegative; 'ParamsModifierItem'; {_shrinkHeight: _shrinkHeight}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="repeat" value="_attributesNeutral; 'ParamsModifierItem'; {_shrinkHeight: _shrinkHeight}"/>
		</block>
	</block>
	<css name="$TextHeaderLargeBold">
		<mouseChildren value="false"/>
		<mouseEnabled value="false"/>
		<fontFamily value="$WWSDefaultFontBold"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xFFFFFF"/>
	</css>
	<css name="$TableCell">
		<width value="100%"/>
		<height value="23px"/>
	</css>
	<css name="$TableHeaderCell">
		<width value="100%"/>
		<marginBottom value="12px"/>
		<height value="23px"/>
	</css>
	<css name="$TableCellTextValue">
		<position value="absolute"/>
		<right value="0px"/>
	</css>
	<css name="$TextAccentGreyBold1">
		<fontFamily value="$WWSDefaultFontBold"/>
		<textColor value="0xDDDDDD"/>
		<fontSize value="70"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
	</css>
	<block className="StatColumn">
		<style>
			<width value="33%"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5_feather" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="12px"/>
				<marginRight value="12px"/>
			</style>
			<bind name="repeat" value="array[$index]; 'StatRowProxy'; {statData: statData}"/>
		</block>
	</block>
	<block className="StatRowProxy">
		<style>
			<width value="100%"/>
		</style>
		<bind name="instance" value=" isHeader ? 'StatItemHeader' : 'StatRow'; {header: header, title:title, value:value, statData: statData, hintVehicleId: hintVehicleId}"/>
	</block>
	<block className="StatItemHeader">
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: title + '_TOOLTIP_PROFILE'}"/>
		<style>
			<backgroundColor value="0x01000000"/>
		</style>
		<styleClass value="$TableHeaderCell"/>
		<block type="text">
			<styleClass value="$TextHeaderLargeBold"/>
			<bind name="text" value="title"/>
		</block>
		<block type="text">
			<styleClass value="$TableCellTextValue"/>
			<styleClass value="$TextHeaderLargeBold"/>
			<bind name="text" value="value"/>
		</block>
	</block>
	<block className="StatRow">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; hintVehicleId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<styleClass value="$TableCell"/>
		<bind name="tooltip" value="tooltipName; (tooltipName != null) ? tooltipParams  : null"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block>
				<bind name="tooltip" value="'StatsRowHint'; 	(tooltipName == null) ? { tooltipText: title + '_TOOLTIP_PROFILE', shipInfo: shipInfo, _hintVehicleId: hintVehicleId } : null"/>
				<style>
					<width value="100%"/>
					<backgroundColor value="0x01000000"/>
				</style>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<block type="text">
						<style>
							<width value="100%"/>
							<multiline value="false"/>
						</style>
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="text" value="title"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="value != null"/>
					<block type="text">
						<styleClass value="$TextHeaderBigDefault"/>
						<bind name="style" value="'alpha'; (value == 0) || (value == '0%') ? 0.5 : 1"/>
						<bind name="text" value="value == '100%' ? value : format(value)"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<bind name="visible" value="(playerPointsCounter != null) || (totalPointsCounter != null)"/>
				<bind name="instance" value="'ScoreRatioCounter'; { 	_playerPointsCounter: format(playerPointsCounter), 
													_totalPointsCounter: format(totalPointsCounter),
													_tooltipTextPlayerResult: tooltipTextPlayerResult, 
													_tooltipTextTotalResult: tooltipTextTotalResult }"/>
			</block>
			<block>
				<bind name="visible" value="currency != null"/>
				<bind name="instance" value="'PriceTag'; { priceInfo: {finalPrice: finalPrice, currency: currency}, _medium: true} "/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="-2px"/>
			</style>
			<bind name="instance" value="'TableDivider'; {}"/>
		</block>
	</block>
	<block className="PlayerSummary">
		<bind name="var" value="{curSeasonIndex: 0}"/>
		<bind name="catch" value="'curSeasonIndexChanged'"/>
		<bind name="collectionDH" value="CC.rankedSeasonHistory; 'statDataEntities'; 'statToShow'"/>
		<bind name="entityDH" value="'statDataEntity'; statDataEntities[0].id"/>
		<bind name="watchDH" value="'statData'; ['statDataEntity.dataComponent.evDataChanged']; statDataEntity.dataComponent.data"/>
		<bind name="watchDH" value="'shipsList'; ['statDataEntity.dataComponent.evDataChanged']; statDataEntity.dataComponent.data.shipsList"/>
		<styleClass value="$Fullsize"/>
		<bind name="watch" value="'battleType';	_curItemIndex == 0	? BattleTypes.COOPERATIVE_BATTLE :
								_curItemIndex == 1	? BattleTypes.RANDOM_BATTLE :
								_curItemIndex == 2	? BattleTypes.RANKED_BATTLE :
								_curItemIndex == 3	? BattleTypes.CLUB_BATTLE
													: BattleTypes.COOPERATIVE_BATTLE "/>
		<bind name="action" value="'battleType' + varChanged; 'battleTypeChanged'; {battleType: battleType}"/>
		<bind name="action" value="'addedToStage'; 'battleTypeChanged'; {battleType: battleType}"/>
		<style>
			<marginTop value="720:30,1080:80ah"/>
			<marginBottom value="720:0,1080:60ah"/>
		</style>
		<bind name="feature" value="3;''"/>
		<bind name="feature" value="16;''"/>
		<bind name="feature" value="24;	''"/>
		<bind name="firstEntityDH" value="'clubHistoryEntity'; CC.rankedSeasonHistory; 'byGameType.' + BattleTypes.CLUB_BATTLE"/>
		<bind name="watchDH" value="'hasClubHistoryData'; ['clubHistoryEntity.rankedSeasonHistory.evRankedSeasonHistoryDataUpdate']; clubHistoryEntity.rankedSeasonHistory.hasGamesPlayed"/>
		<bind name="watch" value="'battleTypes';  feature_3	== 'locked' ? ['IDS_COOPERATIVE_BATTLE'] :
								 feature_16 == 'locked'	? ['IDS_COOPERATIVE_BATTLE', 'IDS_RANDOM_BATTLE'] :
								 !hasClubHistoryData 	? ['IDS_COOPERATIVE_BATTLE', 'IDS_RANDOM_BATTLE', 'IDS_RANKED_BATTLE']
								 						: ['IDS_COOPERATIVE_BATTLE', 'IDS_RANDOM_BATTLE', 'IDS_RANKED_BATTLE', 'IDS_CLUB_BATTLE']"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="instance" value="'PlayerSummaryItem'; {_battleType: battleType, _curItemIndex: _curItemIndex, _curSeasonIndex: curSeasonIndex, statData:statData, currentVehicleId: statData.vehicleId}"/>
		</block>
		<block>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<position value="absolute"/>
				<width value="230px"/>
				<marginTop value="-40px"/>
				<right value="1280:10,1920:20aw"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<width value="230px"/>
				</style>
				<block>
					<style>
						<height value="30px"/>
						<top value="-3px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<bind name="instance" value="'RankedSeasonDropdown'; battleType == BattleTypes.RANKED_BATTLE ? {statData: statData, _curSeasonIndex: curSeasonIndex}: null"/>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block>
						<style>
							<width value="152px"/>
						</style>
						<block className="icon_battletypes_big" type="native">
							<bind name="transition" value="statData.vehicleId != 0; 0.15; {alpha: 1}; {alpha: 0.7}"/>
							<styleClass value="$MiddleAligned"/>
							<bind name="gotoAndStop!" value="battleType"/>
						</block>
						<block className="battle_type_overlay_big" type="native">
							<bind name="visible" value="statData.vehicleId != 0"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<position value="absolute"/>
								<alpha value="0.6"/>
							</style>
						</block>
						<block>
							<style>
								<position value="absolute"/>
								<top value="-3"/>
								<left value="-10"/>
							</style>
							<bind name="instance" value="'RankedSeasonFlag'; battleType == BattleTypes.RANKED_BATTLE ? {_curSeasonIndex: curSeasonIndex, statData: statData}: null"/>
						</block>
						<block>
							<styleClass value="$MiddleAligned"/>
							<style>
								<position value="absolute"/>
								<bottom value="-10"/>
							</style>
							<bind name="instance" value="'ShipPrewiewItem'; {currentVehicleId: statData.vehicleId}"/>
						</block>
					</block>
					<block>
						<styleClass value="$MiddleAligned"/>
						<style>
							<marginBottom value="6px"/>
						</style>
						<bind name="name" value="'dropdown_battle_types'"/>
						<bind name="instance" value="'ItemChooser'; {	_items: battleTypes, curIndex: _curItemIndex,
														_choosedItemRenderer: 'LargeTextChoosedItemRenderer', _listItemRenderer: 'TextListItemRenderer',
														onItemSelectedEvent: 'battleTypeChanged', _itemChooserTooltipText: 'IDS_CHOOSE_BATTLETYPE_STATS'}"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="statData.shipsList.length == 0"/>
					<style>
						<width value="100%"/>
					</style>
					<block>
						<style>
							<width value="100%"/>
						</style>
						<block className="HorizontalDivider">
							<styleClass value="$PxHorizontalCorrection"/>
							<style>
								<width value="100%"/>
								<height value="3px"/>
							</style>
							<block className="divider_h" type="native">
								<styleClass value="$Fullsize"/>
							</block>
						</block>
					</block>
					<block>
						<style>
							<marginTop value="3px"/>
						</style>
						<styleClass value="$MiddleAligned"/>
						<bind name="instance" value="'EmptyStatusParagraph'; {_text: 'IDS_NO_BATTLES_PLAYED_IN_' + toUpperCase(battleType), _maxWidth: 200}"/>
					</block>
				</block>
				<block>
					<style>
						<width value="100%"/>
					</style>
					<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'left', _instructionText: 'IDS_SELECT_ALL_SHIPS_FOR_DETAILED_STAT'}], _maxWidth: 250}"/>
					<bind name="instance" value="'AllShipsSelectedItem'; statData.shipsList.length != 0 ? {shipListLength: statData.shipsList.length, totalWinRate: statData.diagStats.totalWinRate, battleType: battleType, currentVehicleId: statData.vehicleId, seasonId: seasonId, gamesPlayed: statData.diagStats.gamesPlayed} : null"/>
				</block>
				<block>
					<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
					<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
					<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
					<styleClass value="$DefaultScrollBar"/>
					<style>
						<maxHeight value="328"/>
						<width value="100%"/>
						<overflow value="scroll"/>
					</style>
					<bind name="repeat" value="shipsList; 'ShipRowItem'; {battleType: battleType, currentVehicleId: statData.vehicleId, curSeasonIndex: curSeasonIndex, seasonId: seasonId, _curItemIndex: _curItemIndex}; !(userPrefs.shipSortStatsDirection)"/>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="instance" value="'ShipSortingDropdown'; statData.shipsList.length &gt;= 2 ? {statData: statData.shipsList} : null"/>
				</block>
			</block>
		</block>
	</block>
	<block className="ShipStatsTooltip">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
			<hitTest value="false"/>
		</style>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; _vehicleId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; {_isInBattle: _isInBattle}"/>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'ShipFlagIconLevelName'; {shipInfo: shipInfo, _multiline: true}"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'MouseInstruction'; { _type: 'left', _instructionText: 'IDS_SELECT_SHIP_FOR_DETAILED_STAT', _maxWidth: 250}"/>
		</block>
	</block>
	<block className="ShipPrewiewItem">
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; currentVehicleId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<style>
			<width value="214px"/>
			<height value="126px"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'url:' + shipInfo.pathPreview"/>
	</block>
	<block className="RankedSeasonDropdown">
		<bind name="var" value="{_curItemIndex: _curItemIndex ? _curItemIndex : 0}"/>
		<bind name="catch" value="'ItemChooserInnerEvent.historySeasonChanged'"/>
		<bind name="action" value="'_curItemIndex' + varChanged; 'rankedSeasonChanged'; {seasonId: statData.seasonList[_curItemIndex].id}"/>
		<bind name="dispatch" value="'_curItemIndex' + varChanged; 'curSeasonIndexChanged'; {curSeasonIndex: _curItemIndex}; false"/>
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<bind name="instance" value="'ItemChooser'; {	_items: statData.seasonList, curIndex: _curItemIndex,
											_choosedItemRenderer: 'LargeTextChoosedItemRendererRankedSeason', _listItemRenderer: 'TextListItemRendererRankedSeason',
											onItemSelectedEvent: 'historySeasonChanged', _itemChooserTooltipText: 'IDS_CHOOSE_RANK_SEASON'}"/>
		</block>
	</block>
	<block className="RankedSeasonFlag">
		<bind name="appear" value="'addedToStage'; 0.15; 0; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<style>
				<width value="75px"/>
				<height value="60px"/>
			</style>
			<bind name="style" value="'backgroundImage'; _curSeasonIndex != 0 ? ('url:' + statData.seasonList[_curSeasonIndex].iconPath) : ('url:' + ' ')"/>
		</block>
	</block>
	<block className="ShipSortingDropdown">
		<bind name="var" value="{items:['IDS_SORT_BY_WIN_PERCENT', 'IDS_SORT_BY_BATTLES_COUNT', 'IDS_SORT_BY_LEVEL', 'IDS_SORT_BY_NATION', 'IDS_SORT_BY_SHIPTYPE']}"/>
		<block type="text">
			<style>
				<marginTop value="4px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="tr('IDS_SORTING_TYPE') + tr('IDS_COLON')"/>
		</block>
		<block>
			<style>
				<marginLeft value="2px"/>
				<marginTop value="-1px"/>
			</style>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="watch" value="'_curItemIndex';	(userPrefs.shipStatsSortIndex == null) ? 0 : userPrefs.shipStatsSortIndex"/>
			<bind name="action" value="'shipSortStatsChanged'; 'setUserPref' ; {value: _curItemIndex, name: 'shipStatsSortIndex'}"/>
			<bind name="action" value="'shipSortStatsDirectionChanged'; 'setUserPref' ; {value: !(userPrefs.shipSortStatsDirection), name: 'shipSortStatsDirection'}"/>
			<bind name="request" value="'shipSortStatsChanged'; 'sortShipStats' ; {ids: items[_curItemIndex]}"/>
			<bind name="catch" value="'ItemChooser.shipsSortSelected'"/>
			<bind name="instance" value="'ItemChooser'; {	_items: items, curIndex: _curItemIndex, 
											_choosedItemRenderer: 'BluishTextChoosedItemRenderer', _listItemRenderer: 'TextListItemRenderer',
											onItemSelectedEvent: 'shipsSortSelected', _itemChooserTooltipText: 'IDS_HINT_SHIP_CAROUSEL_SORT'}"/>
			<bind name="changeDispatch" value="_curItemIndex; 'shipSortStatsChanged'"/>
			<bind name="changeDispatch" value="_direction; 'shipSortStatsDirectionChanged'"/>
		</block>
	</block>
	<block className="PlayerSummaryItem">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="stageSize"/>
		<bind name="watch" value="'inset'; 0 "/>
		<bind name="catch" value="'changeInsetPlayerProfileSummaryInset'"/>
		<bind name="changeDispatch" value="inset; 'changeInsetInPrefs'"/>
		<bind name="action" value="'changeInsetInPrefs'; 'setUserPref' ; {value : inset, name : 'playerProfileSummaryInset'}"/>
		<styleClass value="$Fullsize"/>
		<block>
			<styleClass value="$Fullsize"/>
			<bind name="watch" value="'playerSummaryStatsType'; (_battleType == BattleTypes.PVE_BATTLE ? 'PVEStats' : 'commonStats')"/>
			<bind name="child" value="playerSummaryStatsType; {battleType: _battleType, _curItemIndex: _curItemIndex,
											 _curSeasonIndex: curSeasonIndex, statData:statData,
											 currentVehicleId: statData.vehicleId}; 
											 {commonStats: 'PlayerSummaryCommon', PVEStats: 'PlayerSummaryPve'}"/>
		</block>
		<block>
			<bind name="visible" value="(statData.diagStats.gamesPlayed &gt; 0) &amp;&amp; (statData.vehicleId == 0)"/>
			<style>
				<height value="190px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<bind name="child" value="inset; {_curItemIndex: _curItemIndex, statData:statData, battleType: _battleType}; 'PlayerSummaryDiagrams'; 'PlayerSummaryBattleHeroes'"/>
		</block>
	</block>
	<block className="PlayerSummaryCommon">
		<styleClass value="$Fullsize"/>
		<style>
			<marginBottom value="20px"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginBottom value="24px"/>
			</style>
			<bind name="appear" value="'addedToStage'; 0.15; 0.12; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block className="ProfilePlayerPercentEfficiency">
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<style>
					<width value="160px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentGreyBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="text" value="format(statData.basicStats.gamesPlayed, -1)"/>
					<bind name="name" value="'Stat_' + 'IDS_GAME_PLAYED'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-12px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="'IDS_GAME_PLAYED'"/>
				</block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_GAME_PLAYED' + '_TOOLTIP_PROFILE'}"/>
			</block>
			<block className="ProfilePlayerPercentEfficiency">
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<style>
					<width value="160px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentGreyBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="text" value="statData.basicStats.winRate"/>
					<bind name="name" value="'Stat_' + 'IDS_VICTORY_PERCENT'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-12px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="'IDS_VICTORY_PERCENT'"/>
				</block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_VICTORY_PERCENT' + '_TOOLTIP_PROFILE'}"/>
			</block>
			<block className="ProfilePlayerPercentEfficiency">
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<style>
					<width value="160px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentGreyBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="text" value="format(statData.basicStats.averageExp, -1)"/>
					<bind name="name" value="'Stat_' + 'IDS_EXPERIENCE_C_AVERAGE'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-12px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="'IDS_EXPERIENCE_C_AVERAGE'"/>
				</block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_EXPERIENCE_C_AVERAGE' + '_TOOLTIP_PROFILE'}"/>
			</block>
			<block className="ProfilePlayerPercentEfficiency">
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<style>
					<width value="160px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentGreyBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="text" value="statData.basicStats.maxFrags"/>
					<bind name="name" value="'Stat_' + 'IDS_MAX_SHIPS_PER_BATTLE'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-12px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="'IDS_MAX_SHIPS_PER_BATTLE'"/>
				</block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_MAX_SHIPS_PER_BATTLE' + '_TOOLTIP_PROFILE'}"/>
			</block>
			<block className="ProfilePlayerPercentEfficiency">
				<block className="DeclareBlurLayer">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="transparentPixel" type="native">
						<bind name="blurLayer" value="0"/>
					</block>
					<style>
						<position value="absolute"/>
					</style>
				</block>
				<block className="BlurMapCustom">
					<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<hitTest value="false"/>
					</style>
					<bind name="visible" value="optionData.blurEnabled"/>
					<block className="mc_blurmap5_feather" type="native">
						<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
						<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
						<styleClass value="$Fullsize"/>
						<bind name="blurMap" value="0"/>
					</block>
				</block>
				<style>
					<width value="160px"/>
				</style>
				<block type="text">
					<styleClass value="$TextAccentGreyBold"/>
					<styleClass value="$MiddleAligned"/>
					<bind name="text" value="statData.basicStats.killDeath"/>
					<bind name="name" value="'Stat_' + 'IDS_DESTROY_RATIO'"/>
				</block>
				<block type="text">
					<style>
						<marginTop value="-12px"/>
					</style>
					<styleClass value="$MiddleAligned"/>
					<styleClass value="$TextDefault"/>
					<bind name="class" value="'$FontColorBlueish'"/>
					<bind name="class" value="'$Bold'"/>
					<bind name="text" value="'IDS_DESTROY_RATIO'"/>
				</block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_DESTROY_RATIO' + '_TOOLTIP_PROFILE'}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<bind name="appear" value="'addedToStage'; 0.15; 0.24; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<height value="100%f"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<width value="62sw"/>
					<maxWidth value="1100"/>
				</style>
				<bind name="repeat" value="statData.basicStats.colData; 'StatColumn'; {array:statData.basicStats.colData, statData: statData}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PlayerSummaryDiagrams">
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<bind name="appear" value="'addedToStage'; 0.15; 0.36; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<height value="190px"/>
			<flow value="horizontal"/>
		</style>
		<block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<style>
				<height value="100%"/>
				<width value="1280:300,1920:310aw"/>
			</style>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STATISTICS_BY_NATIONS_TOOLTIP'}"/>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextHeaderLargeBold"/>
					<bind name="text" value="'IDS_NATIONS'"/>
				</block>
			</block>
			<block>
				<style>
					<marginTop value="5px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'NationsDiagram';  {gamesPlayed: statData.diagStats.gamesPlayed, battlesByNation: statData.diagStats.nations}"/>
			</block>
		</block>
		<block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<style>
				<height value="100%"/>
				<width value="1280:250,1920:310aw"/>
			</style>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STATISTICS_BY_SHIP_TYPES_TOOLTIP'}"/>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextHeaderLargeBold"/>
					<text value="IDS_SHIP_TYPES"/>
				</block>
			</block>
			<block>
				<style>
					<marginTop value="5px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'ShipTypeDiagram'; {gamesPlayed: statData.diagStats.gamesPlayed, battlesByShipType: statData.diagStats.classes}"/>
			</block>
		</block>
		<block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<style>
				<height value="100%"/>
				<width value="1280:280,1920:310aw"/>
			</style>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STATISTICS_BY_SHIP_LEVELS_TOOLTIP'}"/>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextHeaderLargeBold"/>
					<text value="IDS_LEVELS"/>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<height value="140px"/>
					<marginTop value="5px"/>
				</style>
				<bind name="repeat" value="statData.diagStats.levels.shipLevels; 'LineDiagramItem'; {maxValue: statData.diagStats.levels.maxValue}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="PlayerSummaryBattleHeroes">
		<bind name="appear" value="'addedToStage'; 0.15; 0.36; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<styleClass value="$MiddleAligned"/>
		<block type="text">
			<styleClass value="$TextHeaderLargeBold"/>
			<bind name="text" value="'PlayerSummaryBattleHeroes'"/>
		</block>
	</block>
	<block className="NationsDiagram">
		<bind name="catch" value="'sectorRollOver'"/>
		<bind name="catch" value="'sectorRollOut'"/>
		<bind name="var" value="{showGamesPlayed: true, currentItemId: null}"/>
		<style>
			<marginLeft value="62px"/>
			<height value="140px"/>
		</style>
		<block>
			<style>
				<marginTop value="70px"/>
				<position value="absolute"/>
			</style>
			<bind name="repeat" value="battlesByNation.diagram; 'CircleDiagramItem'; {currentItemId: currentItemId, showGamesPlayed: showGamesPlayed}"/>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_GAME_PLAYED_TOOLTIP_PROFILE'}"/>
				<bind name="transition" value="showGamesPlayed; 0.2; {alpha: 0}; {alpha: 1}"/>
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextHeaderLargeBold"/>
					<bind name="text" value="gamesPlayed"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="75px"/>
				<flow value="vtile"/>
			</style>
			<bind name="style" value="'height';	battlesByNation.legend.length &lt;= 4 ? ((battlesByNation.legend.length * 35) +'px') : '140px' "/>
			<bind name="repeat" value="battlesByNation.legend; 'NationLegendItem'; {currentItemId: currentItemId, showGamesPlayed: showGamesPlayed}"/>
		</block>
	</block>
	<block className="ShipTypeDiagram">
		<bind name="catch" value="'sectorRollOver'"/>
		<bind name="catch" value="'sectorRollOut'"/>
		<bind name="var" value="{showGamesPlayed: true, currentItemId: null}"/>
		<style>
			<marginLeft value="62px"/>
			<height value="140px"/>
		</style>
		<block>
			<style>
				<marginTop value="70px"/>
				<position value="absolute"/>
			</style>
			<bind name="repeat" value="battlesByShipType.diagram; 'CircleDiagramItem'; {currentItemId: currentItemId, showGamesPlayed: showGamesPlayed}"/>
			<block>
				<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_GAME_PLAYED_TOOLTIP_PROFILE'}"/>
				<bind name="transition" value="showGamesPlayed; 0.2; {alpha: 0}; {alpha: 1}"/>
				<style>
					<position value="absolute"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block type="text">
					<styleClass value="$TextHeaderLargeBold"/>
					<bind name="text" value="gamesPlayed"/>
				</block>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="75px"/>
				<flow value="vtile"/>
			</style>
			<bind name="style" value="'height';	battlesByShipType.legend.length &lt;= 4 ? ((battlesByShipType.legend.length * 35) +'px') : '140px' "/>
			<bind name="repeat" value="battlesByShipType.legend; 'ShipTypeLegendItem'; {currentItemId: currentItemId, showGamesPlayed: showGamesPlayed}"/>
		</block>
	</block>
	<block className="CircleDiagramItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: text}"/>
		<bind name="dispatch" value="'rollOver'; 'sectorRollOver'; {currentItemId: itemId, showGamesPlayed: false}"/>
		<bind name="dispatch" value="'rollOut'; 'sectorRollOut'; {currentItemId: itemId, showGamesPlayed: true}"/>
		<style>
			<position value="absolute"/>
			<left value="0px"/>
			<top value="0px"/>
		</style>
		<block>
			<style>
				<position value="absolute"/>
			</style>
			<block className="lesta.display.Sector" type="native">
				<bind name="color" value="color"/>
				<bind name="offset" value="offset"/>
				<bind name="arc" value="arc"/>
				<bind name="appear" value="'addedToStage'; 0.2; 0.4; {radius: 44}; {radius: 62}; 1"/>
				<bind name="transition" value="rollOver || ((currentItemId == itemId) &amp;&amp; !(showGamesPlayed)); 0.15; {radius: 62}; {radius: 65}"/>
				<params>
					<param name="innerRadius" value="44"/>
					<param name="radius" value="62"/>
				</params>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$MouseDisable"/>
			<bind name="transition" value="rollOver || ((currentItemId == itemId) &amp;&amp; !(showGamesPlayed)); 0.2; {alpha: 0}; {alpha: 1}"/>
			<style>
				<position value="absolute"/>
				<top value="-15px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeaderLargeBold"/>
				<bind name="text" value="value"/>
			</block>
		</block>
	</block>
	<block className="NationLegendItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: text}"/>
		<bind name="dispatch" value="'rollOver'; 'sectorRollOver'; {currentItemId: itemId, showGamesPlayed: false}"/>
		<bind name="dispatch" value="'rollOut'; 'sectorRollOut'; {currentItemId: itemId, showGamesPlayed: true}"/>
		<style>
			<width value="55px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<style>
				<width value="100%"/>
				<height value="35px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$MiddleVAligned"/>
				<block className="lesta.display.Circle" type="native">
					<style>
						<marginTop value="10px"/>
						<marginRight value="10px"/>
					</style>
					<bind name="color" value="color"/>
					<bind name="appear" value="'addedToStage'; 0.3; 0; {radius: 0}; {radius: 4}"/>
					<bind name="transition" value="rollOver || ((currentItemId == itemId) &amp;&amp; !(showGamesPlayed)); 0.15; {radius: 4}; {radius: 6}"/>
				</block>
				<block>
					<bind name="instance" value="'NationFlagsTiny'; {shipCountry: itemId}"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ShipTypeLegendItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: text}"/>
		<bind name="dispatch" value="'rollOver'; 'sectorRollOver'; {currentItemId: itemId, showGamesPlayed: false}"/>
		<bind name="dispatch" value="'rollOut'; 'sectorRollOut'; {currentItemId: itemId, showGamesPlayed: true}"/>
		<block>
			<style>
				<width value="46px"/>
				<height value="35px"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<block className="lesta.display.Circle" type="native">
					<style>
						<marginTop value="4px"/>
						<marginLeft value="8px"/>
					</style>
					<bind name="color" value="color"/>
					<bind name="transition" value="rollOver || ((currentItemId == itemId) &amp;&amp; !(showGamesPlayed)); 0.15; {radius: 4}; {radius: 6}"/>
					<bind name="appear" value="'addedToStage'; 0.3; 0; {radius: 0}; {radius: 4}"/>
				</block>
				<block className="icon_ship" type="native">
					<styleClass value="$MiddleVAligned"/>
					<bind name="style" value="'marginLeft'; itemId == 'Destroyer' ? '8px' : '10px' "/>
					<bind name="gotoAndStop!" value="itemId"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="LineDiagramItem">
		<bind name="watch" value="'animationTime'; (0.2 + value * 0.0007)"/>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: text}"/>
		<bind name="changeDispatch" value="value; 'valueChanged'"/>
		<bind name="changeDispatch" value="maxValue; 'valueChanged'"/>
		<bind name="dispatch" value="'addedToStage'; 'valueChanged'"/>
		<style>
			<width value="26px"/>
			<height value="100%"/>
		</style>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<bottom value="0px"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<bind name="appear" value="'valueChanged'; animationTime; 0.4; {intValue: 0}; {intValue: value}; 1"/>
					<style>
						<textAlign value="center"/>
						<width value="30px"/>
					</style>
					<styleClass value="$TextSecondary"/>
					<bind name="text" value="format(value, -1)"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'valueChanged'; animationTime; 0.4; {height: 0}; {height: value ? ((value/maxValue) * 100) : 1}; 1"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<height value="0px"/>
					<width value="18px"/>
				</style>
				<bind name="style" value="'backgroundColor'; _columnColor ? _columnColor : 0xFF2DF0C9"/>
			</block>
			<block>
				<style>
					<marginTop value="8px"/>
				</style>
				<styleClass value="$MiddleAligned"/>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="label"/>
				</block>
			</block>
		</block>
	</block>
	<block className="LargeTextChoosedItemRendererRankedSeason">
		<style>
			<height value="35px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextDockBig"/>
			<bind name="text" value="_item.id == 0 ? ('IDS_ALL_SEASONS') : ('IDS_SEASON_TITLE_' + (tr(_item.id)))"/>
		</block>
	</block>
	<block className="TextListItemRendererRankedSeason">
		<styleClass value="$ContextMenuListItem"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<block className="MenuItemWithIconAndSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="id == 0 ? ('IDS_ALL_SEASONS') : ('IDS_SEASON_TITLE_' + id)"/>
			<style>
				<flow value="horizontal"/>
			</style>
			<block>
				<bind name="visible" value="id != 0"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="style" value="'backgroundImage'; 'url:' + iconPath"/>
				<bind name="scaleX" value="0.4"/>
				<bind name="scaleY" value="0.4"/>
				<style>
					<width value="28px"/>
					<height value="22px"/>
					<marginLeft value="6px"/>
				</style>
			</block>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<style>
					<maxWidth value="136"/>
					<marginLeft value="6px"/>
				</style>
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr(id == 0 ? ('IDS_ALL_SEASONS') : ('IDS_SEASON_TITLE_' + id)))
											: (tr(id == 0 ? ('IDS_ALL_SEASONS') : ('IDS_SEASON_TITLE_' + id))))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="ShipRowItem">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; vehicleId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="tooltip" value="'ShipStatsTooltip'; { _vehicleId: vehicleId, _maxWidth: 250}"/>
		<style>
			<width value="100%"/>
			<height value="36px"/>
		</style>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$PxHorizontalCorrection"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="clickSplit"/>
			<style>
				<marginTop value="-1px"/>
				<marginBottom value="2px"/>
			</style>
			<bind name="action" value="'left_click'; 'vehicleIdChanged'; {vehicleId:vehicleId}"/>
			<bind name="selected" value="currentVehicleId == vehicleId"/>
			<bind name="style" value="'alpha'; currentVehicleId == vehicleId ? 2 : 1"/>
		</block>
		<block>
			<style>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="2px"/>
				</style>
				<bind name="instance" value="'ShipFlagIconLevelName'; {shipInfo: shipInfo}"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextHeaderBold"/>
				<bind name="text" value="(userPrefs.shipStatsSortIndex == 1)	? battlesCount : winRate"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
	</block>
	<block className="AllShipsSelectedItem">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="primaryEntityDH" value="'shipEntity'; CC.ship; vehicleId; 'evUpdate'"/>
		<bind name="watchDH" value="'shipInfo'; ['shipEntity.ship.evUpdate', 'shipEntity.ship.evCurrentSkinChanged']; shipEntity.ship"/>
		<bind name="watchDH" value="'shipInfo' + 'Slim'; ['shipEntity.slimClientComponent.evUpdate']; shipEntity.slimClientComponent"/>
		<bind name="watch" value="'currentVehicleId'; 0"/>
		<bind name="var" value="{vehicleId:0}"/>
		<style>
			<width value="100%"/>
			<height value="36px"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block className="dock_submenu_item" type="native">
			<styleClass value="$PxHorizontalCorrection"/>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="clickSplit"/>
			<style>
				<marginBottom value="2px"/>
				<marginTop value="2px"/>
			</style>
			<bind name="action" value="'left_click'; 'vehicleIdChanged'; {vehicleId:0}"/>
			<bind name="selected" value="currentVehicleId == vehicleId"/>
			<bind name="style" value="'alpha'; currentVehicleId == vehicleId ? 2 : 1"/>
		</block>
		<block>
			<styleClass value="$InfoBlockHorizontalIndent"/>
			<style>
				<height value="100%"/>
				<hitTest value="false"/>
			</style>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$TextHeaderBold"/>
				<bind name="text" value="tr('IDS_ALL_VEHICLES') +  ' ' + '(' + shipListLength + ')'"/>
			</block>
			<block type="text">
				<styleClass value="$MiddleVAligned"/>
				<style>
					<right value="0"/>
					<position value="absolute"/>
				</style>
				<styleClass value="$TextHeaderBold"/>
				<bind name="text" value="(userPrefs.shipStatsSortIndex == 1)	? gamesPlayed : totalWinRate"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
	</block>
	<block className="ShipFlagIconLevelName">
		<style>
			<flow value="horizontal"/>
			<width value="100%"/>
		</style>
		<block>
			<style>
				<marginTop value="7px"/>
				<alpha value="0.7"/>
			</style>
			<bind name="instance" value="'NationFlagsTiny'; {shipCountry: shipInfo.flagName}"/>
		</block>
		<block>
			<style>
				<marginLeft value="-15px"/>
				<marginTop value="12px"/>
			</style>
			<block>
				<bind name="visible" value="shipInfo.isElite || shipInfo.isPremium || shipInfo.uiSpecial"/>
				<style>
					<position value="absolute"/>
					<left value="-5px"/>
					<top value="-8px"/>
				</style>
				<block className="icon_wreath" type="native">
					<bind name="gotoAndStop!" value="shipInfo.uiSpecial	? 'special' :
									shipInfo.isPremium 	? 'premium'
														: 'elite'"/>
				</block>
			</block>
			<block className="icon_ship" type="native">
				<bind name="gotoAndStop!" value="shipInfo.isPremium || shipInfo.uiSpecial ? shipInfo.subtype + '_P' : shipInfo.subtype"/>
			</block>
		</block>
		<block type="text">
			<style>
				<marginLeft value="6px"/>
				<marginTop value="4px"/>
				<multiline value="false"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
			<bind name="text" value="shipInfo.levelRome"/>
		</block>
		<block type="text">
			<style>
				<width value="100%"/>
				<marginLeft value="3px"/>
				<marginTop value="4px"/>
			</style>
			<bind name="style" value="'multiline'; _multiline ? _multiline : false"/>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$LetterSpacingSmall'"/>
			<bind name="class" value="shipInfo.isPremium || shipInfo.uiSpecial ? '$FontColorGold' : '$FontColorWhite'"/>
			<bind name="text" value="toUpperCase(tr(shipInfo.nameIDS))"/>
		</block>
	</block>
	<block className="StatsRowHint">
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="300px"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<style>
				<position value="absolute"/>
			</style>
			<styleClass value="$Fullsize"/>
		</block>
		<block type="text">
			<styleClass value="$InfoBlockIndentNoWidth"/>
			<styleClass value="$TextHeaderBigDefault"/>
			<style>
				<maxWidth value="276"/>
			</style>
			<bind name="text" value="tooltipText"/>
		</block>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_hintVehicleId &gt; 0"/>
			<styleClass value="$InfoBlockIndent"/>
			<block type="text">
				<styleClass value="$TextHeaderBigDefault"/>
				<bind name="class" value="'$FontColorBlueish'"/>
				<bind name="text" value="'IDS_ON_SHIP_STATS'"/>
			</block>
			<block>
				<style>
					<marginLeft value="6px"/>
					<marginTop value="-4px"/>
					<width value="100%"/>
				</style>
				<bind name="instance" value="'ShipFlagIconLevelName'; {shipInfo: shipInfo, _multiline: true}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="DefaultButton">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="name" value="_containerName ? _containerName : null"/>
		<block className="button_default" type="native">
			<bind name="style" value="'width'; _width ? _width : '100%'"/>
			<bind name="label" value="_label"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="focusable" value="_focusIndex ? true : false"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams"/>
			<bind name="name" value="_name ? _name : null"/>
			<bind name="input"/>
			<block>
				<bind name="visible" value="_isExternal == true"/>
				<style>
					<position value="absolute"/>
					<top value="7px"/>
					<right value="4px"/>
					<hitTest value="false"/>
				</style>
				<block className="icon_out_grey" type="native"/>
			</block>
		</block>
	</block>
	<block className="DefaultButtonBig">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="style" value="'width'; _width ? _width : '100%'"/>
		<bind name="name" value="_containerName ? _containerName : null"/>
		<block className="button_default_big" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="name" value="_name ? _name : null"/>
			<bind name="input"/>
			<bind name="label" value="_label"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
		</block>
	</block>
	<block className="DefaultButtonCostMedium">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="tooltip" value="'DiscountTooltip'; priceInfo.basePrice &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) ? { priceInfo: priceInfo, _isExternal: _isExternal } : null"/>
		<style>
			<width value="100%"/>
		</style>
		<bind name="style" value="'height'; _height ? _height : 'auto'"/>
		<bind name="name" value="_name ? _name : null"/>
		<block className="button_default_no_label" type="native">
			<style>
				<width value="100%"/>
			</style>
			<bind name="style" value="'height'; _height ? _height : 'auto'"/>
			<bind name="focus" value="_focusIndex; _defaultFocused"/>
			<bind name="enabled" value="_enabled &amp;&amp; (_isTransactionBtn ? !(operationsAccountLocked) : true)"/>
			<bind name="dispatch" value="'buttonClick'; _dispatchEvent ? _dispatchEvent : null"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<bind name="selected" value="_selected"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="3px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<block type="text">
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorDefaultButtonUp'"/>
					<bind name="class" value="_enabled ? '$None' : '$FontColorAlmostBlack'"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<bind name="visible" value="priceInfo.finalPrice &gt; 0"/>
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$MiddleVAligned"/>
					<bind name="instance" value="'PriceTag'; priceInfo.finalPrice &gt; 0 ? {priceInfo: priceInfo, _showDiscountTag: _showDiscountTag } : null"/>
				</block>
				<block>
					<bind name="visible" value="_isExternal == true"/>
					<style>
						<marginTop value="2px"/>
						<marginLeft value="8px"/>
					</style>
					<block className="icon_out_grey" type="native"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="DefaultButtonCostSmall">
		<bind name="firstEntityDH" value="'resourceEntity'; CC.accountResource"/>
		<bind name="watchDH" value="'operationsAccountLocked';	['resourceEntity.accountResource.evOperationsLockChanged'];	resourceEntity.accountResource.operationsLocked"/>
		<bind name="tooltip" value="'DiscountTooltip'; priceInfo.basePrice &amp;&amp; (priceInfo.finalPrice != priceInfo.basePrice) ? { priceInfo: priceInfo } : null"/>
		<block className="button_default_no_label_small" type="native">
			<bind name="enabled" value="(_enabled &amp;&amp; !(operationsAccountLocked))"/>
			<bind name="event" value="'buttonClick'; _method ? _method : null"/>
			<bind name="request" value="'buttonClick'; _request ? _request : null; _requestParams ? _requestParams : {}"/>
			<bind name="action" value="'buttonClick'; _action ? _action : null; _actionParams ? _actionParams : {}"/>
			<block>
				<style>
					<marginBottom value="1px"/>
					<marginRight value="18px"/>
					<marginLeft value="18px"/>
					<hitTest value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<block type="text">
					<styleClass value="$TextSecondaryBold"/>
					<bind name="class" value="'$FontColorDefaultButtonUp'"/>
					<bind name="class" value="_enabled ? '$None' : '$FontColorAlmostBlack'"/>
					<bind name="text" value="_label"/>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="2px"/>
					</style>
					<bind name="instance" value="'PriceTag'; priceInfo.finalPrice &gt; 0 ? {priceInfo: priceInfo, _small: true, _showDiscountTag: _showDiscountTag} : null"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ButtonSpecial">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="name" value="_name"/>
		<block className="button_special_no_label" type="native">
			<bind name="soundSet" value="'hard_button'"/>
			<bind name="enabled" value="_enabled"/>
			<bind name="action" value="'buttonClick'; _action; _actionParams ? _actionParams : {}"/>
			<block type="text">
				<style>
					<marginRight value="18px"/>
					<marginLeft value="18px"/>
					<marginTop value="3px"/>
					<marginBottom value="4px"/>
					<hitTest value="false"/>
				</style>
				<bind name="class" value="_enabled 	? rollOver &amp;&amp; !(mouseDown) ? '$FontColorDefault' : '$FontColorSpecialButton'
									: '$FontColorAlmostBlack'"/>
				<bind name="class" value="_enabled ? '$FontDropShadowFilter1' : '$FontDropShadowWhite'"/>
				<styleClass value="$TextDefaultBold"/>
				<bind name="text" value="_label"/>
			</block>
		</block>
	</block>
	<block className="DockButton">
		<style>
			<width value="100%"/>
		</style>
		<block className="button_dock" type="native">
			<bind name="name" value="_name"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<bind name="enabled" value="_enabled"/>
			<bind name="dispatch" value="'buttonClick'; _dispatchEvent; {}"/>
			<block type="text">
				<styleClass value="$TextDefaultBold"/>
				<styleClass value="$MiddleAligned"/>
				<style>
					<marginTop value="3px"/>
					<mouseEnabled value="false"/>
					<mouseChildren value="false"/>
				</style>
				<bind name="style" value="'alpha'; _enabled ? 1 : 0.55"/>
				<bind name="text" value="_label"/>
			</block>
		</block>
	</block>
	<block className="InfopanelButton">
		<bind name="request" value="'buttonClick'; _request ? _request : null; _request ? _requestParams : null"/>
		<block className="button_infopanel_no_label" type="native">
			<bind name="name" value="_name"/>
			<style>
				<height value="40px"/>
			</style>
			<bind name="style" value="'width'; _width"/>
			<bind name="dispatch" value="'mouseOver'; 'overInfopanelButton'; {InfopanelButtonOverAlpha: 1}"/>
			<bind name="dispatch" value="'mouseOut'; 'upInfopanelButton'; {InfopanelButtonOverAlpha: 0.6}"/>
			<bind name="dispatch" value="'mouseDown'; 'downInfopanelButton'; {InfopanelButtonOverAlpha: 0.3}"/>
			<block>
				<style>
					<height value="100%"/>
					<alpha value="0.5"/>
					<mouseEnabled value="false"/>
				</style>
				<bind name="style" value="'alpha'; InfopanelButtonOverAlpha"/>
				<bind name="catch" value="'downInfopanelButton'"/>
				<bind name="catch" value="'upInfopanelButton'}"/>
				<bind name="catch" value="'overInfopanelButton'"/>
				<bind name="catch" value="'upInfopanelButton'"/>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<style>
						<marginLeft value="8"/>
						<backgroundStretchX value="true"/>
						<backgroundStretchY value="true"/>
						<mouseEnabled value="false"/>
					</style>
					<bind name="style" value="'width'; _iconWidth"/>
					<bind name="style" value="'height'; _iconHeight"/>
					<bind name="style" value="'backgroundImage'; _backgroundImage"/>
				</block>
				<block>
					<style>
						<marginTop value="14px"/>
						<marginLeft value="8"/>
						<mouseEnabled value="false"/>
					</style>
					<block type="text">
						<styleClass value="$TextDefaultBoldNM"/>
						<bind name="text" value="toUpperCase(tr(_label))"/>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: _tooltipIDS}"/>
	</block>
	<css name="$TextDockBig">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="21"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0x9CBABA"/>
	</css>
	<block className="ItemChooser">
		<bind name="watch" value="'_curItemIndex'; curIndex"/>
		<bind name="watch" value="'isEnabled'; _disabled != true"/>
		<bind name="name" value="_name"/>
		<bind name="var" value="{_lastItemIndex: curIndex,
				_direction: false}"/>
		<bind name="style" value="'width'; _width ? _width : 'auto'"/>
		<bind name="catch" value="('ItemChooserInnerEvent.' + onItemSelectedEvent)"/>
		<bind name="catch" value="('ItemChooserInnerEventDublicate.' + onItemSelectedEvent); {	_direction: (_curItemIndex==_lastItemIndex) ? !_direction : false,
																			_lastItemIndex: _curItemIndex}"/>
		<bind name="dispatch" value="('ItemChooserInnerEventDublicate.' + onItemSelectedEvent); ('ItemChooser.'+onItemSelectedEvent); {_curItemIndex: _curItemIndex, _direction: _direction}; false; 0.001"/>
		<bind name="tooltip" value="_customDropdown ? _customDropdown : 'ItemChooserDropdown';
											_items.length &gt; 1 	? {	_items: _items, _listItemRenderer: _listItemRenderer, _listItemRendererData: _listItemRendererData, _onItemSelectedEvent: onItemSelectedEvent,
																	_curItemIndex: _curItemIndex, _maxDropDownHeight: _maxDropDownHeight, _dropDownWidth: _dropDownWidth, _showHint: _showHint, _text: _text}
																: null;
											TooltipBehaviour.verticalInfoWidget; null; 'dropdownChooserListIsVisible'"/>
		<bind name="var" value="{ _tooltipData: !_itemChooserTooltipText || (_items.length &lt;= 1) ? null : { tooltipText: _itemChooserTooltipText } }"/>
		<bind name="tooltip" value="'SimpleTooltip'; _tooltipData"/>
		<bind name="style" value="'hitTest'; _items.length &gt; 1 &amp;&amp; isEnabled"/>
		<bind name="watch" value="'isItemNavigateVisible'; (_items.length &gt; 1 &amp;&amp; isEnabled)"/>
		<style>
			<flow value="horizontal"/>
		</style>
		<bind name="style" value="'marginRight'; isItemNavigateVisible ? '-8px' : '0px'"/>
		<block className="button_dock" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<marginTop value="1px"/>
				<marginBottom value="1px"/>
			</style>
			<params>
				<param name="soundSet" value="dropmenu_button"/>
			</params>
			<bind name="enabled" value="_items.length &gt; 1"/>
			<bind name="selected" value="dropdownChooserListIsVisible"/>
		</block>
		<block>
			<bind name="style" value="'width'; _width ? '100%f' : 'auto'"/>
			<bind name="instance" value="_choosedItemRenderer; {_item: _items[curIndex], _choosedItemRendererParams: _choosedItemRendererParams}"/>
		</block>
		<block>
			<bind name="visible" value="isItemNavigateVisible"/>
			<style>
				<marginLeft value="5px"/>
				<marginRight value="4px"/>
				<hitTest value="false"/>
			</style>
			<styleClass value="$MiddleVAligned"/>
			<block className="icon_navigate" type="native">
				<bind name="gotoAndStop!" value="'down'"/>
			</block>
		</block>
	</block>
	<block className="ItemChooserDropdown">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'shipOverview'"/>
		<bind name="transition" value="shipOverview.enabled; shipOverview.enabled ? 0.4 : 0.25; {alpha: 1}; {alpha: 0}; {alpha: 1}; 2; !(shipOverview.enabled) &amp;&amp; !(inPort) ? 0.15 : 0.5"/>
		<bind name="style" value="'hitTest'; !(shipOverview.enabled)"/>
		<styleClass value="$DefaultMenuBehaviour"/>
		<bind name="style" value="'width'; _dropDownWidth ? _dropDownWidth : '180px'"/>
		<block className="MenuBg">
			<styleClass value="$FullsizeAbsolute"/>
			<block className="DeclareBlurLayer">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="transparentPixel" type="native">
					<bind name="blurLayer" value="0"/>
				</block>
				<style>
					<position value="absolute"/>
				</style>
			</block>
			<block className="BlurMap">
				<bind name="visible" value="optionData.blurEnabled"/>
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<style>
					<hitTest value="false"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<block className="mc_blurmap_medium" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="blurMap" value="0"/>
				</block>
				<block className="inner_panel" type="native">
					<style>
						<alpha value="0.5"/>
					</style>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<block className="contrast_panel" type="native">
				<bind name="visible" value="optionData.contrast &amp;&amp; !(true)"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="!(true)"/>
				<block className="hint_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="visible" value="true"/>
				<block className="dock_panel" type="native">
					<styleClass value="$FullsizeAbsolute"/>
					<style>
						<marginBottom value="-19px"/>
						<marginRight value="-14px"/>
						<marginLeft value="-14px"/>
						<marginTop value="-9px"/>
					</style>
				</block>
			</block>
		</block>
		<block>
			<style>
				<backgroundColor value="0x01000000"/>
				<hitTest value="false"/>
			</style>
			<params>
				<param name="name" value="ItemChooserDropdown"/>
			</params>
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<block>
			<styleClass value="$DefaultScrollBar"/>
			<bind name="style" value="'maxHeight'; _maxDropDownHeight ? _maxDropDownHeight : 220"/>
			<style>
				<width value="100%"/>
				<overflow value="scroll"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
				</style>
				<bind name="repeat" value="_items; _listItemRenderer; {_onItemSelectedEvent: _onItemSelectedEvent, _curItemIndex: _curItemIndex, _listItemRendererData: _listItemRendererData}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="!(rankedBattlesSeason.denyReason &amp; RBDeny.NO_SEASON) &amp;&amp; (_showHint == true)"/>
			<styleClass value="$InfoBlockIndent"/>
			<bind name="instance" value="'StatusLineWithIcon'; { _text: _text, _maxWidth: 140}"/>
		</block>
	</block>
	<block className="BluishTextChoosedItemRenderer">
		<style>
			<height value="32px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<bind name="text" value="(tr(_item))"/>
		</block>
	</block>
	<block className="LowerCaseTextListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<bind name="var" value="{_toLowerCase: true}"/>
		<block className="MenuItemWithSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="$value"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="LargeTextChoosedItemRenderer">
		<style>
			<height value="35px"/>
		</style>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="4px"/>
				<marginTop value="1px"/>
			</style>
			<styleClass value="$TextDockBig"/>
			<bind name="text" value="(tr(_item))"/>
		</block>
	</block>
	<block className="TextListItemRenderer">
		<styleClass value="$ContextMenuListItem"/>
		<block className="MenuItemWithSelection">
			<styleClass value="$Fullsize"/>
			<bind name="name" value="$value"/>
			<block className="dock_submenu_item" type="native">
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="selected" value="(_curItemIndex == $index)"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<styleClass value="$MiddleVAligned"/>
				<styleClass value="$ContextMenuListItemContent"/>
				<bind name="class" value="(_curItemIndex == $index) == true ? '$Bold' : '$None'"/>
				<bind name="text" value="(_toLowerCase ? toLowerCase(tr($value))
											: (tr($value)))"/>
			</block>
		</block>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEvent.' + _onItemSelectedEvent); {_curItemIndex: $index}"/>
		<bind name="dispatch" value="'click'; ('ItemChooserInnerEventDublicate.' + _onItemSelectedEvent)"/>
	</block>
	<block className="TextChoosedItemRenderer">
		<style>
			<height value="33px"/>
		</style>
		<bind name="style" value="'width'; _choosedItemRendererParams.width ? _choosedItemRendererParams.width : 'auto'"/>
		<block type="text">
			<style>
				<hitTest value="false"/>
				<marginLeft value="5px"/>
				<marginTop value="4px"/>
			</style>
			<bind name="class" value="_choosedItemRendererParams.fontClass ? _choosedItemRendererParams.fontClass : '$TextDockBig'"/>
			<bind name="text" value="(tr(_item))"/>
		</block>
	</block>
	<block className="PlayerSummaryPve">
		<styleClass value="$MiddleAligned"/>
		<style>
			<flow value="horizontal"/>
			<marginBottom value="24px"/>
		</style>
		<bind name="collectionDH" value="CC.rankedSeasonHistory; 'statDataEntities'; 'statToShow'"/>
		<bind name="entityDH" value="'statDataEntity'; statDataEntities[0].id"/>
		<bind name="watchDH" value="'statData'; ['statDataEntity.dataComponent.evDataChanged']; statDataEntity.dataComponent.data"/>
		<bind name="repeat" value="statData.basicStats.colData; 'PlayerSummaryItemPveRow'; {}"/>
	</block>
	<block className="PlayerSummaryItemPveRow">
		<style>
			<marginTop value="40px"/>
			<width value="1280:274,1920:310aw"/>
		</style>
		<block className="BlurMapCustom">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<styleClass value="$FullsizeAbsolute"/>
			<style>
				<hitTest value="false"/>
			</style>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="mc_blurmap5_feather" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$Fullsize"/>
				<bind name="blurMap" value="0"/>
			</block>
		</block>
		<block type="text">
			<style>
				<textAlign value="center"/>
				<width value="100%"/>
				<height value="720:70,1080:120ah"/>
			</style>
			<bind name="style" value="'marginTop'; $index == 1 ? '-15px' : '0px'"/>
			<styleClass value="$TextDefaultBold25NM"/>
			<bind name="text" value="'IDS_SUMMARY_HEADER_' + toUpperCase(block)"/>
		</block>
		<block>
			<style>
				<height value="720:70,1080:120ah"/>
				<minWidth value="70"/>
				<backgroundColor value="0x01000000"/>
			</style>
			<bind name="style" value="'marginTop'; $index == 1 ? '15px' : '0px'"/>
			<styleClass value="$MiddleAligned"/>
			<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: tr('IDS_PVE_OPERATION_BATTLES_PLAYED_TOOLTIP_' + $index)}"/>
			<block type="text">
				<styleClass value="$MiddleAligned"/>
				<styleClass value="$ResultsReward"/>
				<bind name="text" value="gamesPlayed"/>
			</block>
		</block>
		<block>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="274px"/>
				<marginTop value="720:40,1080:80ah"/>
			</style>
			<block>
				<styleClass value="$MiddleAligned"/>
				<style>
					<height value="140px"/>
					<marginTop value="5px"/>
				</style>
				<bind name="repeat" value="diag.battles; 'LineDiagramItem'; {maxValue: diag.maxValue, _columnColor: 0xFFf3ae5a}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<css name="$TextGoldenBold">
		<textColor value="0xFFCC66"/>
	</css>
	<css name="$BattleLoadingHeader">
		<fontFamily value="$WWSDefaultFontBold"/>
		<marginBottom value="3px"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="23"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$BattleLoadingDescription">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="19"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$BattleLoadingDescriptionSmall">
		<fontFamily value="$WWSDefaultFontBold"/>
		<mouseEnabled value="false"/>
		<mouseChildren value="false"/>
		<fontSize value="17"/>
		<dropShadowFilter value="1 90 0x08222a 0.5 2.0 2.0 1.0 2"/>
		<selectable value="false"/>
		<textColor value="0xEEEEEE"/>
	</css>
	<css name="$TableHeaderIconSize">
		<width value="30px"/>
		<marginTop value="4px"/>
		<height value="21px"/>
	</css>
	<block className="BattleLoading">
		<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
		<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
		<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
		<bind name="primaryEntityDH" value="'shipOwnEntity'; CC.ownShip; selfPlayer.shipId; 'evUpdate'"/>
		<bind name="watchDH" value="'playerShipInfo'; ['shipOwnEntity.ownShip.evUpdate', 'shipOwnEntity.ownShip.evCrewChanged']; shipOwnEntity.ownShip"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'battleModeInfo'; 'updateBattleTime,battleModeInfo,updateBattleModeInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'; 'initGameInfo,GameInfoUpdateFragsCount,GameVersion'"/>
		<bind name="controller" value="lesta.dialogs.battle_window_controllers.uss_controllers.ControllerBattleStats"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="action" value="'addedToStage'; 'setUserPref' ; gameInfo.battleType == BattleTypes.EVENT_BATTLE ? {value: 0, name: 'battleLoadingTabIndex'} : null"/>
		<bind name="watch" value="'battleLoadingTabIndex';	(userPrefs.battleLoadingTabIndex == null)	? 2 : userPrefs.battleLoadingTabIndex"/>
		<bind name="watch" value="'validTabIndex'; 	gameInfo.battleType == BattleTypes.INTRO_MISSION			? 0 :
									!isDynamicDivisionsEnabled &amp;&amp; battleLoadingTabIndex == 3	? 2
																								: battleLoadingTabIndex"/>
		<bind name="watch" value="'isDynamicDivisionsEnabled'; (((gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) || (gameInfo.battleType == BattleTypes.RANDOM_BATTLE)) &amp;&amp; slimClientData.isFull)"/>
		<bind name="watch" value="'isVoiceChatEnabled';	(gameInfo.battleType == BattleTypes.CLAN_BATTLE) ||
										((selfPlayer.divisionId != 0) &amp;&amp; ((gameInfo.battleType == BattleTypes.RANDOM_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.COOPERATIVE_BATTLE) ||
																		  (gameInfo.battleType == BattleTypes.PVE_BATTLE)))"/>
		<block className="lesta.utils.resourceLoading.BitmapDataResourceDisplay" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="display!" value="battleModeInfo.bitmapId"/>
		</block>
		<bind name="appear" value="'addedToStage'; 0.15; 0.2; {alpha: 0}; {alpha: 1}"/>
		<styleClass value="$FullsizeAbsolute"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block type="text">
			<bind name="appear" value="'startShowContent'; 0.15; 0.15; {alpha: 1, top: 0}; {alpha: 0, top: 10}"/>
			<styleClass value="$MiddleAligned"/>
			<styleClass value="$TextAccentBold"/>
			<bind name="class" value="'$FontColorBlueish'"/>
			<style>
				<top value="33%"/>
				<hitTest value="false"/>
				<position value="absolute"/>
			</style>
			<bind name="text" value="toUpperCase(tr('IDS_WAITING_SCREEN_LOADING_DATA'))"/>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="dispatch" value="'addedToStage'; 'startShowContent'"/>
			<bind name="appear" value="'startShowContent'; 0.15; 0.35; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="action" value="'addedToStage'; 'BattleHints.refresh'; {}"/>
			<block>
				<style>
					<position value="absolute"/>
					<right value="1280:312,1920:375aw"/>
					<bottom value="67px"/>
				</style>
				<bind name="firstEntityDH" value="'battleDataEntity'; CC.battleData"/>
				<bind name="collectionDH" value="CC.clanBattleSeason; 'clanBattleSeasonCollection'+'ROOT'"/>
				<bind name="collectionDesign" value="'DES_'+'clanBattleSeasonCollection'+'ROOT'; 'clanBattleSeasonCollection'; {'filter': battleDataEntity.battleInfo.mapId == $entity.clanBattleSeason.mapId }; []"/>
				<bind name="watch" value="'winnerClanId'; clanBattleSeasonCollection[clanBattleSeasonCollection.length-1].clanBattleSeason.winnerClanId"/>
				<bind name="instance" value="'ClanSeasonWinnersClanTag'; (clanBattleSeasonCollection.length &gt; 0) &amp;&amp; winnerClanId ? {_mapName: battleModeInfo.mapName} : null"/>
			</block>
			<block>
				<bind name="visible" value="(gameInfo.gameModeId != GameMode.TUTORIAL)"/>
				<styleClass value="$MiddleAlignedAbsolutely"/>
				<style>
					<top value="40px"/>
				</style>
				<block className="tab_bar_bg" type="native">
					<style>
						<position value="absolute"/>
						<width value="100%"/>
						<marginLeft value="-2px"/>
						<marginRight value="-2px"/>
						<height value="29px"/>
					</style>
				</block>
				<block>
					<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_0', 
												_width: '160px', 
												_selected: validTabIndex == 0, 
												_action: 'setUserPref', _actionParams: {value: 0, name: 'battleLoadingTabIndex'}, 
												_label: 'IDS_TEAM_TASKS', 
												_index: 0, 
												_tooltipIDS: 'IDS_TOOLTIP_TAB_TASKS', _isInBattle: false}"/>
				</block>
				<block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_1', 
												_width: '160px', 
												_selected: validTabIndex == 1,
												_action: 'setUserPref', _actionParams: {value: 1, name: 'battleLoadingTabIndex'}, 
												_label: 'IDS_TEAM_STRUCTURE', 
												_index: 1, 
												_tooltipIDS: 'IDS_TOOLTIP_TAB_TEAM_STRUCTURE', _isInBattle: false}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_2', 
												_width: '160px', 
												_selected: validTabIndex == 2,
												_action: 'setUserPref', _actionParams: {value: 2, name: 'battleLoadingTabIndex'}, 
												_label: 'IDS_BATTLE_TIPS', 
												_index: 2, 
												_tooltipIDS: 'IDS_TOOLTIP_BATTLE_TIPS', _isInBattle: false}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<block>
					<bind name="visible" value="isDynamicDivisionsEnabled"/>
					<block className="divider_v" type="native">
						<style>
							<height value="25px"/>
							<top value="2px"/>
						</style>
					</block>
					<bind name="instance" value="'MainTabNew'; 	{_name: 'itemTab_3', 
												_width: '160px', 
												_selected: validTabIndex == 3, 
												_action: 'setUserPref', _actionParams: {value: 3, name: 'battleLoadingTabIndex'}, 
												_label: 'IDS_DIVISIONS', 
												_index: 3, 
												_tooltipIDS: 'IDS_TOOLTIP_TAB_DIVISIONS', _isInBattle: false}"/>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<top value="13sh"/>
				</style>
				<block>
					<styleClass value="$MiddleAligned"/>
					<block>
						<style>
							<maxWidth value="1280"/>
						</style>
						<bind name="style" value="'width'; (validTabIndex == 0) ? '97sw': '810px'"/>
						<bind name="child" value="validTabIndex;
									{	_isBattleLoading: true, gameInfo: gameInfo, battleModeInfo: battleModeInfo,
										selfPlayer: selfPlayer, enemies: enemies, allies: allies, divisions: divisions,
										_isDynamicDivisionsEnabled: isDynamicDivisionsEnabled };
									'Tasks'; 'TeamBattlePage'; 'BattleTipsContent'; 'DynamicDivisions'"/>
					</block>
				</block>
				<block>
					<bind name="stageSize"/>
					<bind name="style" value="'right'; (stageWidth - 1280) / 4"/>
					<style>
						<width value="1280:210,1920:260aw"/>
						<marginRight value="-50%"/>
						<position value="absolute"/>
					</style>
					<bind name="child" value="validTabIndex; {	_selfPlayer: selfPlayer, _battleType: gameInfo.battleType,
												_isDynamicDivisionsEnabled: isDynamicDivisionsEnabled, _isVoiceChatEnabled: isVoiceChatEnabled };
											'EmptyItem'; 'TeamBattleLoadingRightPanel'; 'EmptyItem'; 'DynamicDivisionsRightPanel'"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'startShow'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<style>
					<height value="180px"/>
					<bottom value="40px"/>
					<position value="absolute"/>
					<width value="100%"/>
				</style>
				<block>
					<styleClass value="$MiddleAligned"/>
					<style>
						<width value="72px"/>
						<height value="72px"/>
					</style>
					<block className="indicator_busy_battletype" type="native">
						<style>
							<position value="absolute"/>
						</style>
						<bind name="gotoAndStop!" value="gameInfo.gameModeId == GameMode.TUTORIAL												? 'TutorialBattle' :
										(gameInfo.gameModeId == GameMode.PVE) &amp;&amp; (operationType == 'event')		? 'PVEBattle_event' :
										gameInfo.gameModeId == GameMode.PVE														? 'PVEBattle'
																																: gameInfo.battleType"/>
					</block>
				</block>
				<block>
					<bind name="firstEntityDH" value="'pveStateEntity'; CC.pveState"/>
					<bind name="watchDH" value="'chosenOperationId'; ['']; pveStateEntity.pveState.chosenOperation"/>
					<bind name="watchDH" value="'chosenDifficulty';	['']; pveStateEntity.pveState.chosenDifficulty"/>
					<bind name="watchDH" value="'activeOperationId'; ['']; pveStateEntity.pveState.activeOperation"/>
					<bind name="watch" value="'isChosenOperationOfTheWeek'; ((chosenOperationId == activeOperationId) &amp;&amp; (chosenDifficulty == 'normal'))"/>
					<bind name="primaryEntityDH" value="'operationEntity'; CC.operation; chosenOperationId"/>
					<bind name="watchDH" value="'operationType';	['operationEntity.operation.evStatusChanged']; operationEntity.operation.type"/>
					<styleClass value="$MiddleAligned"/>
					<block type="text">
						<bind name="name" value="'mapName'"/>
						<bind name="class" value="'$FontSizeLargeHeader'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextAccentBold"/>
						<bind name="text" value="(gameInfo.gameModeId == GameMode.PVE	? tr('IDS_' + toUpperCase(operationEntity.operation.gpName) + '_NAME') : toUpperCase(tr(battleModeInfo.mapName)))"/>
					</block>
					<block type="text">
						<bind name="name" value="'battleType'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$TextHeader"/>
						<style>
							<marginTop value="-6px"/>
							<alpha value="0.85"/>
						</style>
						<bind name="text" value="gameInfo.gameModeId == GameMode.PVE	?  tr('IDS_PVE_BATTLE_WITH_DOT') + ' ' + 	(isChosenOperationOfTheWeek == true				? tr('IDS_OPERATION_OF_THE_WEEK_OPERATION_TITLE') :
																												(chosenDifficulty == 'normal'	? tr('IDS_OPERATION_NORMAL_DIFFICULTY_TITLE') 
																																								: tr('IDS_OPERATION_HARD_DIFFICULTY_TITLE')))
																	:	(toUpperCase(tr('IDS_')) + gameInfo.gameMode + toUpperCase(tr('_TITLE')))"/>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleAligned"/>
					<bind name="fade" value="battleModeInfo.loadingProgress &lt; 1; 0.15; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -10}; 1; 0.15"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block className="indicator_progress_bar" type="native">
							<bind name="name" value="'indicator_progress_bar'"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<marginTop value="12px"/>
							</style>
							<bind name="value" value="(battleModeInfo.loadingProgress)*10"/>
						</block>
						<block>
							<style>
								<width value="100%"/>
							</style>
							<block type="text">
								<styleClass value="$MiddleAligned"/>
								<styleClass value="$BattleLoadingDescription"/>
								<style>
									<marginTop value="12px"/>
									<maxWidth value="1100"/>
									<textAlign value="center"/>
								</style>
								<bind name="text" value="battleModeInfo.helpText"/>
								<bind name="substitute" value="'KEYS'; 5; null; battleModeInfo.helpText"/>
							</block>
						</block>
					</block>
				</block>
				<block>
					<bind name="fade" value="battleModeInfo.loadingProgress == 1; 0.15; {alpha: 0, top: 10}; {alpha: 1, top:0 }; {alpha: 0, top: -10}; 1; 0.15"/>
					<styleClass value="$MiddleAligned"/>
					<block>
						<styleClass value="$MiddleAligned"/>
						<block>
							<styleClass value="$MiddleAligned"/>
							<bind name="visible" value="battleModeInfo.battleState == 1"/>
							<block type="text">
								<bind name="name" value="'loadingPreBattleTimer'"/>
								<style>
									<marginTop value="6px"/>
								</style>
								<bind name="class" value="'$FontSizeLargeHeader'"/>
								<styleClass value="$TextAccentBold"/>
								<bind name="text" value="battleModeInfo.battleTimeLeftText"/>
							</block>
						</block>
						<block>
							<bind name="visible" value="battleModeInfo.readyToBattle &amp;&amp; (battleModeInfo.battleState != 0)"/>
							<style>
								<width value="150px"/>
								<marginTop value="9px"/>
							</style>
							<block className="button_default" type="native">
								<style>
									<width value="100%"/>
								</style>
								<bind name="focus" value="0; true"/>
								<bind name="name" value="'btnStartBattle'"/>
								<bind name="label" value="toUpperCase(tr('IDS_STARTTRAININGBATTLEBUTTON'))"/>
								<bind name="request" value="'buttonClick'; 'showBattle'; {}"/>
								<bind name="tooltip" value="'SimpleTooltip'; {tooltipText: 'IDS_STARTTRAININGBATTLEBUTTON'}; 0"/>
							</block>
						</block>
						<block>
							<bind name="visible" value="!(battleModeInfo.readyToBattle) &amp;&amp; (battleModeInfo.battleState != 0)"/>
							<styleClass value="$MiddleAligned"/>
							<style>
								<marginTop value="9px"/>
							</style>
							<block type="text">
								<styleClass value="$TextHeaderBigDefault"/>
								<text value="IDS_WAITING_PLAYERS"/>
							</block>
						</block>
					</block>
				</block>
			</block>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<styleClass value="$BottomMenu"/>
				<block>
					<style>
						<marginLeft value="10px"/>
						<marginTop value="4px"/>
						<width value="19px"/>
						<height value="17px"/>
					</style>
					<bind name="instance" value="'VoiceChatOutgoingIcon'; {_isSpeaking: selfPlayer.isSpeaking}"/>
				</block>
			</block>
			<block>
				<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'invitationsToDivision'; 'InvitationsToDivision'"/>
				<bind name="watch" value="'invitationBottomOffset'; 17+(stageHeight-720)/3"/>
				<bind name="style" value="'bottom'; invitationBottomOffset"/>
				<style>
					<position value="absolute"/>
				</style>
				<bind name="repeat" value="InvitationsToDivision; 'BattleDivisionInvitationItem'; {_isBattleLoading: true}"/>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="ClanSeasonWinnersClanTag">
		<style>
			<width value="80px"/>
			<height value="80px"/>
			<backgroundStretchX value="true"/>
			<backgroundStretchY value="true"/>
		</style>
		<bind name="style" value="'backgroundImage'; 'url:../achievements/icons/icon_achievement_WINNER_CLAN_SEASON_' + seasonId + '.png'"/>
		<bind name="firstEntityDH" value="'battleDataEntity'; CC.battleData"/>
		<bind name="collectionDH" value="CC.clanBattleSeason; 'clanBattleSeasonCollection'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'clanBattleSeasonCollection'+'ROOT'; 'clanBattleSeasonCollection'; {'filter': battleDataEntity.battleInfo.mapId == $entity.clanBattleSeason.mapId }; []"/>
		<bind name="watch" value="'winnerClanId'; clanBattleSeasonCollection[clanBattleSeasonCollection.length-1].clanBattleSeason.winnerClanId"/>
		<bind name="watch" value="'seasonId'; clanBattleSeasonCollection[clanBattleSeasonCollection.length-1].clanBattleSeason.id"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; winnerClanId"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; winnerClanId"/>
		<bind name="watchDH" value="'clanTag'; ['']; clanEntity.clan.tag"/>
		<bind name="tooltip" value="'ClanSeasonWinnersClanTagTooltip'; {_mapName: _mapName, seasonId: seasonId}"/>
		<block>
			<style>
				<position value="absolute"/>
				<width value="300px"/>
				<left value="93px"/>
				<top value="2px"/>
			</style>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginBottom value="8px"/>
				</style>
				<bind name="style" value="'fontSize';winnersClanTagStr[realmConstants.currentRealm].length &gt; 2 ? 24 : 24"/>
				<styleClass value="$TextDefaultBoldNM"/>
				<bind name="text" value="'[' + clanTag + ']'"/>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
					<leading value="-3"/>
					<alpha value="0.85"/>
				</style>
				<styleClass value="$TextDefault17NM"/>
				<bind name="text" value="subst('IDS_CLAN_BATTLES_SEASON_WINNER', [], { mapName: tr(_mapName)})"/>
			</block>
		</block>
	</block>
	<block className="ClanSeasonWinnersClanTagTooltip">
		<style>
			<width value="330px"/>
			<hitTest value="false"/>
		</style>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block className="BlurMap">
			<bind name="visible" value="optionData.blurEnabled"/>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<style>
				<hitTest value="false"/>
			</style>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="mc_blurmap_medium" type="native">
				<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
				<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="blurMap" value="0"/>
			</block>
			<block className="inner_panel" type="native">
				<style>
					<alpha value="0.5"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<block className="contrast_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="visible" value="optionData.contrast"/>
		</block>
		<block className="hint_panel" type="native">
			<styleClass value="$FullsizeAbsolute"/>
		</block>
		<bind name="firstEntityDH" value="'battleDataEntity'; CC.battleData"/>
		<bind name="collectionDH" value="CC.clanBattleSeason; 'clanBattleSeasonCollection'+'ROOT'"/>
		<bind name="collectionDesign" value="'DES_'+'clanBattleSeasonCollection'+'ROOT'; 'clanBattleSeasonCollection'; {'filter': battleDataEntity.battleInfo.mapId == $entity.clanBattleSeason.mapId }; []"/>
		<bind name="watch" value="'winnerClanId'; clanBattleSeasonCollection[clanBattleSeasonCollection.length-1].clanBattleSeason.winnerClanId"/>
		<bind name="watch" value="'seasonId'; clanBattleSeasonCollection[clanBattleSeasonCollection.length-1].clanBattleSeason.id"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; winnerClanId"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; winnerClanId"/>
		<bind name="watchDH" value="'clanTag'; ['']; clanEntity.clan.tag"/>
		<bind name="watchDH" value="'clanName'; ['']; clanExtendedEntity.clanExtended.name"/>
		<block>
			<style>
				<width value="100%"/>
				<paddingLeft value="16px"/>
				<paddingRight value="16px"/>
				<paddingTop value="16px"/>
				<paddingBottom value="16px"/>
			</style>
			<block>
				<style>
					<width value="80px"/>
					<height value="80px"/>
					<backgroundStretchX value="true"/>
					<backgroundStretchY value="true"/>
				</style>
				<bind name="style" value="'backgroundImage'; 'url:../achievements/icons/icon_achievement_WINNER_CLAN_SEASON_' + seasonId + '.png'"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="6px"/>
					<marginLeft value="16px"/>
				</style>
				<block type="text">
					<style>
						<width value="100%"/>
						<marginBottom value="8px"/>
					</style>
					<styleClass value="$TextDefaultBold17NM"/>
					<bind name="text" value="toUpperCase('[' + clanTag + ']' + ' ' + clanName )"/>
				</block>
				<block type="text">
					<style>
						<width value="100%"/>
						<leading value="-3"/>
						<alpha value="0.85"/>
					</style>
					<styleClass value="$TextDefaultNM"/>
					<bind name="text" value="subst('IDS_CLAN_BATTLES_SEASON_WINNER', [], {mapName: tr(_mapName)})"/>
				</block>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="Tasks">
		<style>
			<width value="100%"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<bind name="appear" value="'addedToStage'; 0.15; 0.15; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
			<style>
				<width value="860px"/>
				<position value="absolute"/>
			</style>
			<bind name="child" value="(gameInfo.gameModeId != null ? (gameInfo.gameModeId == GameMode.PVE	? 1
																							: 2)
												 : 0); {	_battleModeInfo: battleModeInfo,
															_gameInfo: gameInfo,
															_selfPlayer: selfPlayer };	'EmptyItem';
																						'BattleLoadingPVETasks';
																						'BattleLoadingStandartTasks'"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<right value="4px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.54; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="instance" value="'BattleLoadingMinimap';	{	_battleModeInfo		:	battleModeInfo,
													_allies				:	allies
												}"/>
		</block>
	</block>
	<block className="BattleLoadingStandartTasks">
		<style>
			<width value="100%"/>
		</style>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.4; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$TextDefaultBold23NM"/>
			<style>
				<width value="100%"/>
				<marginBottom value="12px"/>
			</style>
			<bind name="text" value="_gameInfo.gameModeId == GameMode.TUTORIAL ? tr('IDS_YOUR_GOAL') : tr('IDS_TEAM_GOALS')"/>
		</block>
		<block type="text">
			<bind name="appear" value="'startShow'; 0.15; 0.47; {alpha: 0, top: 10}; {alpha: 0.85, top: 0}"/>
			<style>
				<width value="100%"/>
				<marginBottom value="24px"/>
				<leading value="-3"/>
				<alpha value="0.85"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="text" value="_gameInfo.gameModeDescription"/>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.54; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="visible" value="	(_gameInfo.gameModeId == GameMode.AWESOME) ||
						(_gameInfo.gameModeId == GameMode.STANDARD_DOMINATION) ||
						(_gameInfo.gameModeId == GameMode.FORTS) ||
						(_gameInfo.gameModeId == GameMode.ASSAULT_DEFENSE) ||
						(_gameInfo.gameModeId == GameMode.EPICENTER)"/>
			<style>
				<width value="100%"/>
				<marginTop value="14px"/>
				<marginBottom value="24px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold23NM"/>
				<style>
					<width value="100%"/>
					<marginBottom value="12px"/>
				</style>
				<bind name="text" value="tr('IDS_CHARGING_POINTS')"/>
			</block>
			<block>
				<style>
					<marginTop value="9px"/>
				</style>
				<bind name="instance" value="'PointsCharge';  {_battleModeInfo: _battleModeInfo}"/>
			</block>
		</block>
		<bind name="firstEntityDH" value="'localWeatherEntity'; CC.localWeather"/>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'LocalWeatherDescription'; localWeatherEntity ? {} : null"/>
		</block>
		<block type="text">
			<bind name="visible" value="_gameInfo.battleType == BattleTypes.EVENT_BATTLE"/>
			<style>
				<width value="100%"/>
				<marginTop value="8px"/>
				<leading value="-3"/>
			</style>
			<styleClass value="$TextDefault19NM"/>
			<bind name="substitute" value="'KEYS'; 6; null; tr('IDS_LOCAL_WEATHER_CHECK_PARAMS_TIP'); '_bg'"/>
		</block>
		<block>
			<bind name="visible" value="_gameInfo.gameModeId == GameMode.FORTS"/>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<marginTop value="14px"/>
				<width value="100%"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold23NM"/>
				<style>
					<width value="100%"/>
					<marginBottom value="12px"/>
				</style>
				<bind name="text" value="tr('IDS_GAMEMODE_FORTS_GOAL_TITLE')"/>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginBottom value="24px"/>
					<leading value="-3"/>
					<alpha value="0.85"/>
				</style>
				<styleClass value="$TextDefault19NM"/>
				<bind name="text" value="tr('IDS_GAMEMODE_FORTS_GOAL_DESCRIPTION')"/>
				<bind name="substitute" value="''; 5; {	'[icon_1]' : 'icon_ground_artillery_type_1_ally',
										'[icon_2]' : 'icon_ground_radar_ally',
										'[icon_3]' : 'icon_ground_artillery_type_1_enemy',
										'[icon_4]' : 'icon_ground_radar_enemy'}"/>
			</block>
		</block>
	</block>
	<block className="TeamBattlePage">
		<bind name="appear" value="_isBattleStats ? null : 'addedToStage'; 0.15; 0.15; {alpha: 0, top: 5}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="DeclareBlurLayer">
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
			<bind name="visible" value="optionData.blurEnabled"/>
			<block className="transparentPixel" type="native">
				<bind name="blurLayer" value="0"/>
			</block>
			<style>
				<position value="absolute"/>
			</style>
		</block>
		<block>
			<bind name="primaryEntityDH" value="'allyPlayerEntity'; CC.avatar; allies[0].id"/>
			<bind name="primaryEntityDH" value="'enemyPlayerEntity'; CC.avatar; enemies[0].id"/>
			<styleClass value="$MiddleAlignedAbsolutely"/>
			<style>
				<top value="0"/>
				<marginTop value="-140%"/>
			</style>
			<bind name="instance" value="'ClanBattleVS'; gameInfo.battleType == 'ClanBattle'	? {_allyClanId: allyPlayerEntity.clanman.clanId, _enemyClanId: enemyPlayerEntity.clanman.clanId}
																			: null"/>
		</block>
		<block>
			<bind name="stageSize"/>
			<bind name="watch" value="'teamsMaxHeight'; _isBattleStats 	? (400 + (stageHeight - 720)*0.17)
														: (380 + (stageHeight - 720)*0.8)"/>
			<bind name="style" value="'height';  teamsMaxHeight+'px'"/>
			<styleClass value="$DefaultScrollBar"/>
			<style>
				<overflow value="scroll"/>
				<width value="843px"/>
				<height value="380px"/>
			</style>
			<styleClass value="$MiddleAligned"/>
			<block>
				<styleClass value="$MiddleAligned"/>
				<bind name="name" value="_isBattleStats ? 'TeamBattleStatsID' : 'TeamBattleLoading'"/>
				<bind name="style" value="'marginTop'; gameInfo.alliedClub.clubName ? '50px' : '0px'"/>
				<block>
					<styleClass value="$FullsizeAbsolute"/>
					<bind name="instance" value="'BlurMap'; _isBattleLoading ? {} : null"/>
				</block>
				<block className="UIlistTeamStructureLeft">
					<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
					<block className="cell_background" type="native">
						<bind name="gotoAndStop!" value="1"/>
						<style>
							<flow value="horizontal"/>
							<width value="422px"/>
						</style>
						<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<block type="text">
							<style>
								<width value="100%"/>
								<marginLeft value="18px"/>
								<marginTop value="2px"/>
								<marginBottom value="2px"/>
							</style>
							<styleClass value="$TextHeaderWhiteBold"/>
							<bind name="text" value="'IDS_ALLY_TEAM'"/>
						</block>
						<block>
							<bind name="visible" value="_isBattleStats ? true : false"/>
							<styleClass value="$TableHeaderIconSize"/>
							<block className="sorting" type="native">
								<styleClass value="$MiddleAligned"/>
								<bind name="gotoAndStop!" value="'frags'"/>
							</block>
						</block>
					</block>
					<block>
						<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
						<style>
							<right value="0px"/>
						</style>
						<bind name="repeat" value="allies; 'SimpleUIListTeamStructureLeft'; {_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																_selfPlayer: selfPlayer, _isDynamicDivisionsEnabled: _isDynamicDivisionsEnabled}"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="gameInfo.gameModeId != GameMode.PVE"/>
					<block className="VerticalDivider">
						<style>
							<height value="100%"/>
							<width value="3px"/>
						</style>
						<block className="divider_v" type="native">
							<styleClass value="$Fullsize"/>
						</block>
					</block>
					<block className="UIlistTeamStructureRight">
						<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
						<block className="cell_background" type="native">
							<bind name="gotoAndStop!" value="2"/>
							<style>
								<flow value="horizontal"/>
								<width value="422px"/>
							</style>
							<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
							<block>
								<bind name="visible" value="_isBattleStats ? true : false"/>
								<styleClass value="$TableHeaderIconSize"/>
								<block className="sorting" type="native">
									<styleClass value="$MiddleAligned"/>
									<bind name="gotoAndStop!" value="'frags'"/>
								</block>
							</block>
							<block type="text">
								<style>
									<width value="100%"/>
									<textAlign value="right"/>
									<marginRight value="18px"/>
									<marginTop value="2px"/>
									<marginBottom value="2px"/>
								</style>
								<styleClass value="$TextHeaderWhiteBold"/>
								<bind name="text" value="'IDS_ENEMY_TEAM'"/>
							</block>
						</block>
						<block>
							<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
							<bind name="repeat" value="enemies; 'SimpleUIListTeamStructureRight'; {	_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																	_selfPlayer: selfPlayer}"/>
						</block>
					</block>
					<style>
						<flow value="horizontal"/>
					</style>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="BattleTipsContent">
		<params>
			<param name="name" value="BattleTipsContent"/>
		</params>
		<bind name="appear" value="_isBattleStats ? null : 'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<bind name="firstEntityDH" value="'battleHintsEntity'; CC.battleHints"/>
		<bind name="watchDH" value="'hints'; ['battleHintsEntity.battleHints.refreshData']; battleHintsEntity.battleHints.hints"/>
		<bind name="watchDH" value="'currentImageIdx'; ['battleHintsEntity.battleHints.refreshData']; battleHintsEntity.battleHints.currentImageIdx"/>
		<style>
			<marginTop value="720:0,1080:37ah"/>
		</style>
		<styleClass value="$MiddleAligned"/>
		<bind name="instance" value="'GalleryViewer';	{ 	_repeatArray		: hints,
											_autoSwitchDelay	: 14,
											_imageWidth			: 900,
											_imageHeight		: 382,
											_currentImageIdx 	: (currentImageIdx + 1)
										}"/>
	</block>
	<block className="ClanBattleVS">
		<bind name="primaryEntityDH" value="'allyClanEntity'; CC.clan; _allyClanId"/>
		<bind name="primaryEntityDH" value="'enemyClanEntity'; CC.clan; _enemyClanId"/>
		<bind name="watchDH" value="'allyClanTag'; ['clanEntity.clan.evTagChanged'];		_allyClanTag	? _allyClanTag	: allyClanEntity.clan.tag"/>
		<bind name="watchDH" value="'enemyClanTag'; ['clanEntity.clan.evTagChanged'];	_enemyClanTag 	? _enemyClanTag	: enemyClanEntity.clan.tag"/>
		<block>
			<style>
				<position value="absolute"/>
				<right value="34px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="allyClanTag"/>
			</block>
		</block>
		<block type="text">
			<style>
				<width value="40px"/>
				<alpha value="0.8"/>
				<textAlign value="center"/>
			</style>
			<styleClass value="$TextDefaultBold21NM"/>
			<bind name="text" value="'vs'"/>
		</block>
		<block>
			<style>
				<position value="absolute"/>
				<left value="34px"/>
			</style>
			<block type="text">
				<styleClass value="$TextDefaultBold21NM"/>
				<bind name="text" value="enemyClanTag"/>
			</block>
		</block>
	</block>
	<block className="TeamBattleLoadingRightPanel">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'RightPanelInfo'; {_headerText: 'IDS_SHIPS_COMPARISON', _infoText: 'IDS_SHIP_COMPARISON_HINT'}"/>
		</block>
		<block>
			<bind name="collectionDH" value="CC.userPrefs; 'userPrefsCollection'"/>
			<bind name="entityDH" value="'userPrefsEntity'; userPrefsCollection[0].id"/>
			<bind name="watchDH" value="'userPrefs'; ['userPrefsEntity.userPrefs.evUserPrefsChanged']; userPrefsEntity.userPrefs.userPrefs"/>
			<bind name="appear" value="'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<marginTop value="6px"/>
				<marginLeft value="2px"/>
				<marginTop value="20px"/>
			</style>
			<bind name="watch" value=" 'showOwnShip'; (userPrefs.showOwnShipInCompare == null) ? false : userPrefs.showOwnShipInCompare"/>
			<bind name="catch" value="'switchOwnShipInCompare'; { showOwnShip: !showOwnShip }; 'saveShowOwnShip'"/>
			<bind name="action" value="'saveShowOwnShip' ; 'setUserPref' ; {value: showOwnShip, name: 'showOwnShipInCompare'}"/>
			<bind name="dispatch" value="'click'; 'switchOwnShipInCompare'"/>
			<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: [{_paragraphText: 'IDS_SHOW_OWN_SHIP_IN_COMPARE_HINT'}],	_maxWidth: 270}"/>
			<bind name="instance" value="'CheckBox'; { switchProperty: showOwnShip, label: 'IDS_SHOW_OWN_SHIP_IN_COMPARE'}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'VoiceChatRightPanelControl'; _isVoiceChatEnabled ? {_battleType: _battleType} : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'InvitationsToDivisionRightPanelControl'; _isDynamicDivisionsEnabled ? {_selfPlayer: _selfPlayer} : null"/>
		</block>
	</block>
	<block className="DynamicDivisionsRightPanel">
		<style>
			<width value="100%"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'RightPanelInfo'; {_headerText: 'IDS_DIVISIONS_IN_BATTLE_HEADER', _infoText: 'IDS_DYNAMIC_DIVISIONS_INFO'}"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'VoiceChatRightPanelControl'; _isVoiceChatEnabled ? {_battleType: _battleType} : null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="2px"/>
			</style>
			<bind name="instance" value="'InvitationsToDivisionRightPanelControl'; _isDynamicDivisionsEnabled ? {_selfPlayer: _selfPlayer} : null"/>
		</block>
	</block>
	<block className="VoiceChatRightPanelControl">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="appear" value="_isBattleStats ?	null : 'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
			<marginTop value="16px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: VoiceChatState.enabled, label: 'IDS_ENABLE_VOICE_CHAT', _maxTfWidth: 180}"/>
		<bind name="action" value="'click'; 'setVoiceChatEnabled'; {enabled: !(VoiceChatState.enabled)}"/>
		<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: ((_battleType == BattleTypes.CLAN_BATTLE)	? [{_paragraphText: 'IDS_ENABLE_VOICE_CHAT_IN_CLUB_BATTLE_HINT'}]
																													: [{_paragraphText: 'IDS_ENABLE_VOICE_CHAT_IN_BATTLE_HINT'}]),
													_maxWidth: 270, _isInBattle: _isBattleStats}"/>
	</block>
	<block className="InvitationsToDivisionRightPanelControl">
		<bind name="appear" value="_isBattleStats ?	null : 'addedToStage'; 0.15; 0.1; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<style>
			<width value="100%"/>
			<marginTop value="16px"/>
		</style>
		<bind name="instance" value="'CheckBox'; {switchProperty: _selfPlayer.invitationsEnabled, label: 'IDS_ENABLE_INVITATIONS_TO_DIVISION', _maxTfWidth: 180}"/>
		<bind name="action" value="'click'; 'toggleInvitationsEnabled'"/>
		<bind name="tooltip" value="'MouseInstructionTooltip';	{	_multiParagraphArray: [{_paragraphText: 'IDS_ENABLE_INVITATIONS_TO_DIVISION_IN_BATTLE_HINT'}],
													_maxWidth: 270, _isInBattle: _isBattleStats}"/>
	</block>
	<block className="UIlistTeamStructureRight">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="2"/>
			<style>
				<flow value="horizontal"/>
				<width value="422px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block>
				<bind name="visible" value="_isBattleStats ? true : false"/>
				<styleClass value="$TableHeaderIconSize"/>
				<block className="sorting" type="native">
					<styleClass value="$MiddleAligned"/>
					<bind name="gotoAndStop!" value="'frags'"/>
				</block>
			</block>
			<block type="text">
				<style>
					<width value="100%"/>
					<textAlign value="right"/>
					<marginRight value="18px"/>
					<marginTop value="2px"/>
					<marginBottom value="2px"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="'IDS_ENEMY_TEAM'"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<bind name="repeat" value="enemies; 'SimpleUIListTeamStructureRight'; {	_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																	_selfPlayer: selfPlayer}"/>
		</block>
	</block>
	<block className="UIlistTeamStructureLeft">
		<bind name="controller" value="lesta.controls.ui_list.UIListController"/>
		<block className="cell_background" type="native">
			<bind name="gotoAndStop!" value="1"/>
			<style>
				<flow value="horizontal"/>
				<width value="422px"/>
			</style>
			<bind name="appear" value="'startShow'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<block type="text">
				<style>
					<width value="100%"/>
					<marginLeft value="18px"/>
					<marginTop value="2px"/>
					<marginBottom value="2px"/>
				</style>
				<styleClass value="$TextHeaderWhiteBold"/>
				<bind name="text" value="'IDS_ALLY_TEAM'"/>
			</block>
			<block>
				<bind name="visible" value="_isBattleStats ? true : false"/>
				<styleClass value="$TableHeaderIconSize"/>
				<block className="sorting" type="native">
					<styleClass value="$MiddleAligned"/>
					<bind name="gotoAndStop!" value="'frags'"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'startShow'; 0.15; 0.75; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<right value="0px"/>
			</style>
			<bind name="repeat" value="allies; 'SimpleUIListTeamStructureLeft'; {_isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats,
																_selfPlayer: selfPlayer, _isDynamicDivisionsEnabled: _isDynamicDivisionsEnabled}"/>
		</block>
	</block>
	<block className="SimpleUIListTeamStructureLeft">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'slimClientData'"/>
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'playersInvitationsDataCollection'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name'; name; 'playerInvitationDataCollection'"/>
		<bind name="watch" value="'playerInvitationData'; playerInvitationDataCollection[0]"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'name'; name; 'playerInCollection'"/>
		<bind name="watch" value="'player'; playerInCollection[0]"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.avatar; id"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; clanId"/>
		<bind name="watchDH" value="'pureName'; 		[]; playerEntity.avatar.pureName"/>
		<bind name="watchDH" value="'clanId'; 		['playerEntity.clanman.evClanIdChanged']; playerEntity.clanman.clanId"/>
		<bind name="watchDH" value="'hidden'; 		[]; playerEntity.avatar.hidden"/>
		<bind name="watchDH" value="'isBot'; 		[]; playerEntity.avatar.isBot"/>
		<bind name="watchDH" value="'clanTag'; 		['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<bind name="visible" value="!(hidden)"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<bind name="watch" value="'isSelf'; (relation == 0)"/>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
			<style>
				<backgroundColor value="0x15000000"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<bind name="visible" value="player.isInSameDivision"/>
			<style>
				<backgroundColor value="0x40ffdc84"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<style>
				<right value="0px"/>
			</style>
			<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
			<block>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="transition" value="(mouseDown || contextMenuVisible || rollOver) &amp;&amp; !(shipCompareTooltipVisible) &amp;&amp; !(isSelf); 0.1; {alpha: 0}; {alpha: 1}"/>
				<block className="dock_submenu_item_bg" type="native">
					<bind name="transition" value="contextMenuVisible; 0.1; {alpha: 1}; {alpha: 0.7}"/>
					<styleClass value="$FullsizeAbsolute"/>
				</block>
				<bind name="tooltip" value="'BattlePlayerTooltip'; {	_isInBattle: _isBattleStats, _isBot: isBot,
													_player: player, _selfPlayer: _selfPlayer,
													_battleType: gameInfo.battleType}"/>
				<bind name="menu" value="'UIListPlayerContextMenu'; (!(isSelf) &amp;&amp; !(isBot))	?	{	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
																					_complaintsAvailable: true, _isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats}
																			: null; null; 'contextMenuVisible'"/>
			</block>
			<block>
				<style>
					<height value="28px"/>
				</style>
				<block>
					<style>
						<position value="absolute"/>
						<marginLeft value="1px"/>
						<hitTest value="false"/>
					</style>
					<bind name="instance" value="'UIListVoiceTextChatIcons'; {	_playerId: id, _selfPlayerDivisionId: _selfPlayer.divisionId,
																_isInSameDivision: isInSameDivision, _battleType: gameInfo.battleType,
																_isSpeaking: isSpeaking, _isVoiceChatMuted: isMuted, _isInVoiceChat: isInVoiceChat}"/>
				</block>
				<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'dynamicDivisionsData'; 'id'; _selfPlayer.divisionId; 'selfPlayerDivisionData'"/>
				<bind name="watch" value="'isFreePlacesInDivision'; ((selfPlayerDivisionData[0].staff.length + selfPlayerDivisionData[0].inPortParticipantsCount) &lt; 3)"/>
				<bind name="watch" value="'invitationDisableReason'; !(slimClientData.isFull)											? 'YourClientIsTooSlim' :
													isSelf																? 'YouCantInviteYourself' :
													!(isAlive)															? 'IDS_INVITATION_DISABLE_REASON_DESTROYED' :
													!(_selfPlayer.isAlive)												? 'IDS_DIVISION_MANAGEMENT_LOCKED_FOR_DESTROYED' :
													player.isLeaver														? 'IDS_INVITATION_DISABLE_REASON_PLAYER_IS_OUT_OF_BATTLE':
													(division != 0)														? 'IDS_INVITATION_DISABLE_REASON_ALREADY_IN_DIVISION' :
													(playerInvitationData != null)										? 'PlayerIsAlreadyInvited' :
													isInSameDivision													? 'PlayerIsAlreadyInYourDivision' :
													(_selfPlayer.division != 0) &amp;&amp; !(_selfPlayer.isDivisionCommander)	? 'IDS_INVITATION_DISABLE_REASON_NOT_COMMANDER' :
													!(isFreePlacesInDivision)											? 'IDS_INVITATION_DISABLE_REASON_NO_FREE_PLACES' :
													!(invitationsEnabled)												? 'IDS_INVITATION_DISABLE_REASON_INVITATIONS_DISABLED' :
													player.inviteCooldownEnabled										? 'IDS_WAIT_TIMEOUT_TO_INVITE_TO_DIVISION'
																														: 'no_reason'"/>
				<block>
					<style>
						<width value="25px"/>
						<height value="100%"/>
					</style>
					<block>
						<bind name="visible" value="(player.division &gt; 0) &amp;&amp; !(player.divisionHidden)"/>
						<style>
							<top value="6px"/>
							<marginLeft value="12px"/>
							<position value="absolute"/>
						</style>
						<block className="division_item" type="native">
							<bind name="gotoAndStop!" value="player.isInSameDivision ? player.divisionSign + 1 : player.divisionSign + 1 + 10"/>
						</block>
					</block>
					<block>
						<bind name="visible" value="_isDynamicDivisionsEnabled"/>
						<styleClass value="$Fullsize"/>
						<block>
							<bind name="visible" value="(playerInvitationData != null)"/>
							<bind name="transition" value="rollOver; 0.15; {alpha: 1}; {alpha: 0}; {alpha: 1}; 1; 0.05"/>
							<style>
								<top value="6px"/>
								<marginLeft value="8px"/>
								<position value="absolute"/>
							</style>
							<block className="formation_player_status" type="native">
								<bind name="gotoAndStop!" value="'empty_slot_division'"/>
							</block>
						</block>
						<block>
							<bind name="transition" value="rollOver; 0.15; {alpha: 0}; {alpha: 1.0}; {alpha: 0}; 1; 0.05"/>
							<block>
								<bind name="visible" value="(invitationDisableReason == 'no_reason')"/>
								<style>
									<marginLeft value="4px"/>
									<top value="3px"/>
									<position value="absolute"/>
								</style>
								<block className="button_division_invite" type="native">
									<bind name="action" value="'buttonClick'; 'inviteToDivision'; {playerId: id, playerName: name, inviteType: InviteType.COMMON}"/>
								</block>
								<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_INVITE_IN_DIVISION'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
							</block>
							<block>
								<bind name="visible" value="(_selfPlayer.isDivisionCommander &amp;&amp; (playerInvitationData != null))"/>
								<style>
									<marginLeft value="2px"/>
									<top value="2px"/>
									<position value="absolute"/>
								</style>
								<block className="button_cross" type="native">
									<bind name="action" value="'buttonClick'; 'revokeInvitationToDivision'; {id: playerInvitationData.id}"/>
								</block>
								<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_RECALL_INVITATION'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
							</block>
						</block>
					</block>
				</block>
				<block>
					<style>
						<width value="137px"/>
						<marginTop value="10px"/>
					</style>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats ? 1 : 0.75)"/>
					<bind name="name" value="'player_tab_name_' + name"/>
					<bind name="instance" value="'PlayerNameAndClanTag'; { 	_isSelf: isSelf, _isDead: !isAlive, _ttkStatus: ttkStatus, _tkStatus: tkStatus,
															_isInSameDivision: isInSameDivision, _playerName: pureName, _clanTag: clanTag}"/>
				</block>
				<block>
					<style>
						<height value="100%"/>
						<width value="122px"/>
						<marginBottom value="-2px"/>
						<backgroundColor value="0x01000000"/>
					</style>
					<bind name="style" value="'hitTest'; _isBattleLoading ? true : false"/>
					<bind name="tooltip" value="'ShipSideCompareTooltip';	_isBattleLoading	? { _shipId: shipId, _selfPlayerShipId: _selfPlayer.shipId,
																					_nonPlayerShipParams: shipParams, _isSelf: isSelf, _nickname: name}
																				: null; TooltipBehaviour.simple; null; 'shipCompareTooltipVisible'"/>
					<bind name="name" value="'player_tab_icon_' + name"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
					<block>
						<style>
							<width value="100%"/>
							<height value="100%"/>
							<hitTest value="false"/>
						</style>
						<bind name="style" value="'backgroundImage'; !isAlive 	? ('url:' + pathDeadShipIcon)
																: isSelf ? ('url:' + pathOwnShipTinyIcon) : ('url:' + pathShipTinyIcon)"/>
					</block>
				</block>
				<block>
					<style>
						<width value="25px"/>
					</style>
					<block type="text">
						<style>
							<marginTop value="10px"/>
							<width value="100%"/>
							<textAlign value="center"/>
							<multiline value="false"/>
							<hitTest value="false"/>
						</style>
						<bind name="class" value="	isSelf		? '$FontColorGolden' :
									!isAlive	? '$FontColorAlmostBlack'
												: '$None'"/>
						<styleClass value="$TextDefaultNM"/>
						<bind name="class" value="isSelf ? '$Bold' : '$None'"/>
						<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
						<bind name="class" value="(!(isAlive) &amp;&amp; !(isSelf)) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="shipRlevel"/>
					</block>
				</block>
				<block>
					<style>
						<width value="90px"/>
					</style>
					<block type="text">
						<bind name="name" value="'player_tab_ship_' + name"/>
						<style>
							<width value="100%"/>
							<marginTop value="10px"/>
							<textAlign value="left"/>
							<multiline value="false"/>
							<hitTest value="false"/>
						</style>
						<bind name="class" value="	isSelf		? '$FontColorGolden' :
									!isAlive 	? '$FontColorAlmostBlack'
										 		: '$None'"/>
						<styleClass value="$TextDefaultNM"/>
						<bind name="class" value="isSelf ? '$Bold' : '$None'"/>
						<bind name="class" value="'$LetterSpacingSmall'"/>
						<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
						<bind name="class" value="(!(isAlive) &amp;&amp; !(isSelf)) ? '$FontDropShadowWhite' : '$None'"/>
						<bind name="text" value="toUpperCase(tr(shipIDS))"/>
					</block>
				</block>
				<block>
					<styleClass value="$MiddleVAligned"/>
					<bind name="name" value="'player_tab_state_' + name"/>
					<style>
						<width value="22px"/>
						<hitTest value="false"/>
					</style>
					<block>
						<bind name="visible" value="_isBattleLoading ? true : false"/>
						<style>
							<width value="100%"/>
						</style>
						<block className="icon_player_status" type="native">
							<bind name="gotoAndStop!" value="isReady ? 'ready' : 'not_ready'"/>
							<styleClass value="$MiddleAligned"/>
							<styleClass value="$MiddleVAligned"/>
						</block>
					</block>
					<block>
						<bind name="visible" value="_isBattleStats &amp;&amp; fragsCount != 0"/>
						<style>
							<width value="100%"/>
						</style>
						<block type="text">
							<styleClass value="$TextHeaderBigDefault"/>
							<style>
								<textAlign value="center"/>
								<width value="100%"/>
								<multiline value="false"/>
							</style>
							<bind name="text" value="fragsCount"/>
						</block>
					</block>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
	<block className="SimpleUIListTeamStructureRight">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'gameInfo'"/>
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'players in battle'; 'name'; name; 'playerInCollection'"/>
		<bind name="watch" value="'player'; playerInCollection[0]"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.avatar; id"/>
		<bind name="primaryEntityDH" value="'clanEntity'; CC.clan; clanId"/>
		<bind name="primaryEntityDH" value="'clanExtendedEntity'; CC.clanExtended; clanId"/>
		<bind name="watchDH" value="'pureName'; 		[]; playerEntity.avatar.pureName"/>
		<bind name="watchDH" value="'clanId'; 		['playerEntity.clanman.evClanIdChanged']; playerEntity.clanman.clanId"/>
		<bind name="watchDH" value="'isBot'; 		[]; playerEntity.avatar.isBot"/>
		<bind name="watchDH" value="'clanTag'; 		['clanEntity.clan.evTagChanged']; clanEntity.clan.tag"/>
		<style>
			<marginTop value="1px"/>
		</style>
		<bind name="appear" value="'startShow'; 0.15; 0.75 + 0.075 * $index; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
		<block>
			<bind name="style" value="'backgroundColor'; $index % 2 == 0 ? '0x15000000' : '0x25000000'"/>
			<style>
				<backgroundColor value="0x15000000"/>
				<position value="absolute"/>
				<height value="28px"/>
				<width value="100%"/>
			</style>
		</block>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="transition" value="(mouseDown || contextMenuVisible || rollOver) &amp;&amp; !(shipCompareTooltipVisible); 0.1; {alpha: 0}; {alpha: 1}"/>
			<block className="dock_submenu_item_bg" type="native">
				<bind name="transition" value="contextMenuVisible; 0.1; {alpha: 1}; {alpha: 0.7}"/>
				<styleClass value="$FullsizeAbsolute"/>
			</block>
			<bind name="tooltip" value="'BattlePlayerTooltip'; {	_isInBattle: _isBattleStats, _isBot: isBot,
												_player: player, _selfPlayer: _selfPlayer,
												_battleType: gameInfo.battleType}"/>
			<bind name="menu" value="'UIListPlayerContextMenu';	!(isBot)	? {	_player: player, _selfPlayer: _selfPlayer, _battleType: gameInfo.battleType,
																_complaintsAvailable: true, _isBattleLoading: _isBattleLoading, _isBattleStats: _isBattleStats}
															: null; null; 'contextMenuVisible'"/>
		</block>
		<block>
			<style>
				<height value="28px"/>
			</style>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<bind name="name" value="'player_tab_state_' + name"/>
				<style>
					<width value="22px"/>
					<hitTest value="false"/>
				</style>
				<block>
					<bind name="visible" value="_isBattleLoading ? true : false"/>
					<style>
						<width value="100%"/>
					</style>
					<block className="icon_player_status" type="native">
						<bind name="gotoAndStop!" value="isReady ? 'ready' : 'not_ready'"/>
						<styleClass value="$MiddleAligned"/>
						<styleClass value="$MiddleVAligned"/>
					</block>
				</block>
				<block>
					<bind name="visible" value="_isBattleStats &amp;&amp; fragsCount != 0"/>
					<style>
						<width value="100%"/>
					</style>
					<block type="text">
						<styleClass value="$TextHeaderBigDefault"/>
						<style>
							<textAlign value="center"/>
							<width value="100%"/>
							<multiline value="false"/>
						</style>
						<bind name="text" value="fragsCount"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<width value="90px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<style>
						<marginTop value="10px"/>
						<width value="100%"/>
						<textAlign value="right"/>
						<multiline value="false"/>
						<hitTest value="false"/>
					</style>
					<bind name="name" value="'player_tab_ship_' + name"/>
					<bind name="class" value="!isAlive ? '$FontColorAlmostBlack' : '$None'"/>
					<bind name="class" value="!isAlive ? '$FontDropShadowWhite' : '$None'"/>
					<bind name="class" value="'$LetterSpacingSmall'"/>
					<bind name="text" value="toUpperCase(tr(shipIDS))"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
			</block>
			<block>
				<style>
					<width value="25px"/>
				</style>
				<block type="text">
					<styleClass value="$TextDefaultNM"/>
					<style>
						<marginTop value="10px"/>
						<width value="100%"/>
						<textAlign value="center"/>
						<multiline value="false"/>
						<hitTest value="false"/>
					</style>
					<bind name="class" value="!isAlive ? '$FontColorAlmostBlack' : '$None'"/>
					<bind name="class" value="!isAlive ? '$FontDropShadowWhite' : '$None'"/>
					<bind name="text" value="shipRlevel"/>
					<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
				</block>
			</block>
			<block>
				<bind name="name" value="'player_tab_icon_' + name"/>
				<style>
					<height value="100%"/>
					<width value="122px"/>
					<marginBottom value="-2px"/>
					<backgroundColor value="0x01000000"/>
				</style>
				<bind name="style" value="'hitTest'; _isBattleLoading ? true : false"/>
				<bind name="tooltip" value="'ShipSideCompareTooltip';	_isBattleLoading	? { _shipId: shipId, _selfPlayerShipId: _selfPlayer.shipId,
																				_nonPlayerShipParams: shipParams, _isSelf: false, _nickname: name}
																			: null; TooltipBehaviour.simple; null; 'shipCompareTooltipVisible'"/>
				<block>
					<style>
						<width value="100%"/>
						<height value="100%"/>
						<marginLeft value="122px"/>
						<hitTest value="false"/>
					</style>
					<bind name="scaleX" value="-1"/>
					<bind name="style" value="'backgroundImage'; !isAlive ? ('url:' + pathDeadShipIcon) : ('url:' + pathShipTinyIcon)"/>
				</block>
				<bind name="style" value="'alpha'; (isReady || _isBattleStats) ? 1 : 0.7"/>
			</block>
			<block>
				<style>
					<width value="137px"/>
					<marginTop value="10px"/>
				</style>
				<bind name="style" value="'alpha'; (isReady || _isBattleStats ? 1 : 0.75)"/>
				<bind name="name" value="'player_tab_name_' + name"/>
				<block>
					<style>
						<width value="100%f"/>
						<right value="0px"/>
						<position value="absolute"/>
					</style>
					<bind name="instance" value="'PlayerNameAndClanTag'; { 	_isDead: !isAlive, _ttkStatus: ttkStatus, 
															_playerName: pureName, _clanTag: clanTag}"/>
				</block>
			</block>
			<block>
				<styleClass value="$MiddleVAligned"/>
				<style>
					<width value="25px"/>
					<hitTest value="false"/>
				</style>
				<block>
					<bind name="visible" value="(division &gt; 0) &amp;&amp; !(divisionHidden)"/>
					<style>
						<marginTop value="1px"/>
					</style>
					<block className="division_item" type="native">
						<bind name="gotoAndStop!" value="isInSameDivision ? divisionSign + 1 : divisionSign + 1 + 10"/>
					</block>
				</block>
			</block>
			<block>
				<style>
					<position value="absolute"/>
					<right value="12"/>
					<hitTest value="false"/>
				</style>
				<bind name="instance" value="'UIListVoiceTextChatIcons'; {	_playerId: id, _isInSameDivision: false,
															_isSpeaking: isSpeaking, _selfPlayerDivisionId: _selfPlayer.divisionId,
															_isVoiceChatMuted: isMuted, _isInVoiceChat: isInVoiceChat}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="BattleDivisionInvitationItem">
		<bind name="controller" value="lesta.unbound.controls.UbInteractiveController"/>
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
		<bind name="appear" value="'addedToStage'; 0.3; 0.35; {alpha: 0}; {alpha: 1}; 2"/>
		<style>
			<marginLeft value="5px"/>
			<width value="260px"/>
			<height value="123px"/>
			<marginRight value="10px"/>
			<marginBottom value="6px"/>
			<backgroundColor value="0x01000000"/>
		</style>
		<block>
			<bind name="visible" value="(_isBattleStats != true) &amp;&amp; optionData.blurEnabled"/>
			<block className="BlurMapCustom">
				<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'optionData'"/>
				<styleClass value="$FullsizeAbsolute"/>
				<style>
					<hitTest value="false"/>
				</style>
				<bind name="visible" value="optionData.blurEnabled"/>
				<block className="mc_blurmap5_feather" type="native">
					<bind name="appear" value="'startShow'; 0.3; 0; {alpha: 0}; {alpha: 1}"/>
					<bind name="appear" value="'startHide'; 0.15; 0; {alpha: 1}; {alpha: 0}"/>
					<styleClass value="$Fullsize"/>
					<bind name="blurMap" value="0"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="visible" value="(_isBattleLoading == true) || !(optionData.blurEnabled) || optionData.contrast"/>
			<styleClass value="$FullsizeAbsolute"/>
			<block className="contrast_panel" type="native">
				<styleClass value="$FullsizeAbsolute"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<height value="26px"/>
				<backgroundColor value="0x01000000"/>
				<marginBottom value="4px"/>
			</style>
			<block className="inner_panel" type="native">
				<style>
					<marginRight value="1px"/>
					<marginLeft value="1px"/>
					<marginTop value="2px"/>
				</style>
				<styleClass value="$FullsizeAbsolute"/>
				<bind name="appear" value="'addedToStage'; 0.3; 0.3; {alpha: 0.5, width: 0}; {alpha: 1, width: 260}; 2"/>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.3; 0; {alpha: 0, top: 30}; {alpha: 1, top: 0}"/>
				<style>
					<left value="3px"/>
					<top value="-4"/>
					<position value="absolute"/>
				</style>
				<block className="icon_formation" type="native">
					<bind name="gotoAndStop!" value="'seeker_division'"/>
				</block>
			</block>
			<block>
				<bind name="appear" value="'addedToStage'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
				<styleClass value="$MiddleAligned"/>
				<bind name="instance" value="'BattlePlayerContactItemSimple'; {_level: senderLevel, _rank: senderRank, _playerName: playerName, _tkStatus: tkStatus}"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
		<block className="button_close" type="native">
			<bind name="appear" value="'addedToStage'; 0.15; 0.45; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<style>
				<right value="8"/>
				<top value="7"/>
				<position value="absolute"/>
			</style>
			<bind name="action" value="'buttonClick'; 'rejectDivisionInvitation'; {id: id}"/>
			<bind name="tooltip" value="'MouseInstructionTooltip'; { _mouseInstructions: [{_type: 'no_icon', _instructionText: 'IDS_REJECT'}], _maxWidth: 250, _isInBattle: _isBattleStats}"/>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.48; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<style>
					<maxWidth value="260"/>
					<textAlign value="center"/>
				</style>
				<bind name="text" value="'IDS_INVITES_YOU_TO_JOIN_DIVISION'"/>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.51; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<marginTop value="-3px"/>
				<marginBottom value="3px"/>
			</style>
			<block type="text">
				<styleClass value="$TextHeader"/>
				<bind name="class" value="'$FontSizeHeader4'"/>
				<bind name="countdown" value="expirationTime; 'countdownText'; 'mm:ss'"/>
				<bind name="pureText" value="'-' + countdownText"/>
			</block>
		</block>
		<block>
			<style>
				<width value="1px"/>
			</style>
			<bind name="appear" value="'addedToStage'; 0.3; 0.3; {alpha: 0, width: 0}; {alpha: 1, width: 260}; 2"/>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
		</block>
		<block>
			<bind name="appear" value="'addedToStage'; 0.15; 0.6; {alpha: 0, top: 10}; {alpha: 1, top: 0}"/>
			<styleClass value="$MiddleAligned"/>
			<style>
				<width value="110px"/>
				<marginTop value="6px"/>
			</style>
			<block className="button_default_small" type="native">
				<style>
					<width value="100%"/>
				</style>
				<bind name="label" value="'IDS_ACCEPT'"/>
				<bind name="action" value="'buttonClick'; 'acceptDivisionInvitation'; {id: id}"/>
			</block>
		</block>
	</block>
	<block className="BattlePlayerContactItemSimple">
		<style>
			<flow value="horizontal"/>
		</style>
		<block type="text">
			<style>
				<marginTop value="3px"/>
			</style>
			<bind name="visible" value="_rank == 0"/>
			<styleClass value="$TextSecondary"/>
			<bind name="text" value="_level"/>
		</block>
		<block>
			<bind name="visible" value="_rank != 0"/>
			<bind name="instance" value="'IconRankSmall'; {_rankId: _rank}"/>
		</block>
		<block type="text">
			<styleClass value="$MiddleVAligned"/>
			<style>
				<marginLeft value="2px"/>
			</style>
			<styleClass value="$TextHeaderBold"/>
			<bind name="class" value="_tkStatus ? '$FontColorTeamkiller' : '$None'"/>
			<bind name="text" value="_playerName"/>
		</block>
	</block>
	<block className="BattlePlayerTooltip">
		<bind name="controller" value="lesta.dialogs.controllers.CollectionController; 'playersInvitedToDivision'; 'name'; _player.name; 'playerInvitationDataCollection'"/>
		<bind name="watch" value="'playerInvitationData'; playerInvitationDataCollection[0]"/>
		<bind name="primaryEntityDH" value="'entityAccountBattle'; CC.avatar; _player.id"/>
		<bind name="watchDH" value="'entityAccountBattleDbId'; [];  entityAccountBattle.accountSimple.dbId"/>
		<bind name="primaryEntityDH" value="'playerEntity'; CC.accountSimple; _playerDbId ? _playerDbId : entityAccountBattleDbId"/>
		<bind name="watchDH" value="'isSelf';		[]; playerEntity.accountSimple.isSelfPlayer"/>
		<bind name="watchDH" value="'relation'; 	['playerEntity.relation.evChanged']; playerEntity.relation.value"/>
		<bind name="watchDH" value="'playerEntityDbId'; [];  playerEntity.accountSimple.dbId"/>
		<bind name="watchDH" value="'ttkStatus'; 			['playerEntity.avatar.evTTKStatusChanged']; playerEntity.avatar.ttkStatus"/>
		<bind name="watchDH" value="'tkStatus'; 			['playerEntity.avatar.evTeamkillStatusChanged']; playerEntity.avatar.tkStatus"/>
		<bind name="watch" value="'isEnemyPlayer';	(relation == 2)"/>
		<styleClass value="$DefaultTooltipBehaviour"/>
		<style>
			<width value="320px"/>
		</style>
		<block>
			<styleClass value="$FullsizeAbsolute"/>
			<bind name="instance" value="'TooltipBackground'; { _isInBattle: _isInBattle }"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<flow value="horizontal"/>
			</style>
			<block>
				<style>
					<marginTop value="9px"/>
					<marginBottom value="9px"/>
					<marginLeft value="9px"/>
					<marginRight value="9px"/>
				</style>
				<bind name="instance" value="'PlayerDogTag'; { _playerDbId: _playerDbId ? _playerDbId : playerEntityDbId, _size: 'small'}"/>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="8px"/>
				</style>
				<bind name="instance" value="'PlayerStereotype'; {	_player: _player,
													_playerDbId: playerEntityDbId,
													_noClanTagColor: !_isInPostBattle,
													_noRank: !_isInPostBattle,
													_noLevel: true,
													_isBot: _isBot,
													_tkStatus: tkStatus,
													_ttkStatus: ttkStatus}"/>
			</block>
		</block>
		<block>
			<bind name="visible" value="_player.isInSameDivision == true"/>
			<style>
				<width value="100%"/>
				<height value="30px"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<style>
					<width value="100%"/>
					<marginTop value="4px"/>
					<marginBottom value="-4px"/>
					<marginLeft value="5px"/>
					<marginRight value="5px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: false, isCommander: _player.isDivisionCommander, isReady: true,
														isInBattle: false, _formationType: 'division'}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorGolden'"/>
					<bind name="watch" value="'playerRoleStr'; 	_player.isDivisionCommander	? tr('IDS_DIVISION_COMMANDER_C')
																			: tr('IDS_IN_DIVISION')"/>
					<bind name="text" value="playerRoleStr"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'BattlePlayerInfoTooltipVoiceChatStatus';	(!(isEnemyPlayer) &amp;&amp;
																	(_player.isInSameDivision || (_battleType == BattleTypes.CLAN_BATTLE)))	? { _isSelf: isSelf,
																																				_player: _player}
																																			: null"/>
		</block>
		<block>
			<style>
				<width value="100%"/>
			</style>
			<bind name="instance" value="'PlayerTooltipInvitationCountdown'; playerInvitationData.expirationTime != null	? { _expirationTime: playerInvitationData.expirationTime,
																											_formationType: 'division',
																											_text: 'IDS_INVITED_IN_DIVISION'}
																										: null"/>
		</block>
		<block>
			<bind name="visible" value="!(isSelf) &amp;&amp; !(_isBot)"/>
			<style>
				<width value="100%"/>
			</style>
			<block className="HorizontalDivider">
				<styleClass value="$PxHorizontalCorrection"/>
				<style>
					<width value="100%"/>
					<height value="3px"/>
				</style>
				<block className="divider_h" type="native">
					<styleClass value="$Fullsize"/>
				</block>
			</block>
			<block>
				<styleClass value="$InfoBlockIndent"/>
				<bind name="instance" value="'MouseInstruction'; {_type: 'right', _instructionText: 'IDS_HINT_RIGHT_CLICK_FOR_CONTEXT_MENU', _maxWidth: 220}"/>
			</block>
		</block>
	</block>
	<block className="BattlePlayerInfoTooltipVoiceChatStatus">
		<bind name="controller" value="lesta.dialogs.controllers.EntitySingletonController; 'VoiceChatState'"/>
		<bind name="watch" value="'voiceChatStatusText';	_isSelf						?	VoiceChatState.enabled	? 	'IDS_VOICE_CHAT_ENABLED'
																								:	'IDS_VOICE_CHAT_DISABLED' :
										!(_player.isInVoiceChat)	?	'IDS_PLAYER_IS_NOT_AVAILABLE_IN_VOICE_CHAT'	:
										_player.isMuted				?	'IDS_PLAYER_IS_MUTED_IN_VOICE_CHAT'
																	:	'IDS_PLAYER_IS_AVAILABLE_IN_VOICE_CHAT'"/>
		<bind name="watch" value="'state';	_isSelf 					? !(VoiceChatState.enabled)	? 'disabled'
																					: 'speak' :
							!(_player.isInVoiceChat) 	? 'disabled' :
							_player.isMuted				? 'muted'
														: 'speak'"/>
		<bind name="visible" value="(_isSelf || VoiceChatState.enabled)"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginLeft value="10px"/>
				<marginRight value="8px"/>
				<marginTop value="4px"/>
				<marginBottom value="5px"/>
			</style>
			<block className="icon_voice_chat_small" type="native">
				<style>
					<top value="6px"/>
					<marginRight value="4px"/>
				</style>
				<bind name="gotoAndStop!" value="state"/>
			</block>
			<block type="text">
				<styleClass value="$TextDefault"/>
				<bind name="class" value="(state == 'speak' ? '$FontColorWhite' : '$FontColorUnready')"/>
				<style>
					<maxWidth value="210"/>
				</style>
				<bind name="text" value="voiceChatStatusText"/>
			</block>
			<style>
				<flow value="horizontal"/>
			</style>
		</block>
	</block>
	<block className="PlayerTooltipInvitationCooldown">
		<bind name="countdown" value="_expirationTime; 'countdownText'; 'mm:ss'"/>
		<style>
			<width value="100%"/>
		</style>
		<block className="HorizontalDivider">
			<styleClass value="$PxHorizontalCorrection"/>
			<style>
				<width value="100%"/>
				<height value="3px"/>
			</style>
			<block className="divider_h" type="native">
				<styleClass value="$Fullsize"/>
			</block>
		</block>
		<block>
			<style>
				<width value="100%"/>
				<marginTop value="4px"/>
				<marginLeft value="7px"/>
				<marginRight value="4px"/>
				<marginBottom value="3px"/>
			</style>
			<block>
				<style>
					<width value="100%"/>
					<marginRight value="6px"/>
				</style>
				<block>
					<style>
						<marginLeft value="4px"/>
					</style>
					<bind name="instance" value="'FormationPlayerIcon'; {_isEmptySlot: true, _formationType: _formationType}"/>
				</block>
				<block type="text">
					<style>
						<marginLeft value="4px"/>
						<maxWidth value="158"/>
						<leading value="-3"/>
					</style>
					<styleClass value="$TextDefaultBold"/>
					<bind name="class" value="'$FontColorWhite'"/>
					<bind name="text" value="_text"/>
				</block>
				<block type="text">
					<style>
						<top value="-4px"/>
					</style>
					<styleClass value="$TextHeaderBigDefault"/>
					<styleClass value="$AlignRight"/>
					<bind name="class" value="'$FontSizeHeader6'"/>
					<bind name="pureText" value="'-' + countdownText"/>
				</block>
				<style>
					<flow value="horizontal"/>
				</style>
			</block>
		</block>
	</block>
</ui>
